@CHARSET "UTF-8";

$primary-color: #0089cc;
$secondary-color: #A6DBFF;

$alternative-primary-color: #ffa200;
$alternative-secondary-color: #ffcf8c;

$dark-color: #24282a;

$base-font-family: "IBMPlexSans";

$sidebar-width: 10rem;

@import "mixin/webfont";
@import "vx/functions";
@import "vx/icon_variables";
@import "vx/tree";

@import "../node_modules/spectre.css/src/spectre";
@import "../node_modules/spectre.css/src/spectre-exp";
@import "spectre-mods/spectre_offsets";

@include font-face(icomoon, "../fonts/icomoon/icomoon", null, null, woff woff2);

@include font-face(IBMPlexSansCondensed, "../fonts/IBM Plex Sans Condensed/IBMPlexSansCondensed-Regular", normal, normal, woff woff2);
@include font-face(IBMPlexSansCondensed, "../fonts/IBM Plex Sans Condensed/IBMPlexSansCondensed-Italic", normal, italic, woff woff2);
@include font-face(IBMPlexSansCondensed, "../fonts/IBM Plex Sans Condensed/IBMPlexSansCondensed-Bold", bold, normal, woff woff2);
@include font-face(IBMPlexSansCondensed, "../fonts/IBM Plex Sans Condensed/IBMPlexSansCondensed-BoldItalic", bold, italic, woff woff2);

@include font-face(IBMPlexSans, "../fonts/IBM Plex Sans/IBMPlexSans-Regular", normal, normal, woff woff2);
@include font-face(IBMPlexSans, "../fonts/IBM Plex Sans/IBMPlexSans-Italic", normal, italic, woff woff2);
@include font-face(IBMPlexSans, "../fonts/IBM Plex Sans/IBMPlexSans-Bold", bold, normal, woff woff2);
@include font-face(IBMPlexSans, "../fonts/IBM Plex Sans/IBMPlexSans-BoldItalic", bold, italic, woff woff2);

/*
  additions and extensions to spectre.css
*/
.navbar {
  background: $gray-color-light;
  padding: $unit-2;

  .navbar-section:first-child {
    & > .btn {
      margin-right: $unit-2;
    }
  }

  .navbar-section:last-child {
    & > .btn {
      margin-left: $unit-2;
    }
  }
}

.modal-container {
  max-height: 90vh;
}

.nav-item {
  & > span {
    padding: $unit-1 $unit-2;
  }
  &.active > span {
    font-weight: bold;
  }
}

.with-webfont-icon-left {
  &:before {
    font-family: icomoon;
    content: attr(data-icon);
    display: inline-block;
    padding-right: 0.4rem;
  }
}

.with-webfont-icon-right {
  &:after {
    font-family: icomoon;
    content: attr(data-icon);
    display: inline-block;
    padding-left: 0.4rem;
  }
}

.webfont-icon-only {
  display: inline-block;
  font-family: icomoon;

  &.tooltip:after {
    font-family: $base-font-family;
  }
}

a.webfont-icon-only {
  text-decoration: none;
}

.text-smaller {
  font-size: 80%;
}

.form-content {
  max-width: 50rem;
}

.error {
  @extend .is-error;
}

.tab-item.disabled {
  a:hover {
    cursor: not-allowed;
  }
}

.calendar {
  @include shadow-variant(.05rem);
  background: white;
  max-width: 16rem;

  &.cw {
    .calendar-body,
    .calendar-header {
      .calendar-date {
        max-width: percentage(1 / 8);
      }

      .cw {
        border-right: solid $border-width $gray-color-light;
      }
    }
  }

  span.date-item {
    display: block;
    cursor: default;
  }

  .prvMon,
  .prvYear {
    &:before {
      font-family: icomoon;
      content: "\e025";
    }
  }

  .nxtMon,
  .nxtYear {
    &:before {
      font-family: icomoon;
      content: "\e023";
    }
  }

}

// custom layout

html, body {
  height: 100%;
}

.single-column {
  width: 100%;
  max-width: 640px;
  padding: $unit-10 $unit-5;
  margin: 0 auto;
}

#page {
  height: 100%;

  & > .columns {
    height: 100%;
    align-items: stretch;
  }
}

#sidebar {
  padding: 4rem 1rem 1rem 1rem;
  border-right: solid $unit-o $gray-color-light;
  max-width: $sidebar-width;
  transition: margin-left 0.2s ease-in-out;

  &.hidden {
    margin-left: -$sidebar-width;
  }

  & > .nav {
    position: fixed;
  }
}

#content {
  padding: 4rem 1rem 1rem 1rem;
}

#messageBox {
  position: fixed;
  z-index: $zindex-4 + 1;
  max-width: 30rem;
  left: 50%;
  transform: translateX(-50%);
  top: -2rem;
  opacity: 0;
  transition: top 0.5s ease-in-out, opacity 0.5s;

  &.display {
    top: 0;
    opacity: 1;
  }
}

/*
  custom classes
 */
.vx-navbar {
  @extend .navbar;
  position: fixed;
  width: 100%;
  z-index: $zindex-2;
  background: $gray-color-light;
}

.vx-button-bar {
  display: flex;
  align-items: center;
  background: tint($primary-color, 70%);
  padding: 0.6rem 0.4rem;
}

.vx-error-box {
  display: none;

  &.error {
    color: $error-color;
    display: block;
  }
}

th.vx-sortable-header {
  &:before {
    font-family: icomoon;
    font-weight: normal;
    vertical-align: middle;
    font-size: 150%;
  }

  &.desc {
    &:before {
      content: "\e033";
    }
  }

  &.asc {
    &:before {
      content: "\e031";
    }
  }
}

table.table-striped tbody td.active,
table.table-striped tbody tr.active {
  background: lighten($alternative-secondary-color, 20%);
}
table.table-striped tbody tr:nth-of-type(2n+1) td.active,
table.table-striped tbody tr:nth-of-type(2n+1).active {
  background: lighten($alternative-secondary-color, 10%);
}

.vx-activity-indicator {
  padding-left: 1rem;
  padding-right: 1rem;
}

.vx-progress-bar {
  display: inline-block;
  opacity: 0;
  transition: opacity 0.5s ease 0s;

  &.shown {
    opacity: 1;
    transition: opacity 0.5s ease 0s;
  }

}

.display-only-on-hover {
  visibility: hidden;
  opacity: 0;
  transition: opacity 0.25s;
}

td:hover .display-only-on-hover {
  visibility: visible;
  opacity: 1;
}

.dragged-over {
  border: solid $unit-1 $alternative-primary-color;
  margin: -$unit-1;
}

#linkedFilesTable {

  tr {
    td:first-child {
      vertical-align: middle;
      text-align: center;
      cursor: move;

      &:before {
        visibility: hidden;
        font-family: icomoon;
        content: "\e03a";
        font-size: 200%;
        color: $primary-color-dark;
      }
    }

    &:hover {
      td:first-child:before {
        visibility: visible;
      }
    }

    &.dragged {
      background: $alternative-primary-color;
      td:first-child {
        visibility: visible;
      }
    }

    &.insertAbove {
      border-top: solid $unit-1 $alternative-primary-color;
    }

    &.insertBelow {
      border-bottom: solid $unit-1 $alternative-primary-color;
    }
  }
}
