(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["vxweb"]=e():t["vxweb"]=e()})("undefined"!==typeof self?self:this,(function(){return function(t){var e={};function s(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,s),r.l=!0,r.exports}return s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(i,r,function(e){return t[e]}.bind(null,r));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s="fae3")}({"11b0":function(t,e,s){(function(t,s){s(e)})(0,(function(t){"use strict";var e={inject:["manager"],props:{index:{type:Number,required:!0},collection:{type:[String,Number],default:"default"},disabled:{type:Boolean,default:!1}},mounted:function(){var t=this.$props,e=t.collection,s=t.disabled,i=t.index;s||this.setDraggable(e,i)},watch:{index:function(t){this.$el&&this.$el.sortableInfo&&(this.$el.sortableInfo.index=t)},disabled:function(t){t?this.removeDraggable(this.collection):this.setDraggable(this.collection,this.index)},collection:function(t,e){this.removeDraggable(e),this.setDraggable(t,this.index)}},beforeDestroy:function(){var t=this.collection,e=this.disabled;e||this.removeDraggable(t)},methods:{setDraggable:function(t,e){var s=this.$el;s.sortableInfo={index:e,collection:t,manager:this.manager},this.ref={node:s},this.manager.add(t,this.ref)},removeDraggable:function(t){this.manager.remove(t,this.ref)}}},s=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=function(){function t(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,s,i){return s&&t(e.prototype,s),i&&t(e,i),e}}(),r=function(){function t(t,e){var s=[],i=!0,r=!1,n=void 0;try{for(var a,o=t[Symbol.iterator]();!(i=(a=o.next()).done);i=!0)if(s.push(a.value),e&&s.length===e)break}catch(l){r=!0,n=l}finally{try{!i&&o["return"]&&o["return"]()}finally{if(r)throw n}}return s}return function(e,s){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,s);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=function(t){if(Array.isArray(t)){for(var e=0,s=Array(t.length);e<t.length;e++)s[e]=t[e];return s}return Array.from(t)},a=function(){function t(){s(this,t),this.refs={}}return i(t,[{key:"add",value:function(t,e){this.refs[t]||(this.refs[t]=[]),this.refs[t].push(e)}},{key:"remove",value:function(t,e){var s=this.getIndex(t,e);-1!==s&&this.refs[t].splice(s,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var t=this;return this.refs[this.active.collection].find((function(e){var s=e.node;return s.sortableInfo.index==t.active.index}))}},{key:"getIndex",value:function(t,e){return this.refs[t].indexOf(e)}},{key:"getOrderedRefs",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active.collection;return this.refs[t].sort((function(t,e){return t.node.sortableInfo.index-e.node.sortableInfo.index}))}}]),t}();function o(t,e,s){var i=t.slice(0);if(s>=i.length){var r=s-i.length;while(1+r--)i.push(void 0)}return i.splice(s,0,i.splice(e,1)[0]),i}var l={start:["touchstart","mousedown"],move:["touchmove","mousemove"],end:["touchend","touchcancel","mouseup"]},c=function(){if("undefined"===typeof window||"undefined"===typeof document)return"";var t=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],e=(Array.prototype.slice.call(t).join("").match(/-(moz|webkit|ms)-/)||""===t.OLink&&["","o"])[1];switch(e){case"ms":return"ms";default:return e&&e.length?e[0].toUpperCase()+e.substr(1):""}}();function u(t,e){while(t){if(e(t))return t;t=t.parentNode}}function d(t,e,s){return s<t?t:s>e?e:s}function h(t){return"px"===t.substr(-2)?parseFloat(t):0}function f(t){var e=window.getComputedStyle(t);return{top:h(e.marginTop),right:h(e.marginRight),bottom:h(e.marginBottom),left:h(e.marginLeft)}}var m={data:function(){return{sorting:!1,sortingIndex:null,manager:new a,events:{start:this.handleStart,move:this.handleMove,end:this.handleEnd}}},props:{value:{type:Array,required:!0},axis:{type:String,default:"y"},distance:{type:Number,default:0},pressDelay:{type:Number,default:0},pressThreshold:{type:Number,default:5},useDragHandle:{type:Boolean,default:!1},useWindowAsScrollContainer:{type:Boolean,default:!1},hideSortableGhost:{type:Boolean,default:!0},lockToContainerEdges:{type:Boolean,default:!1},lockOffset:{type:[String,Number,Array],default:"50%"},transitionDuration:{type:Number,default:300},appendTo:{type:String,default:"body"},draggedSettlingDuration:{type:Number,default:null},lockAxis:String,helperClass:String,contentWindow:Object,shouldCancelStart:{type:Function,default:function(t){var e=["input","textarea","select","option","button"];return-1!==e.indexOf(t.target.tagName.toLowerCase())}},getHelperDimensions:{type:Function,default:function(t){var e=t.node;return{width:e.offsetWidth,height:e.offsetHeight}}}},provide:function(){return{manager:this.manager}},mounted:function(){var t=this;this.container=this.$el,this.document=this.container.ownerDocument||document,this._window=this.contentWindow||window,this.scrollContainer=this.useWindowAsScrollContainer?this.document.body:this.container;var e=function(e){t.events.hasOwnProperty(e)&&l[e].forEach((function(s){return t.container.addEventListener(s,t.events[e],!1)}))};for(var s in this.events)e(s)},beforeDestroy:function(){var t=this,e=function(e){t.events.hasOwnProperty(e)&&l[e].forEach((function(s){return t.container.removeEventListener(s,t.events[e])}))};for(var s in this.events)e(s)},methods:{handleStart:function(t){var e=this,s=this.$props,i=s.distance,r=s.shouldCancelStart;if(2===t.button||r(t))return!1;this._touched=!0,this._pos={x:t.pageX,y:t.pageY};var n=u(t.target,(function(t){return null!=t.sortableInfo}));if(n&&n.sortableInfo&&this.nodeIsChild(n)&&!this.sorting){var a=this.$props.useDragHandle,o=n.sortableInfo,l=o.index,c=o.collection;if(a&&!u(t.target,(function(t){return null!=t.sortableHandle})))return;this.manager.active={index:l,collection:c},"a"===t.target.tagName.toLowerCase()&&t.preventDefault(),i||(0===this.$props.pressDelay?this.handlePress(t):this.pressTimer=setTimeout((function(){return e.handlePress(t)}),this.$props.pressDelay))}},nodeIsChild:function(t){return t.sortableInfo.manager===this.manager},handleMove:function(t){var e=this.$props,s=e.distance,i=e.pressThreshold;if(!this.sorting&&this._touched){this._delta={x:this._pos.x-t.pageX,y:this._pos.y-t.pageY};var r=Math.abs(this._delta.x)+Math.abs(this._delta.y);s||i&&!(i&&r>=i)?s&&r>=s&&this.manager.isActive()&&this.handlePress(t):(clearTimeout(this.cancelTimer),this.cancelTimer=setTimeout(this.cancel,0))}},handleEnd:function(){var t=this.$props.distance;this._touched=!1,t||this.cancel()},cancel:function(){this.sorting||(clearTimeout(this.pressTimer),this.manager.active=null)},handlePress:function(t){var e=this,s=this.manager.getActive();if(s){var i=this.$props,r=i.axis,a=i.getHelperDimensions,o=i.helperClass,c=i.hideSortableGhost,u=i.useWindowAsScrollContainer,d=i.appendTo,h=s.node,m=s.collection,p=h.sortableInfo.index,v=f(h),g=this.container.getBoundingClientRect(),b=a({index:p,node:h,collection:m});this.node=h,this.margin=v,this.width=b.width,this.height=b.height,this.marginOffset={x:this.margin.left+this.margin.right,y:Math.max(this.margin.top,this.margin.bottom)},this.boundingClientRect=h.getBoundingClientRect(),this.containerBoundingRect=g,this.index=p,this.newIndex=p,this._axis={x:r.indexOf("x")>=0,y:r.indexOf("y")>=0},this.offsetEdge=this.getEdgeOffset(h),this.initialOffset=this.getOffset(t),this.initialScroll={top:this.scrollContainer.scrollTop,left:this.scrollContainer.scrollLeft},this.initialWindowScroll={top:window.pageYOffset,left:window.pageXOffset};var y,_=h.querySelectorAll("input, textarea, select"),x=h.cloneNode(!0),C=[].concat(n(x.querySelectorAll("input, textarea, select")));if(C.forEach((function(t,e){"file"!==t.type&&_[e]&&(t.value=_[e].value)})),this.helper=this.document.querySelector(d).appendChild(x),this.helper.style.position="fixed",this.helper.style.top=this.boundingClientRect.top-v.top+"px",this.helper.style.left=this.boundingClientRect.left-v.left+"px",this.helper.style.width=this.width+"px",this.helper.style.height=this.height+"px",this.helper.style.boxSizing="border-box",this.helper.style.pointerEvents="none",c&&(this.sortableGhost=h,h.style.visibility="hidden",h.style.opacity=0),this.translate={},this.minTranslate={},this.maxTranslate={},this._axis.x&&(this.minTranslate.x=(u?0:g.left)-this.boundingClientRect.left-this.width/2,this.maxTranslate.x=(u?this._window.innerWidth:g.left+g.width)-this.boundingClientRect.left-this.width/2),this._axis.y&&(this.minTranslate.y=(u?0:g.top)-this.boundingClientRect.top-this.height/2,this.maxTranslate.y=(u?this._window.innerHeight:g.top+g.height)-this.boundingClientRect.top-this.height/2),o)(y=this.helper.classList).add.apply(y,n(o.split(" ")));this.listenerNode=t.touches?h:this._window,l.move.forEach((function(t){return e.listenerNode.addEventListener(t,e.handleSortMove,!1)})),l.end.forEach((function(t){return e.listenerNode.addEventListener(t,e.handleSortEnd,!1)})),this.sorting=!0,this.sortingIndex=p,this.$emit("sort-start",{event:t,node:h,index:p,collection:m})}},handleSortMove:function(t){t.preventDefault(),this.updatePosition(t),this.animateNodes(),this.autoscroll(),this.$emit("sort-move",{event:t})},handleSortEnd:function(t){var e=this,s=this.manager.active.collection;this.listenerNode&&(l.move.forEach((function(t){return e.listenerNode.removeEventListener(t,e.handleSortMove)})),l.end.forEach((function(t){return e.listenerNode.removeEventListener(t,e.handleSortEnd)})));var i=this.manager.refs[s],r=function(){e.helper.parentNode.removeChild(e.helper),e.hideSortableGhost&&e.sortableGhost&&(e.sortableGhost.style.visibility="",e.sortableGhost.style.opacity="");for(var r=0,n=i.length;r<n;r++){var a=i[r],l=a.node;a.edgeOffset=null,l.style[c+"Transform"]="",l.style[c+"TransitionDuration"]=""}clearInterval(e.autoscrollInterval),e.autoscrollInterval=null,e.manager.active=null,e.sorting=!1,e.sortingIndex=null,e.$emit("sort-end",{event:t,oldIndex:e.index,newIndex:e.newIndex,collection:s}),e.$emit("input",o(e.value,e.index,e.newIndex)),e._touched=!1};this.$props.transitionDuration||this.$props.draggedSettlingDuration?this.transitionHelperIntoPlace(i).then((function(){return r()})):r()},transitionHelperIntoPlace:function(t){var e=this;if(0===this.$props.draggedSettlingDuration)return Promise.resolve();var s={left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top},i=t[this.index].node,r=t[this.newIndex].node,n=-s.left;this.translate&&this.translate.x>0?n+=r.offsetLeft+r.offsetWidth-(i.offsetLeft+i.offsetWidth):n+=r.offsetLeft-i.offsetLeft;var a=-s.top;this.translate&&this.translate.y>0?a+=r.offsetTop+r.offsetHeight-(i.offsetTop+i.offsetHeight):a+=r.offsetTop-i.offsetTop;var o=null!==this.$props.draggedSettlingDuration?this.$props.draggedSettlingDuration:this.$props.transitionDuration;return this.helper.style[c+"Transform"]="translate3d("+n+"px,"+a+"px, 0)",this.helper.style[c+"TransitionDuration"]=o+"ms",new Promise((function(t){var s=function(s){s&&"transform"!==s.propertyName||(clearTimeout(i),e.helper.style[c+"Transform"]="",e.helper.style[c+"TransitionDuration"]="",t())},i=setTimeout(s,o+10);e.helper.addEventListener("transitionend",s,!1)}))},getEdgeOffset:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{top:0,left:0};if(t){var s={top:e.top+t.offsetTop,left:e.left+t.offsetLeft};return t.parentNode!==this.container?this.getEdgeOffset(t.parentNode,s):s}},getOffset:function(t){return{x:t.touches?t.touches[0].pageX:t.pageX,y:t.touches?t.touches[0].pageY:t.pageY}},getLockPixelOffsets:function(){var t=this.$props.lockOffset;if(Array.isArray(this.lockOffset)||(t=[t,t]),2!==t.length)throw new Error("lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given "+t);var e=t,s=r(e,2),i=s[0],n=s[1];return[this.getLockPixelOffset(i),this.getLockPixelOffset(n)]},getLockPixelOffset:function(t){var e=t,s=t,i="px";if("string"===typeof t){var r=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(t);if(null===r)throw new Error('lockOffset value should be a number or a string of a number followed by "px" or "%". Given '+t);e=s=parseFloat(t),i=r[1]}if(!isFinite(e)||!isFinite(s))throw new Error("lockOffset value should be a finite. Given "+t);return"%"===i&&(e=e*this.width/100,s=s*this.height/100),{x:e,y:s}},updatePosition:function(t){var e=this.$props,s=e.lockAxis,i=e.lockToContainerEdges,n=this.getOffset(t),a={x:n.x-this.initialOffset.x,y:n.y-this.initialOffset.y};if(a.y-=window.pageYOffset-this.initialWindowScroll.top,a.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=a,i){var o=this.getLockPixelOffsets(),l=r(o,2),u=l[0],h=l[1],f={x:this.width/2-u.x,y:this.height/2-u.y},m={x:this.width/2-h.x,y:this.height/2-h.y};a.x=d(this.minTranslate.x+f.x,this.maxTranslate.x-m.x,a.x),a.y=d(this.minTranslate.y+f.y,this.maxTranslate.y-m.y,a.y)}"x"===s?a.y=0:"y"===s&&(a.x=0),this.helper.style[c+"Transform"]="translate3d("+a.x+"px,"+a.y+"px, 0)"},animateNodes:function(){var t=this.$props,e=t.transitionDuration,s=t.hideSortableGhost,i=this.manager.getOrderedRefs(),r={left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top},n={left:this.offsetEdge.left+this.translate.x+r.left,top:this.offsetEdge.top+this.translate.y+r.top},a={top:window.pageYOffset-this.initialWindowScroll.top,left:window.pageXOffset-this.initialWindowScroll.left};this.newIndex=null;for(var o=0,l=i.length;o<l;o++){var u=i[o].node,d=u.sortableInfo.index,h=u.offsetWidth,f=u.offsetHeight,m={width:this.width>h?h/2:this.width/2,height:this.height>f?f/2:this.height/2},p={x:0,y:0},v=i[o].edgeOffset;v||(i[o].edgeOffset=v=this.getEdgeOffset(u));var g=o<i.length-1&&i[o+1],b=o>0&&i[o-1];g&&!g.edgeOffset&&(g.edgeOffset=this.getEdgeOffset(g.node)),d!==this.index?(e&&(u.style[c+"TransitionDuration"]=e+"ms"),this._axis.x?this._axis.y?d<this.index&&(n.left+a.left-m.width<=v.left&&n.top+a.top<=v.top+m.height||n.top+a.top+m.height<=v.top)?(p.x=this.width+this.marginOffset.x,v.left+p.x>this.containerBoundingRect.width-m.width&&(p.x=g.edgeOffset.left-v.left,p.y=g.edgeOffset.top-v.top),null===this.newIndex&&(this.newIndex=d)):d>this.index&&(n.left+a.left+m.width>=v.left&&n.top+a.top+m.height>=v.top||n.top+a.top+m.height>=v.top+f)&&(p.x=-(this.width+this.marginOffset.x),v.left+p.x<this.containerBoundingRect.left+m.width&&(p.x=b.edgeOffset.left-v.left,p.y=b.edgeOffset.top-v.top),this.newIndex=d):d>this.index&&n.left+a.left+m.width>=v.left?(p.x=-(this.width+this.marginOffset.x),this.newIndex=d):d<this.index&&n.left+a.left<=v.left+m.width&&(p.x=this.width+this.marginOffset.x,null==this.newIndex&&(this.newIndex=d)):this._axis.y&&(d>this.index&&n.top+a.top+m.height>=v.top?(p.y=-(this.height+this.marginOffset.y),this.newIndex=d):d<this.index&&n.top+a.top<=v.top+m.height&&(p.y=this.height+this.marginOffset.y,null==this.newIndex&&(this.newIndex=d))),u.style[c+"Transform"]="translate3d("+p.x+"px,"+p.y+"px,0)"):s&&(this.sortableGhost=u,u.style.visibility="hidden",u.style.opacity=0)}null==this.newIndex&&(this.newIndex=this.index)},autoscroll:function(){var t=this,e=this.translate,s={x:0,y:0},i={x:1,y:1},r={x:10,y:10};e.y>=this.maxTranslate.y-this.height/2?(s.y=1,i.y=r.y*Math.abs((this.maxTranslate.y-this.height/2-e.y)/this.height)):e.x>=this.maxTranslate.x-this.width/2?(s.x=1,i.x=r.x*Math.abs((this.maxTranslate.x-this.width/2-e.x)/this.width)):e.y<=this.minTranslate.y+this.height/2?(s.y=-1,i.y=r.y*Math.abs((e.y-this.height/2-this.minTranslate.y)/this.height)):e.x<=this.minTranslate.x+this.width/2&&(s.x=-1,i.x=r.x*Math.abs((e.x-this.width/2-this.minTranslate.x)/this.width)),this.autoscrollInterval&&(clearInterval(this.autoscrollInterval),this.autoscrollInterval=null,this.isAutoScrolling=!1),0===s.x&&0===s.y||(this.autoscrollInterval=setInterval((function(){t.isAutoScrolling=!0;var e={left:1*i.x*s.x,top:1*i.y*s.y};t.scrollContainer.scrollTop+=e.top,t.scrollContainer.scrollLeft+=e.left,t.translate.x+=e.left,t.translate.y+=e.top,t.animateNodes()}),5))}}},p={bind:function(t){t.sortableHandle=!0}},v={name:"slick-list",mixins:[m],render:function(t){return t("div",this.$slots.default)}},g={name:"slick-item",mixins:[e],render:function(t){return t("div",this.$slots.default)}};t.ElementMixin=e,t.ContainerMixin=m,t.HandleDirective=p,t.SlickList=v,t.SlickItem=g,t.arrayMove=o,Object.defineProperty(t,"__esModule",{value:!0})}))},fae3:function(t,e,s){"use strict";var i;(s.r(e),"undefined"!==typeof window)&&((i=window.document.currentScript)&&(i=i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(s.p=i[1]));var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:[{display:t.isActive},t.classname,"toast"],attrs:{id:"messageBox"}},[t._v(" "+t._s(t.message)+" "),s("button",{staticClass:"btn btn-clear float-right",on:{click:function(e){t.isActive=!1}}})])},n=[],a={data:()=>({activeTimeout:null,isActive:!1}),props:{message:String,classname:String,timeout:{type:Number,default:5e3},active:{type:Boolean,default:!1}},watch:{active(t){this.isActive=t},isActive(){this.setTimeout()}},mounted(){this.setTimeout()},methods:{setTimeout(){window.clearTimeout(this.activeTimeout),this.isActive&&this.timeout&&(this.activeTimeout=window.setTimeout(()=>{this.isActive=!1},this.timeout))}}},o=a;function l(t,e,s,i,r,n,a,o){var l,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=s,c._compiled=!0),i&&(c.functional=!0),n&&(c._scopeId="data-v-"+n),a?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=l):r&&(l=o?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:c}}var c=l(o,r,n,!1,null,null,null),u=c.exports,d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{staticClass:"circular-progress",attrs:{height:t.size,width:t.size}},[s("circle",{attrs:{stroke:"white",fill:"transparent","stroke-width":t.strokeWidth,r:t.normalizedRadius,cx:t.radius,cy:t.radius}}),s("circle",{style:{strokeDashoffset:t.strokeDashoffset},attrs:{stroke:t.color,fill:"transparent","stroke-dasharray":t.circumference+" "+t.circumference,"stroke-width":t.strokeWidth,r:t.normalizedRadius,cx:t.radius,cy:t.radius}})])},h=[],f={name:"circular-progress",props:{progress:Number,radius:{type:Number,default:24},strokeWidth:{type:Number,default:8},color:{type:String,default:"white"}},computed:{size(){return 2*this.radius},normalizedRadius(){return this.radius-this.strokeWidth/2},circumference(){return 2*this.normalizedRadius*Math.PI},strokeDashoffset(){return this.circumference-this.progress/100*this.circumference}}},m=f,p=l(m,d,h,!1,null,null,null),v=p.exports,g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",t._b({ref:"container"},"div",t.containerProps,!1),[s("input",t._g(t._b({ref:"input",on:{input:t.handleInput,keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleEnter(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.handleEsc(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"tab",9,e.key,"Tab")?null:t.handleTab(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:(e.preventDefault(),t.handleUp(e))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:(e.preventDefault(),t.handleDown(e))}],focus:t.handleFocus,blur:t.handleBlur}},"input",t.inputProps,!1),t.$listeners)),s("ul",t._b({ref:"resultList",on:{click:t.handleResultClick,mousedown:function(t){t.preventDefault()}}},"ul",t.resultListProps,!1),[t._l(t.results,(function(e,i){return[t._t("result",[s("li",t._b({key:t.resultProps[i].id},"li",t.resultProps[i],!1),[t._v(" "+t._s(t.getResultValue(e))+" ")])],{result:e,props:t.resultProps[i]})]}))],2)])},b=[];let y=function(){let t=0;return function(e){return(e||"")+ ++t}}();var _={name:"Autocomplete",inheritAttrs:!1,props:{search:{type:Function,required:!0},baseClass:{type:String,default:"form-autocomplete"},resultListClass:{type:String,default:"menu"},resultClass:{type:String,default:"menu-item"},inputClass:{type:String,default:"autocomplete-input form-input"},autoSelect:{type:Boolean,default:!1},getResultValue:{type:Function,default:t=>t},defaultValue:{type:String,default:""}},data(){return{value:this.defaultValue,resultListId:y(this.resultListClass+"-"),results:[],selectedIndex:-1,searchCounter:0,expanded:!1,loading:!1,position:"below",resetPosition:!0}},watch:{defaultValue(t){this.value=t}},computed:{containerProps(){return{class:this.baseClass,style:{position:"relative"},"data-expanded":this.expanded,"data-loading":this.loading,"data-position":this.position}},inputProps(){return{class:this.inputClass,value:this.value,role:"combobox",autocomplete:"off",autocapitalize:"off",autocorrect:"off",spellcheck:"false","aria-autocomplete":"list","aria-haspopup":"listbox","aria-owns":this.resultListId,"aria-expanded":this.expanded?"true":"false","aria-activedescendant":this.selectedIndex>-1?this.resultProps[this.selectedIndex].id:"",...this.$attrs}},resultListProps(){return{id:this.resultListId,class:this.resultListClass,role:"listbox"}},resultProps(){return this.results.map((t,e)=>({id:this.resultClass+"-"+e,class:this.resultClass,"data-result-index":e,role:"option",...this.selectedIndex===e?{"aria-selected":"true"}:{}}))}},mounted(){document.body.addEventListener("click",this.handleDocumentClick)},beforeDestroy(){document.body.removeEventListener("click",this.handleDocumentClick)},updated(){if(!this.$refs.input||!this.$refs.resultList)return;let t=this.$refs.input.getBoundingClientRect(),e=this.$refs.resultList.getBoundingClientRect();this.resetPosition&&this.results.length&&(this.resetPosition=!1,this.position=t.bottom+e.height>window.innerHeight&&window.innerHeight-t.bottom<t.top&&window.pageYOffset+t.top-e.height>0?"above":"below");let s=this.$refs.resultList.querySelector('[data-result-index="'+this.selectedIndex+'"]');if(!s)return;let i=s.getBoundingClientRect();i.top<e.top?this.$refs.resultList.scrollTop-=e.top-i.top:i.bottom>e.bottom&&(this.$refs.resultList.scrollTop+=i.bottom-e.bottom)},methods:{setValue(t){this.value=t?this.getResultValue(t):""},handleInput(t){this.value=t.target.value,this.updateResults(this.value)},handleFocus(t){this.updateResults(t.target.value),this.value=t.target.value},handleBlur(){this.hideResults(),this.$emit("blur")},handleUp(){const t=this.results.length;this.selectedIndex=((this.selectedIndex-1)%t+t)%t},handleDown(t){this.expanded||this.handleFocus(t);const e=this.results.length;this.selectedIndex=((this.selectedIndex+1)%e+e)%e},handleEsc(){this.hideResults(),this.setValue()},handleEnter(){this.handleSubmit(this.selectResult())},handleTab(){this.selectResult()},hideResults(){this.selectedIndex=-1,this.results=[],this.expanded=!1,this.resetPosition=!0},selectResult(){const t=this.results[this.selectedIndex];return t&&this.setValue(t),this.hideResults(),t},handleSubmit(t){this.$emit("submit",t)},handleResultClick(t){const e=t.target.closest("[data-result-index]");e&&(this.selectedIndex=parseInt(e.dataset.resultIndex,10),this.handleSubmit(this.selectResult()))},handleDocumentClick(t){this.$refs.container.contains(t.target)||this.hideResults()},updateResults(t){const e=this.search(t);if(e instanceof Promise){const t=++this.searchCounter;this.loading=!0,e.then(e=>{t===this.searchCounter&&(this.results=e,this.loading=!1,this.results.length?(this.selectedIndex=this.autoSelect?0:-1,this.expanded=!0):this.hideResults())})}else this.results=e,0===this.results.length?this.hideResults():(this.selectedIndex=this.autoSelect?0:-1,this.expanded=!0)}}},x=_,C=l(x,g,b,!1,null,null,null),w=C.exports,k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",t._b({},"div",t.rootProps,!1),[t.hasInput?s("date-input",t._b({ref:"input",attrs:{value:t.selectedDate},on:{input:t.handleInput,"toggle-datepicker":t.toggleDatepicker}},"date-input",t.inputProps,!1)):t._e(),s("div",t._b({ref:"calendar",staticClass:"calendar",class:"left"===t.align?"align-left":"align-right"},"div",t.calendarProps,!1),[s("div",{staticClass:"calendar-nav navbar"},[s("button",{staticClass:"btn btn-action btn-link btn-large prvMon",on:{click:function(e){return e.stopPropagation(),t.previousMonth(e)}}}),s("div",{staticClass:"month navbar-primary"},[t._v(t._s(t.monthLabel)+" "+t._s(t.year))]),s("button",{staticClass:"btn btn-action btn-link btn-large nxtMon",on:{click:function(e){return e.stopPropagation(),t.nextMonth(e)}}})]),s("div",{staticClass:"calendar-container"},[s("div",{staticClass:"calendar-header"},t._l(t.weekdays,(function(e){return s("div",{staticClass:"calendar-date"},[t._v(t._s(e))])})),0),s("div",{staticClass:"calendar-body"},t._l(t.days,(function(e){return s("div",{key:e.getTime(),staticClass:"calendar-date text-center",class:["prev-month","","next-month"][e.getMonth()-t.month+1]},[s("button",{staticClass:"date-item",class:{active:t.selectedDate&&e.getTime()===t.selectedDate.getTime(),"date-today":e.getTime()===t.today.getTime()},attrs:{type:"button",disabled:(t.validFrom&&t.validFrom)>e||t.validUntil&&t.validUntil<e},on:{click:function(s){s.stopPropagation(),!((t.validFrom&&t.validFrom)>e||t.validUntil&&t.validUntil<e)&&t.selectDate(e)}}},[t._v(t._s(e.getDate()))])])})),0)])])],1)},D=[],P=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"date-input"},[s("div",{staticClass:"input-group",style:t.computedStyles},[t.dateString?s("div",{staticClass:"form-input"},[s("span",{staticClass:"chip"},[t._v(" "+t._s(t.dateString)+" "),s("a",{staticClass:"btn btn-clear",attrs:{href:"#","aria-label":"Close",role:"button"},on:{click:function(e){return e.preventDefault(),t.handleClear(e)}}})])]):s("input",{directives:[{name:"model",rawName:"v-model",value:t.inputString,expression:"inputString"}],staticClass:"form-input",attrs:{type:"text",autocomplete:"off"},domProps:{value:t.inputString},on:{blur:t.handleBlur,input:function(e){e.target.composing||(t.inputString=e.target.value)}}}),t.showButton?s("button",{staticClass:"btn webfont-icon-only btn-primary input-group-btn",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.$emit("toggle-datepicker")}}},[t._v("")]):t._e()])])},S=[],$={formatDate(t,e,s){if(!t instanceof Date)return"";const i=s&&s.dayNames?s.dayNames:"Sun Mon Tue Wed Thu Fri Sat".split(" "),r=s&&s.monthNames?s.monthNames:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");return e.replace(/\bd\b/,t.getDate()).replace(/\bdd\b/,("0"+t.getDate()).slice(-2)).replace(/\bm\b/,t.getMonth()+1).replace(/\bmm\b/,("0"+(t.getMonth()+1)).slice(-2)).replace(/\bmmm\b/,r[t.getMonth()].trim()).replace(/\by\b/,t.getFullYear()).replace(/\bw\b/,i[t.getDay()].trim()).replace(/\bh\b/,("0"+t.getHours()).slice(-2)).replace(/\bi\b/,("0"+t.getMinutes()).slice(-2)).replace(/\bs\b/,("0"+t.getSeconds()).slice(-2))},parseDate(t,e){let s,i=e.toLowerCase().replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),r=[];if((s=e.match(/\bd\b/gi))&&1===s.length)i=i.replace("d","(\\d{1,2})");else{if(!(s=e.match(/\bdd\b/gi))||1!==s.length)return!1;i=i.replace("dd","(\\d{2})")}if(r.push({srcPos:e.toLowerCase().indexOf("d"),destPos:2}),(s=e.match(/\bm\b/gi))&&1===s.length)i=i.replace("m","(\\d{1,2})");else{if(!(s=e.match(/\bmm\b/gi))||1!==s.length)return!1;i=i.replace("mm","(\\d{2})")}if(r.push({srcPos:e.toLowerCase().indexOf("m"),destPos:1}),!(s=e.match(/\by\b/gi))||1!==s.length)return!1;if(i=i.replace("y","(\\d{4})"),r.push({srcPos:e.toLowerCase().indexOf("y"),destPos:0}),!(s=t.match(i)))return!1;s.shift(),r.sort((t,e)=>t.srcPos<e.srcPos?-1:1);let n,a,o=[];while(n=s.shift())a=r.shift(),o[a.destPos]=n;return o=Date.parse(o.join("-")),!!o&&(o=new Date(o),new Date(o.getFullYear(),o.getMonth(),o.getDate(),0,0,0))},isValidTime:function(t){let e=t.match(/^\s*([0-9]{1,2}):([0-9]{1,2})(?::([0-9]{1,2}))?\s*$/);return e&&e[1]<24&&e[2]<60&&(!e[3]||e[3]<60)}},T={data(){return{inputString:null}},props:{monthNames:{type:Array,default:()=>"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")},dayNames:{type:Array,default:()=>"Mon Tue Wed Thu Fri Sat Sun".split(" ")},outputFormat:{type:String,default:"y-mm-dd"},inputFormat:{type:String,default:"y-m-d"},showButton:{type:Boolean,default:!0},value:Date},watch:{value(t){this.inputString=t?$.formatDate(t,this.outputFormat):""}},computed:{dateString(){return this.value?$.formatDate(this.value,this.outputFormat):""},computedStyles(){return{width:"100%"}}},methods:{handleBlur(){let t=$.parseDate(this.inputString,this.inputFormat);this.$emit("input",t||null)},handleClear(){this.$emit("input",null)}}},O=T,F=l(O,P,S,!1,null,null,null),I=F.exports,E={components:{DateInput:I},data(){return{year:null,month:null,dateDay:null,selectedDate:null,expanded:!this.hasInput,align:"left"}},watch:{value(t){this.year=(t||this.today).getFullYear(),this.month=(t||this.today).getMonth(),this.dateDay=(t||this.today).getDate(),this.selectedDate=t?new Date(t.getFullYear(),t.getMonth(),t.getDate()):null},expanded(t){t&&this.hasInput&&this.$nextTick(()=>this.align=this.$refs.input.$el.getBoundingClientRect().left+this.$refs.calendar.getBoundingClientRect().width>window.innerWidth?"right":"left")}},computed:{rootProps(){return{class:["datepicker",this.$attrs["class"]],style:{position:"relative"}}},inputProps(){return{style:{position:"relative"},inputFormat:this.$attrs["input-format"],outputFormat:this.$attrs["output-format"],dayNames:this.$attrs["day-names"],monthNames:this.$attrs["month-names"],showButton:this.$attrs["show-button"]}},calendarProps(){return{style:this.hasInput?{display:this.expanded?"block":"none",position:"absolute",top:"100%",transform:"translateY(.2rem)","z-index":300}:{}}},days(){const t=[],e=new Date(this.year,this.month+1,0),s=new Date(this.year,this.month,0).getDay()+1-this.startOfWeekIndex,i=(7-e.getDay())%7-1+this.startOfWeekIndex;for(let r=-s,n=e.getDate()+i;r<n;++r)t.push(new Date(this.year,this.month,r+1));return t},monthLabel(){return this.monthNames[this.month]},today(){const t=new Date;return new Date(t.getFullYear(),t.getMonth(),t.getDate())}},props:{value:{type:Date},validFrom:{type:Date},validUntil:{type:Date},weekdays:{type:Array,default:()=>"M T W T F S S".split(" ")},monthNames:{type:Array,default:()=>"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")},startOfWeekIndex:{type:Number,default:1,validator:t=>!t||1===t},hasInput:{type:Boolean,default:!0}},mounted(){this.hasInput&&document.body.addEventListener("click",this.handleBodyClick),this.year=(this.value||this.today).getFullYear(),this.month=(this.value||this.today).getMonth(),this.dateDay=(this.value||this.today).getDate(),this.selectedDate=this.value?new Date(this.value.getFullYear(),this.value.getMonth(),this.value.getDate()):null},beforeDestroy(){this.hasInput&&document.body.removeEventListener("click",this.handleBodyClick)},methods:{previousMonth(){const t=new Date(this.year,this.month-1,this.dateDay);this.month=t.getMonth(),this.year=t.getFullYear(),this.$emit("month-change")},nextMonth(){const t=new Date(this.year,this.month+1,this.dateDay);this.month=t.getMonth(),this.year=t.getFullYear(),this.$emit("month-change")},selectDate(t){this.selectedDate=t,this.$emit("input",t),this.expanded=!this.hasInput},toggleDatepicker(){this.expanded=!this.expanded},handleBodyClick(){this.expanded=!1},handleInput(t){this.selectedDate=t,this.$emit("input",t)}}},R=E,N=l(R,k,D,!1,null,null,null),A=N.exports,M=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",{staticClass:"table table-striped"},[s("thead",[s("tr",t._l(t.columns,(function(e){return s("th",{class:["vx-sortable-header",e.cssClass,t.sortColumn===e?t.sortDir:null,e.width],on:{click:function(s){e.sortable&&t.clickSort(e)}}},[t._t(e.prop+"-header",[t._v(" "+t._s(e.label)+" ")],{column:e})],2)})),0)]),s("tbody",t._l(t.sortedRows,(function(e){return s("tr",{key:e.key,class:e.cssClass},t._l(t.columns,(function(i){return s("td",{class:{active:t.sortColumn===i}},[t._t(i.prop,[t._v(t._s(e[i.prop]))],{row:e})],2)})),0)})),0)])},L=[],B={name:"sortable",props:{columns:{type:Array,required:!0,validator(t){for(let e=t.length;e--;)if(void 0===t[e].label||void 0===t[e].prop)return!1;return!0}},rows:{type:Array,required:!0},offset:{type:Number,default:null},count:{type:Number,default:null},sortProp:{type:String},sortDirection:{type:String,validator(t){return!t||-1!==["asc","desc"].indexOf(t)}}},data(){return{sortColumn:this.columns.find(t=>t.prop===this.sortProp),sortDir:this.sortDirection}},computed:{sortedRows(){let t=this.rows.slice();if(this.sortColumn)if("asc"===this.sortDir&&this.sortColumn.sortAscFunction)t.sort(this.sortColumn.sortAscFunction);else if("desc"===this.sortDir&&this.sortColumn.sortDescFunction)t.sort(this.sortColumn.sortDescFunction);else{let e=this.sortColumn.prop;t.sort((t,s)=>t[e]<s[e]?"asc"===this.sortDir?-1:1:t[e]>s[e]?"asc"===this.sortDir?1:-1:0)}let e=this.offset||0,s=this.count||t.length;return t.slice(e,e+s)}},methods:{clickSort(t){this.$emit("before-sort"),this.sortColumn===t?this.sortDir="asc"===this.sortDir?"desc":"asc":this.sortColumn=t,this.$nextTick(()=>this.$emit("after-sort"))}}},j=B,W=l(j,M,L,!1,null,null,null),z=W.exports,U=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"vx-tree"},[s("simple-tree-branch",{directives:[{name:"bubble",rawName:"v-bubble.branch-selected",modifiers:{"branch-selected":!0}}],attrs:{branch:t.branch}})],1)},q=[],J=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{class:{terminates:!t.branch.branches||!t.branch.branches.length}},[t.branch.branches&&t.branch.branches.length?[s("input",{attrs:{type:"checkbox",id:"branch-"+t.branch.id},domProps:{checked:t.expanded},on:{click:function(e){t.expanded=!t.expanded}}}),s("label",{attrs:{for:"branch-"+t.branch.id}})]:t._e(),t.branch.current?s("strong",[t._v(t._s(t.branch.label))]):s("a",{attrs:{href:t.branch.path},on:{click:function(e){return e.preventDefault(),t.$emit("branch-selected",t.branch)}}},[t._v(t._s(t.branch.label))]),t.branch.branches&&t.branch.branches.length?s("ul",{directives:[{name:"show",rawName:"v-show",value:t.expanded,expression:"expanded"}]},t._l(t.branch.branches,(function(t){return s("simple-tree-branch",{directives:[{name:"bubble",rawName:"v-bubble.branch-selected",modifiers:{"branch-selected":!0}}],key:t.id,attrs:{branch:t}})})),1):t._e()],2)},H=[],V={name:"simple-tree-branch",data(){return{expanded:!1}},props:{branch:{type:Object,default:()=>({})}},mounted(){if(this.branch.current){let t=this.$parent;while(t&&t.branch&&void 0!==t.expanded)t.expanded=!0,t=t.$parent}}},G=V,Y=l(G,J,H,!1,null,null,null),X=Y.exports;const K={bind(t,e,s){Object.keys(e.modifiers).forEach(e=>{s.componentInstance?(s.componentInstance.$off(e),s.componentInstance.$on(e,(...t)=>{s.context.$emit(e,...t)})):t.addEventListener(e,t=>{s.context.$emit(e,t)})})}},Z={inserted:t=>t.focus()};Vue.directive("bubble",K);var Q={name:"simple-tree",props:{branch:Object},components:{SimpleTreeBranch:X}},tt=Q,et=l(tt,U,q,!1,null,null,null),st=et.exports,it=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:{"dragged-over":t.indicateDrag},on:{drop:function(e){return e.preventDefault(),t.uploadDraggedFiles(e)},dragover:function(e){e.preventDefault(),t.indicateDrag=!0},dragleave:function(e){e.preventDefault(),t.indicateDrag=!1}}},[s("div",{staticClass:"vx-button-bar navbar"},[s("section",{staticClass:"navbar-section"},[s("span",{staticClass:"btn-group"},t._l(t.breadcrumbs,(function(e,i){return s("button",{key:i,staticClass:"btn",class:{active:e.folder===t.currentFolder},on:{click:function(s){return t.readFolder(e.folder)}}},[t._v(t._s(e.name)+" ")])})),0),s("div",{staticClass:"popup popup-bottom ml-1",class:{active:t.showAddActivities}},[s("button",{staticClass:"btn webfont-icon-only",attrs:{type:"button"},on:{click:function(e){e.stopPropagation(),t.showAddActivities=!t.showAddActivities}}},[t._v("")]),s("div",{staticClass:"popup-container"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("filemanager-add",{on:{upload:t.uploadInputFiles,"create-folder":t.createFolder}})],1)])])])]),s("section",{staticClass:"navbar-section"},[t.upload.progressing?[s("button",{staticClass:"btn btn-link webfont-icon-only tooltip",attrs:{"data-tooltip":"Abbrechen",type:"button"},on:{click:t.cancelUpload}},[t._v("")]),s("label",{staticClass:"d-inline-block mr-2"},[t._v(t._s(t.progress.file))]),s("circular-progress",{attrs:{progress:100*t.progress.loaded/(t.progress.total||1),radius:16}})]:s("strong",{staticClass:"text-primary d-block col-12 text-center"},[t._v("Dateien zum Upload hierher ziehen")])],2),s("section",{staticClass:"navbar-section"},[s("filemanager-search",{attrs:{search:t.doSearch}})],1)]),s("sortable",{ref:"sortable",attrs:{rows:t.directoryEntries,columns:t.columns,"sort-prop":t.initSort.column,"sort-direction":t.initSort.dir},on:{"after-sort":function(e){return t.$emit("after-sort",{sortColumn:t.$refs.sortable.sortColumn,sortDir:t.$refs.sortable.sortDir})}},scopedSlots:t._u([{key:"name",fn:function(e){return[e.row.isFolder?[e.row===t.toRename?s("input",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"form-input",domProps:{value:e.row.name},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.renameFolder(e)},function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.toRename=null}],blur:function(e){t.toRename=null}}}):[s("a",{attrs:{href:"#"+e.row.id},on:{click:function(s){return s.preventDefault(),t.readFolder(e.row.id)}}},[t._v(t._s(e.row.name))]),s("button",{staticClass:"btn webfont-icon-only tooltip mr-1 rename display-only-on-hover ml-2",attrs:{"data-tooltip":"Umbenennen"},on:{click:function(s){t.toRename=e.row}}},[t._v("")])]]:[e.row===t.toRename?s("input",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"form-input",domProps:{value:e.row.name},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.renameFile(e)},function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.toRename=null}],blur:function(e){t.toRename=null}}}):[s("span",[t._v(t._s(e.row.name))]),s("button",{staticClass:"btn webfont-icon-only tooltip mr-1 rename display-only-on-hover ml-2",attrs:{"data-tooltip":"Umbenennen"},on:{click:function(s){t.toRename=e.row}}},[t._v("")])]]]}},{key:"size",fn:function(e){return[e.row.isFolder?t._e():[t._v(t._s(t._f("formatFilesize")(e.row.size,",")))]]}},{key:"type",fn:function(e){return[e.row.image?s("img",{attrs:{src:e.row.src,alt:""}}):s("span",[t._v(t._s(e.row.type))])]}},t._l(t.$scopedSlots,(function(e,s){return{key:s,fn:function(e){return[t._t(s,null,null,e)]}}}))],null,!0)}),t.showEditForm?s("div",{staticClass:"modal active"},[s("div",{staticClass:"modal-overlay"}),s("div",{staticClass:"modal-container"},[s("div",{staticClass:"modal-header"},[s("a",{staticClass:"btn btn-clear float-right",attrs:{href:"#close","aria-label":"Close"},on:{click:function(e){e.preventDefault(),t.showEditForm=!1}}})]),s("div",{staticClass:"modal-body"},[s("file-edit-form",{ref:"editForm",attrs:{"initial-data":t.editFormData,"file-info":t.editFileInfo,url:t.routes.updateFile},on:{"response-received":function(e){return t.$emit("response-received",e)}}})],1)])]):t._e(),t.showFolderTree?s("div",{staticClass:"modal active"},[s("div",{staticClass:"modal-overlay"}),s("div",{staticClass:"modal-container"},[s("div",{staticClass:"modal-header"},[s("a",{staticClass:"btn btn-clear float-right",attrs:{href:"#close","aria-label":"Close"},on:{click:function(e){e.preventDefault(),t.showFolderTree=!1}}}),s("div",{staticClass:"modal-title h5"},[t._v("Zielordner wählen…")])]),s("div",{staticClass:"modal-body"},[s("simple-tree",{attrs:{branch:t.root},on:{"branch-selected":t.moveToFolder}})],1)])]):t._e(),s("confirm",{ref:"confirm",attrs:{config:{cancelLabel:"Abbrechen",okLabel:"Löschen",okClass:"btn-error"}}})],1)},rt=[],nt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.showAddFolderInput?s("input",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"form-input",on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addFolder(e)},function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.showAddFolderInput=!1}],blur:function(e){t.showAddFolderInput=!1}}}):t._e(),t.showAddFolderInput?t._e():s("button",{staticClass:"btn with-webfont-icon-left btn-link",attrs:{type:"button","data-icon":""},on:{click:function(e){e.stopPropagation(),t.showAddFolderInput=!0}}},[t._v("Verzeichnis erstellen")]),s("label",{staticClass:"btn with-webfont-icon-left btn-link",attrs:{"data-icon":"",for:"file_upload"}},[t._v("Datei hochladen")]),s("input",{staticClass:"d-none",attrs:{type:"file",id:"file_upload",multiple:t.multiple},on:{change:t.fileChanged}})])},at=[],ot={data(){return{showAddFolderInput:!1}},props:{multiple:{type:Boolean,default:!0}},methods:{fileChanged(t){const e=t.target.files||t.dataTransfer.files;e&&this.$emit("upload",e)},addFolder(t){const e=t.target.value.trim();e&&this.$emit("create-folder",e),this.showAddFolderInput=!1}},directives:{focus:Z}},lt=ot,ct=l(lt,nt,at,!1,null,null,null),ut=ct.exports,dt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"has-icon-right"},[s("input",t._b({staticClass:"text-input",on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.handleEsc(e)},input:t.handleInput,focus:t.handleInput}},"input",t.inputProps,!1)),t.loading?s("i",{staticClass:"form-icon loading"}):t._e()]),t.showResults?s("div",{staticClass:"modal active"},[s("div",{staticClass:"modal-container"},[s("div",{staticClass:"modal-header"},[s("a",{staticClass:"btn btn-clear float-right",attrs:{href:"#close","aria-label":"Close"},on:{click:function(e){e.preventDefault(),t.showResults=!1}}}),s("div",{staticClass:"modal-title h5"},[t._v("Gefundene Dateien und Ordner…")])]),s("div",{staticClass:"modal-body"},[t._l(t.results.folders||[],(function(e){return s("div",{key:e.id},[t._v(" "+t._s(e.name)+" ")])})),t.results.folders.length&&t.results.files.length?s("div",{staticClass:"divider"}):t._e(),t._l(t.results.files||[],(function(e){return s("div",{key:e.id},[t._v(" "+t._s(e.name)+" ("+t._s(e.type)+")"),s("br"),s("span",{staticClass:"text-gray"},[t._v(t._s(e.path))])])}))],2)])]):t._e()])},ht=[],ft={data(){return{value:"",results:{files:[],folders:[]},loading:!1,hideDialog:!1}},props:{placeholder:{type:String,default:"Datei/Verzeichnis suchen..."},search:{type:Function,required:!0}},computed:{inputProps(){return{value:this.value,placeholder:this.placeholder}},showResults:{get(){return this.results.folders.length||this.results.files.length},set(t){t||(this.results.folders=[],this.results.files=[])}}},methods:{handleInput(t){this.value=t.target.value;const e=this.search(this.value);e instanceof Promise?(this.loading=!0,e.then(t=>{this.results.files=t.files||[],this.results.folders=t.folders||[],this.loading=!1})):this.results=Object.assign({},this.results,e)},handleEsc(){this.value="",this.showResults=!1}}},mt=ft,pt=l(mt,dt,ht,!1,null,null,null),vt=pt.exports,gt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"container",staticClass:"modal modal-sm",class:{active:t.show},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:(e.stopPropagation(),t.cancel(e))}}},[s("a",{staticClass:"modal-overlay",attrs:{href:"#close"},on:{click:function(e){return e.preventDefault(),t.cancel(e)}}}),s("div",{staticClass:"modal-container"},[t.title?s("div",{staticClass:"modal-header bg-error text-light"},[s("div",{staticClass:"modal-title h5"},[t._v(t._s(t.title))])]):t._e(),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"content"},[t._v(" "+t._s(t.message)+" ")])]),s("div",{staticClass:"modal-footer"},[s("button",{ref:"okButton",staticClass:"btn mr-2",class:t.options.okClass,on:{click:function(e){return e.stopPropagation(),t.ok(e)}}},[t._v(t._s(t.options.okLabel))]),s("button",{staticClass:"btn btn-link",on:{click:function(e){return e.stopPropagation(),t.cancel(e)}}},[t._v(t._s(t.options.cancelLabel))])])])])},bt=[],yt={name:"confirm",props:{config:{type:Object}},data(){return{title:"",message:"",show:!1,resolve:null,reject:null,options:{okLabel:"Ok",cancelLabel:"Cancel",okClass:"btn-success"}}},watch:{config(){this.options=Object.assign({},this.options,this.config)}},created(){this.options=Object.assign({},this.options,this.config)},methods:{open(t,e,s){return this.title=t,this.message=e,this.show=!0,this.$nextTick(()=>this.$refs.okButton.focus()),this.options=Object.assign(this.options,s||{}),new Promise((t,e)=>{this.resolve=t,this.reject=e})},ok(){this.show=!1,this.resolve(!0)},cancel(){this.show=!1,this.resolve(!1)}}},_t=yt,xt=l(_t,gt,bt,!1,null,null,null),Ct=xt.exports,wt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{attrs:{action:"/",id:"events-edit-form"},on:{submit:function(t){t.preventDefault()}}},[s("div",{staticClass:"columns"},[s("div",{staticClass:"column"},[t.fileInfo.thumb?s("img",{staticClass:"img-responsive",attrs:{src:t.fileInfo.thumb}}):t._e()]),s("div",{staticClass:"column"},[s("table",{staticClass:"table"},[s("tr",[s("td",[t._v("Typ")]),s("td",[t._v(t._s(t.fileInfo.mimetype))])]),t.fileInfo.cache?s("tr",[s("td",[t._v("Cache")]),s("td",[t._v(t._s(t.fileInfo.cache.count)+" Files, "+t._s(t._f("formatFilesize")(t.fileInfo.cache.totalSize,",")))])]):t._e(),s("tr",[s("td",[t._v("Link")]),s("td",[s("a",{attrs:{href:"/"+t.fileInfo.path,target:"_blank"}},[t._v(t._s(t.fileInfo.name))])])])])])]),s("div",{staticClass:"divider",attrs:{"data-content":"Metadaten der Datei"}}),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"title_input"}},[t._v("Titel")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],staticClass:"form-input",class:{"is-error":t.errors.title},attrs:{id:"title_input",autocomplete:"off"},domProps:{value:t.form.title},on:{input:function(e){e.target.composing||t.$set(t.form,"title",e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"subtitle_input"}},[t._v("Untertitel")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.subtitle,expression:"form.subtitle"}],staticClass:"form-input",class:{"is-error":t.errors.subtitle},attrs:{id:"subtitle_input",autocomplete:"off"},domProps:{value:t.form.subtitle},on:{input:function(e){e.target.composing||t.$set(t.form,"subtitle",e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"description_input"}},[t._v("Beschreibung")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.description,expression:"form.description"}],staticClass:"form-input",class:{"is-error":t.errors.description},attrs:{rows:"2",id:"description_input"},domProps:{value:t.form.description},on:{input:function(e){e.target.composing||t.$set(t.form,"description",e.target.value)}}})]),s("div",{staticClass:"divider",attrs:{"data-content":"Erweiterte Einstellungen"}}),s("div",{staticClass:"divider"}),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"customsort_input"}},[t._v("Untertitel")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.customsort,expression:"form.customsort"}],staticClass:"form-input col-4",class:{"is-error":t.errors.customsort},attrs:{id:"customsort_input",autocomplete:"off"},domProps:{value:t.form.customsort},on:{input:function(e){e.target.composing||t.$set(t.form,"customsort",e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("button",{staticClass:"btn btn-success col-12",class:{loading:t.loading},attrs:{type:"button",disabled:t.loading},on:{click:t.submit}},[t._v("Änderungen speichern")])])])},kt=[];async function Dt(t,e="GET",s={},i=null){!s["X-CSRF-Token"]&&document.querySelector('meta[name="csrf-token"]')&&(s["X-CSRF-Token"]=document.querySelector('meta[name="csrf-token"]').getAttribute("content"));const r=await fetch(t,{method:e.toUpperCase(),body:i,headers:s});return await r.json()}var Pt={props:{initialData:{type:Object,default:()=>({})},fileInfo:{type:Object,default:()=>({})},url:{type:String,default:""}},data(){return{form:{},response:{},loading:!1}},computed:{errors(){return this.response&&this.response.errors||{}},message(){return this.response?this.response.message:""}},watch:{initialData(t){this.form=Object.assign({},this.form,t)}},methods:{async submit(){this.loading=!0;let t={};Object.keys(this.form).forEach(e=>{null!==this.form[e]&&(t[e]=this.form[e])}),this.response=await Dt(this.url,"POST",{},JSON.stringify(t)),this.$emit("response-received",this.response),this.loading=!1}},filters:{formatFilesize(t,e){let s=["B","kB","MB","GB"],i=Math.floor(Math.floor(Math.log(t)/Math.log(1e3)));return(t/Math.pow(1e3,i)).toFixed(i?2:0).toString().replace(".",e||".")+s[i]}}},St=Pt,$t=l(St,wt,kt,!1,null,null,null),Tt=$t.exports;function Ot(t,e="GET",s={},i=null,r=null,n=null,a=null){!s["X-CSRF-Token"]&&document.querySelector('meta[name="csrf-token"]')&&(s["X-CSRF-Token"]=document.querySelector('meta[name="csrf-token"]').getAttribute("content")),s["Content-type"]=s["Content-type"]||"application/x-www-form-urlencoded";let o=new XMLHttpRequest,l=new Promise((function(l,c){o.onreadystatechange=()=>{4===o.readyState&&(o.status>=200&&o.status<300?l(JSON.parse(o.responseText)):c({status:o.status,statusText:o.statusText,responseText:o.responseText}))},o.upload.onprogress=n||null,a&&(a.cancel=()=>{o.abort(),c({status:499,statusText:"Request cancelled."})}),o.open(e,t,!0),o.responseType="text",Object.keys(s).forEach(t=>o.setRequestHeader(t,s[t])),r&&(o.timeout=r,o.ontimeout=t=>{c({status:408,statusText:"Request timeout."})}),o.send(i)}));return l.cancel=()=>o.abort(),l}var Ft={create(t,e={}){return t+(-1!==t.indexOf("?")?"&":"?")+this.objectToSearch(e)},searchToObject(t){return Object.fromEntries(new URLSearchParams(t))},objectToSearch(t){return new URLSearchParams(t).toString()}};function It(t,e){let s=Math.floor(Math.floor(Math.log(t)/Math.log(1e3)));return(t/Math.pow(1e3,s)).toFixed(s?2:0).toString().replace(".",e||".")+["B","kB","MB","GB"][s]}var Et={components:{sortable:z,"simple-tree":st,"file-edit-form":Tt,"circular-progress":v,confirm:Ct,"filemanager-add":ut,"filemanager-search":vt},data(){return{root:{},currentFolder:null,files:[],folders:[],breadcrumbs:[],toRename:null,toMove:null,showEditForm:!1,showFolderTree:!1,showAddActivities:!1,indicateDrag:!1,upload:{files:[],progressing:!1,cancelToken:{}},cancelUploadToken:{},progress:{total:null,loaded:null,file:null},editFormData:{},editFileInfo:{}}},computed:{directoryEntries(){let t=this.folders,e=this.files;return t.forEach(t=>{t.isFolder=!0,t.key="d"+t.id}),e.forEach(t=>t.key=t.id),[...t,...e]}},props:{routes:{type:Object,required:!0},columns:{type:Array,required:!0},folder:{type:String,default:""},initSort:{type:Object}},watch:{folder(t){this.currentFolder=t}},async created(){let t=await Dt(Ft.create(this.routes.init,{folder:this.folder}));this.breadcrumbs=t.breadcrumbs||[],this.files=t.files||[],this.folders=t.folders||[],this.currentFolder=t.currentFolder||null},mounted(){document.body.addEventListener("click",this.handleBodyClick)},beforeDestroy(){document.body.removeEventListener("click",this.handleBodyClick)},methods:{handleBodyClick(){this.showAddActivities=!1},async readFolder(t){let e=await Dt(Ft.create(this.routes.readFolder,{folder:t}));if(e.success){if(this.files=e.files||[],this.folders=e.folders||[],this.currentFolder=t,!this.breadcrumbs)return;(e.breadcrumbs.length>=this.breadcrumbs.length||0!==this.breadcrumbs.map(t=>t.folder).join().indexOf(e.breadcrumbs.map(t=>t.folder).join()))&&(this.breadcrumbs=e.breadcrumbs)}},async editFile(t){this.showEditForm=!0;let e=await Dt(Ft.create(this.routes.getFile,{id:t.id}));this.editFormData=e.form||{},this.editFileInfo=e.fileInfo||{},this.editFormData.id=t.id},async delFile(t){if(await this.$refs.confirm.open("Datei löschen","'"+t.name+"' wirklich löschen?")){let e=await Dt(Ft.create(this.routes.delFile,{id:t.id}),"DELETE");e.success&&this.files.splice(this.files.findIndex(e=>t===e),1)}},async renameFile(t){let e=t.target.value.trim();if(e&&this.toRename){let t=await Dt(this.routes.renameFile,"POST",{},JSON.stringify({name:e,id:this.toRename.id}));t.success&&(this.toRename.name=t.name||e,this.toRename=null)}},async renameFolder(t){let e=t.target.value.trim();if(e&&this.toRename){let t=await Dt(this.routes.renameFolder,"POST",{},JSON.stringify({name:e,folder:this.toRename.id}));if(t.success){let s=this.breadcrumbs.findIndex(t=>t.folder===this.toRename.id);-1!==s&&(this.breadcrumbs[s].name=t.name),this.toRename.name=t.name||e,this.toRename=null}}},async delFolder(t){if(await this.$refs.confirm.open("Verzeichnis löschen","'"+t.name+"' und enthaltene Dateien wirklich löschen?",{cancelLabel:"Abbrechen"})){let e=await Dt(Ft.create(this.routes.delFolder,{folder:t.id}),"DELETE");if(e.success){this.folders.splice(this.folders.findIndex(e=>t===e),1);let e=this.breadcrumbs.findIndex(e=>e.folder===t.id);-1!==e&&this.breadcrumbs.splice(e)}}},async createFolder(t){this.showAddActivities=!1;let e=await Dt(this.routes.addFolder,"POST",{},JSON.stringify({name:t,parent:this.currentFolder}));e.folder&&this.folders.push(e.folder)},async getFolderTree(t){this.toMove=t;let e=await Dt(Ft.create(this.routes.getFoldersTree,{folder:this.currentFolder}));this.showFolderTree=!0,this.root=e},async moveToFolder(t){if(this.toMove){let e=await Dt(this.routes.moveFile,"POST",{},JSON.stringify({id:this.toMove.id,folderId:t.id}));e.success?(this.files.splice(this.files.findIndex(t=>this.toMove===t),1),this.toMove=null,this.showFolderTree=!1):this.$emit("response-received",e)}},uploadDraggedFiles(t){this.indicateDrag=!1;let e=t.dataTransfer.files;e&&this.uploadInputFiles(e)},uploadInputFiles(t){this.showAddActivities=!1,[...t].forEach(t=>this.upload.files.push(t)),this.upload.progressing||(this.upload.progressing=!0,this.progress.loaded=0,this.handleUploads())},async handleUploads(){let t=null,e=null;while(void 0!==(t=this.upload.files.shift())){this.progress.file=t.name;try{e=await Ot(Ft.create(this.routes.uploadFile,{folder:this.currentFolder}),"POST",{"Content-type":t.type||"application/octet-stream","X-File-Name":t.name.replace(/[^\x00-\x7F]/g,t=>encodeURIComponent(t)),"X-File-Size":t.size,"X-File-Type":t.type},t,null,t=>{this.progress.total=t.total,this.progress.loaded=t.loaded},this.upload.cancelToken),this.files=e.files||[]}catch(s){return this.upload.files=[],void(this.upload.progressing=!1)}if(!e.success)return this.$emit("response-received",e),this.upload.files=[],void(this.upload.progressing=!1)}this.$emit("response-received",{success:!0,message:e.message||"File upload successful"}),this.upload.progressing=!1},cancelUpload(){this.upload.cancelToken.cancel&&(this.upload.cancelToken.cancel(),this.upload.cancelToken={})},doSearch(t){return t.trim().length>2?Dt(Ft.create(this.routes.search,{search:t})):{files:[],folders:[]}}},directives:{focus:Z},filters:{formatFilesize:It}},Rt=Et,Nt=l(Rt,it,rt,!1,null,null,null),At=Nt.exports,Mt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{"use-drag-handle":!0}},t._l(t.value,(function(e,i){return s("slicksort-item",{key:i,attrs:{index:i,item:e},scopedSlots:t._u([t._l(t.$scopedSlots,(function(e,s){return{key:s,fn:function(e){return[t._t(s,null,null,e)]}}}))],null,!0)})})),1)},Lt=[],Bt=s("11b0"),jt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"slick-sort-item"},[s("div",{directives:[{name:"handle",rawName:"v-handle"}],staticClass:"handle"}),t._t("row",[t._v(t._s(t.item))],{item:t.item})],2)},Wt=[],zt={mixins:[Bt["ElementMixin"]],props:["item"]},Ut=zt,qt=l(Ut,jt,Wt,!1,null,null,null),Jt=qt.exports,Ht={mixins:[Bt["ContainerMixin"]],components:{SlicksortItem:Jt},props:{value:{type:Array,default:[]}}},Vt=Ht,Gt=l(Vt,Mt,Lt,!1,null,null,null),Yt=Gt.exports,Xt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.items.length?s("ul",{staticClass:"tab",class:{"tab-block":t.block}},[t._l(t.items,(function(e,i){return s("li",{key:i,staticClass:"tab-item",class:{active:t.activeIndex===i}},[s("z-link",{class:{disabled:e.disabled},attrs:{badge:e.badge,name:e.name},on:{click:function(s){return t.itemOnClick(e)}}})],1)})),t.hasActionSlot?s("li",{staticClass:"tab-item tab-action"},[t._t("action")],2):t._e()],2):t._e()])},Kt=[],Zt={name:"Tab",props:{items:{type:Array,default:[]},activeIndex:{type:Number,default:0},block:{type:Boolean,default:!1}},data(){return{activeTab:{}}},computed:{hasActionSlot(){return!!this.$slots.action}},created(){this.activeTab=this.items[this.activeIndex]||{}},watch:{activeIndex(t){this.activeTab=this.items[t]||{}}},methods:{itemOnClick(t){t.disabled||(this.activeTab=t,this.$emit("update:active-index",this.items.indexOf(t)))}}},Qt=Zt,te=l(Qt,Xt,Kt,!1,null,null,null),ee=te.exports,se=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("ul",{staticClass:"pagination"},[t.showNavButtons?s("li",{staticClass:"page-item",class:{disabled:!t.hasPrev}},[s("z-link",{attrs:{tabindex:"-1"},on:{click:function(){return t.prevPage()}}},[t._v(t._s(t.prevText))])],1):t._e(),t._l(t.pagesToShow,(function(e,i){return s("li",{key:i,staticClass:"page-item",class:{active:t.currentPage===e}},["dots"!==e?s("z-link",{on:{click:function(){return t.pageClick(e)}}},[t._v(t._s(e))]):s("span",[t._v("...")])],1)})),t.showNavButtons?s("li",{staticClass:"page-item",class:{disabled:!t.hasNext}},[s("z-link",{attrs:{tabindex:"-1"},on:{click:function(){return t.nextPage()}}},[t._v(t._s(t.nextText))])],1):t._e()],2)])},ie=[];const re={prevText:{type:String,default:()=>"Previous"},nextText:{type:String,default:()=>"Next"},items:Array,total:{type:Number,default:()=>0},page:{type:Number,default:()=>1},perPage:{type:Number,default:()=>20},showNavButtons:{type:Boolean,default:()=>!0},showAllPages:{type:Boolean,default:()=>!1},onPageChange:Function},ne=function(){return{currentPage:1,maxPage:0,showPerPage:20,dataItems:void 0}};var ae={name:"Pagination",props:re,data:ne,created(){this.currentPage=this.page,this.totalResults="undefined"!==typeof this.items?this.items.length:this.total,this.showPerPage=this.perPage,"undefined"!==typeof this.items&&(this.dataItems=this.items),this.countMaxPage(),"function"===typeof this.onPageChange&&this.onPageChange.apply(null,[this.currentPage,this.dataResults,this.maxPage])},methods:{pageClick(t){this.currentPage=t,this.$emit("update:page",t),"function"===typeof this.onPageChange&&this.onPageChange.apply(null,[t,this.dataResults,this.maxPage])},prevPage(){this.currentPage>1&&this.pageClick(this.currentPage-1)},nextPage(){this.currentPage<this.maxPage&&this.pageClick(this.currentPage+1)},countMaxPage(){this.maxPage=Math.ceil(this.totalResults/this.showPerPage)}},watch:{page(t){t<1?t=1:t>this.maxPage&&(t=this.maxPage),this.currentPage=t,"function"===typeof this.onPageChange&&this.onPageChange.apply(null,[this.currentPage,this.dataResults,this.maxPage])},total(t){t<0&&(t=0),this.totalResults=t,this.countMaxPage(),this.pageClick(1)},perPage(t){t<1&&(t=20),this.showPerPage=t,this.countMaxPage(),this.pageClick(1)},items(t){this.dataItems=t,this.totalResults=this.dataItems.length,this.$emit("update:total",this.totalResults),this.countMaxPage(),this.pageClick(1)}},computed:{hasPrev(){return this.currentPage>1},hasNext(){return this.currentPage<this.maxPage},dataResults(){if("undefined"!==typeof this.dataItems&&this.dataItems.length>0){let t=(this.currentPage-1)*this.showPerPage,e=this.currentPage*this.showPerPage;return this.dataItems.slice(t,e)}return null},pagesToShow(){let t=[1];if(!0===this.showAllPages||this.maxPage<=7){for(var e=2;e<=this.maxPage;e++)t.push(e);return t}return this.currentPage>=this.maxPage?(t.push("dots"),t.push(this.currentPage-2),t.push(this.currentPage-1)):this.currentPage-1&&this.currentPage-1>1&&(this.currentPage-1>2&&t.push("dots"),t.push(this.currentPage-1)),this.currentPage>1&&t.push(this.currentPage),this.currentPage+1<this.maxPage&&(t.push(this.currentPage+1),this.currentPage<=1&&t.push(this.currentPage+2),this.currentPage+2<this.maxPage&&t.push("dots")),this.currentPage<this.maxPage&&t.push(this.maxPage),t}}},oe=ae,le=l(oe,se,ie,!1,null,null,null),ce=le.exports,ue=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.hasLink?!t.hasHref&&t.hasLink?s("router-link",{class:t.linkClass,attrs:{to:t.linkRouter,"active-class":t.activeClass,exact:t.exact,"data-badge":t.badge},on:{click:function(e){return t.$emit("click")}}},[t.hasDefaultSlot?[t.hasIcon?s("z-icon",{attrs:{name:t.icon}}):t._e(),t._v(" "),t._t("default")]:t.hasDefaultSlot?t._e():[t.hasIcon?s("z-icon",{attrs:{name:t.icon}}):t._e(),t._v(" "+t._s(t.linkName))]],2):t._e():s("a",{class:t.linkClass,attrs:{href:t.linkHref,"data-badge":t.badge},on:{click:function(e){return t.$emit("click")}}},[t.hasDefaultSlot?[t.hasIcon?s("z-icon",{attrs:{name:t.icon}}):t._e(),t._v(" "),t._t("default")]:t.hasDefaultSlot?t._e():[t.hasIcon?s("z-icon",{attrs:{name:t.icon}}):t._e(),t._v(" "+t._s(t.linkName))]],2)},de=[],he={name:"Link",props:{href:{type:String},link:{type:Object},name:String,icon:String,activeClass:{type:String,default:()=>"active"},active:{type:Boolean,default:()=>!1},exact:{type:Boolean,default:()=>!1},badge:String},computed:{linkClass:function(){let t={"menu-item":!0,badge:!1};return!0===this.active&&"string"===typeof this.activeClass&&(t[this.activeClass]=!0),"undefined"!==typeof this.badge&&(t.badge=!0),t},hasIcon(){return"undefined"!==typeof this.icon},hasHref(){return"undefined"!==typeof this.href},hasLink(){return"undefined"!==typeof this.link},hasDefaultSlot(){return!!this.$slots.default},linkName(){return this.name},linkHref(){return this.href},linkRouter(){return this.link}}},fe=he,me=l(fe,ue,de,!1,null,null,null),pe=me.exports,ve=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ckeditor"},[s("textarea",{attrs:{name:t.name,id:t.id,types:t.types,config:t.config,disabled:t.readOnlyMode},domProps:{value:t.value}})])},ge=[];let be=(new Date).getTime();var ye={name:"VueCkeditor",props:{name:{type:String,default:()=>`editor-${++be}`},value:{type:String},id:{type:String,default:()=>`editor-${be}`},types:{type:String,default:()=>"classic"},config:{type:Object,default:()=>{}},instanceReadyCallback:{type:Function},readOnlyMode:{type:Boolean,default:()=>!1}},data(){return{instanceValue:""}},computed:{instance(){return CKEDITOR.instances[this.id]}},watch:{value(t){try{this.instance&&this.update(t)}catch(e){}},readOnlyMode(t){this.instance.setReadOnly(t)}},mounted(){this.create()},methods:{create(){"undefined"===typeof CKEDITOR?console.log("CKEDITOR is missing (http://ckeditor.com/)"):("inline"===this.types?CKEDITOR.inline(this.id,this.config):CKEDITOR.replace(this.id,this.config),this.instance.setData(this.value),this.instance.on("instanceReady",()=>{this.instance.setData(this.value)}),this.instance.on("change",this.onChange),this.instance.on("mode",this.onMode),this.instance.on("blur",t=>{this.$emit("blur",t)}),this.instance.on("focus",t=>{this.$emit("focus",t)}),this.instance.on("contentDom",t=>{this.$emit("contentDom",t)}),CKEDITOR.on("dialogDefinition",t=>{this.$emit("dialogDefinition",t)}),this.instance.on("fileUploadRequest",t=>{this.$emit("fileUploadRequest",t)}),this.instance.on("fileUploadResponse",t=>{setTimeout(()=>{this.onChange()},0),this.$emit("fileUploadResponse",t)}),"undefined"!==typeof this.instanceReadyCallback&&this.instance.on("instanceReady",this.instanceReadyCallback),this.$once("hook:beforeDestroy",()=>{this.destroy()}))},update(t){this.instanceValue!==t&&(this.instance.setData(t,{internal:!1}),this.instanceValue=t)},destroy(){try{let t=window["CKEDITOR"];t.instances&&t.instances[this.id]&&t.instances[this.id].destroy()}catch(t){}},onMode(){if("source"===this.instance.mode){let t=this.instance.editable();t.attachListener(t,"input",()=>{this.onChange()})}},onChange(){let t=this.instance.getData();t!==this.value&&(this.$emit("input",t),this.instanceValue=t)}}},_e=ye,xe=l(_e,ve,ge,!1,null,null,null),Ce=xe.exports,we=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{staticClass:"form-horizontal",attrs:{action:"/"},on:{submit:function(t){t.preventDefault()}}},[s("div",{staticClass:"form-sect"},[s("div",{staticClass:"form-group"},[t._m(0),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.username,expression:"form.username"}],staticClass:"form-input",attrs:{name:"username",maxlength:"128",autocomplete:"off",id:"username_input",type:"text"},domProps:{value:t.form.username},on:{input:function(e){e.target.composing||t.$set(t.form,"username",e.target.value)}}}),t.errors.username?s("p",{staticClass:"form-input-hint vx-error-box error"},[t._v(t._s(t.errors.username))]):t._e()])]),s("div",{staticClass:"form-group"},[t._m(1),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-input",attrs:{name:"email",id:"email_input",autocomplete:"off",maxlength:"128",type:"text"},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}}),t.errors.email?s("p",{staticClass:"form-input-hint vx-error-box error"},[t._v(t._s(t.errors.email))]):t._e()])]),s("div",{staticClass:"form-group"},[t._m(2),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-input",attrs:{name:"name",id:"name_input",autocomplete:"off",maxlength:"128",type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t.errors.name?s("p",{staticClass:"form-input-hint vx-error-box error"},[t._v(t._s(t.errors.name))]):t._e()])]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"form-label col-3",attrs:{for:"pwd_input"}},[t._v("Neues Passwort")]),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.new_PWD,expression:"form.new_PWD"}],staticClass:"form-input",attrs:{name:"new_PWD",id:"pwd_input",autocomplete:"off",maxlength:"128",type:"password"},domProps:{value:t.form.new_PWD},on:{input:function(e){e.target.composing||t.$set(t.form,"new_PWD",e.target.value)}}}),t.errors.new_PWD?s("p",{staticClass:"form-input-hint vx-error-box error"},[t._v(t._s(t.errors.new_PWD))]):t._e()])]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"form-label col-3",attrs:{for:"pwd2_input"}},[t._v("Passwort wiederholen")]),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.new_PWD_verify,expression:"form.new_PWD_verify"}],staticClass:"form-input",attrs:{name:"new_PWD_verify",id:"pwd2_input",autocomplete:"off",maxlength:"128",type:"password"},domProps:{value:t.form.new_PWD_verify},on:{input:function(e){e.target.composing||t.$set(t.form,"new_PWD_verify",e.target.value)}}}),t.errors.new_PWD_verify?s("p",{staticClass:"form-input-hint vx-error-box error"},[t._v(t._s(t.errors.new_PWD_verify))]):t._e()])])]),t.notifications.length?[s("div",{staticClass:"divider text-center",attrs:{"data-content":"Benachrichtigungen"}}),s("div",{staticClass:"form-sect off-3"},t._l(t.notifications,(function(e){return s("div",{staticClass:"form-group"},[s("label",{staticClass:"form-switch"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.notifications,expression:"form.notifications"}],attrs:{name:"notification[]",type:"checkbox"},domProps:{value:e.alias,checked:Array.isArray(t.form.notifications)?t._i(t.form.notifications,e.alias)>-1:t.form.notifications},on:{change:function(s){var i=t.form.notifications,r=s.target,n=!!r.checked;if(Array.isArray(i)){var a=e.alias,o=t._i(i,a);r.checked?o<0&&t.$set(t.form,"notifications",i.concat([a])):o>-1&&t.$set(t.form,"notifications",i.slice(0,o).concat(i.slice(o+1)))}else t.$set(t.form,"notifications",n)}}}),s("i",{staticClass:"form-icon"}),t._v(t._s(e.label))])])})),0)]:t._e(),s("div",{staticClass:"divider"}),s("div",{staticClass:"form-base"},[s("div",{staticClass:"form-group off-3"},[s("button",{staticClass:"btn btn-success",class:{loading:t.loading},attrs:{name:"submit_profile",type:"button",disabled:t.loading},on:{click:t.submit}},[t._v("Änderungen speichern")])])])],2)},ke=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"form-label col-3",attrs:{for:"username_input"}},[s("strong",[t._v("Username*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"form-label col-3",attrs:{for:"email_input"}},[s("strong",[t._v("Email*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"form-label col-3",attrs:{for:"name_input"}},[s("strong",[t._v("Name*")])])}],De={props:{url:{type:String,required:!0},initialData:{type:Object,default:()=>({})},notifications:{type:Array}},data(){return{form:{},response:{},loading:!1}},computed:{errors(){return this.response&&this.response.errors||{}},message(){return this.response?this.response.message:""}},watch:{initialData(t){this.form=t}},methods:{async submit(){this.loading=!0,this.$emit("request-sent"),this.response=await Dt(this.url,"post",{},JSON.stringify(this.form)),this.loading=!1,this.$emit("response-received")}}},Pe=De,Se=l(Pe,we,ke,!1,null,null,null),$e=Se.exports,Te=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{staticClass:"form-horizontal",attrs:{action:"/"},on:{submit:function(t){t.preventDefault()}}},[s("div",{staticClass:"form-sect"},[s("div",{staticClass:"form-group"},[t._m(0),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.username,expression:"form.username"}],staticClass:"form-input",attrs:{name:"username",id:"username_input",autocomplete:"off",maxlength:"128",type:"text"},domProps:{value:t.form.username},on:{input:function(e){e.target.composing||t.$set(t.form,"username",e.target.value)}}}),t.errors.username?s("p",{staticClass:"form-input-hint vx-error-box error"},[t._v(t._s(t.errors.username))]):t._e()])]),s("div",{staticClass:"form-group"},[t._m(1),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-input",attrs:{name:"email",id:"email_input",autocomplete:"off",maxlength:"128",type:"text"},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}}),t.errors.email?s("p",{staticClass:"form-input-hint vx-error-box error"},[t._v(t._s(t.errors.email))]):t._e()])]),s("div",{staticClass:"form-group"},[t._m(2),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-input",attrs:{name:"name",id:"name_input",autocomplete:"off",maxlength:"128",type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t.errors.name?s("p",{staticClass:"form-input-hint vx-error-box error"},[t._v(t._s(t.errors.name))]):t._e()])]),s("div",{staticClass:"form-group"},[t._m(3),s("div",{staticClass:"col-9"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.form.admingroupsid,expression:"form.admingroupsid"}],staticClass:"form-select",attrs:{name:"admingroupsid",id:"admingroupsID_select"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"admingroupsid",e.target.multiple?s:s[0])}}},t._l(t.options.admingroups,(function(e){return s("option",{domProps:{value:e.admingroupsid}},[t._v(" "+t._s(e.name)+" ")])})),0),t.errors.admingroupsid?s("p",{staticClass:"form-input-hint vx-error-box error"},[t._v(t._s(t.errors.admingroupsid))]):t._e()])]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"form-label col-3",attrs:{for:"pwd_input"}},[t._v("Neues Passwort")]),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.new_PWD,expression:"form.new_PWD"}],staticClass:"form-input",attrs:{name:"new_PWD",id:"pwd_input",autocomplete:"off",maxlength:"128",type:"password"},domProps:{value:t.form.new_PWD},on:{input:function(e){e.target.composing||t.$set(t.form,"new_PWD",e.target.value)}}}),t.errors.new_PWD?s("p",{staticClass:"form-input-hint vx-error-box error"},[t._v(t._s(t.errors.new_PWD))]):t._e()])]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"form-label col-3",attrs:{for:"pwd2_input"}},[t._v("Passwort wiederholen")]),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.new_PWD_verify,expression:"form.new_PWD_verify"}],staticClass:"form-input",attrs:{name:"new_PWD_verify",id:"pwd2_input",autocomplete:"off",maxlength:"128",type:"password"},domProps:{value:t.form.new_PWD_verify},on:{input:function(e){e.target.composing||t.$set(t.form,"new_PWD_verify",e.target.value)}}}),t.errors.new_PWD_verify?s("p",{staticClass:"form-input-hint vx-error-box error"},[t._v(t._s(t.errors.new_PWD_verify))]):t._e()])])]),s("div",{staticClass:"divider"}),s("div",{staticClass:"form-base"},[s("div",{staticClass:"form-group off-3"},[s("button",{staticClass:"btn btn-success",class:{loading:t.loading},attrs:{name:"submit_user",value:"",type:"button",disabled:t.loading},on:{click:t.submit}},[t._v(t._s(t.form.id?"Daten übernehmen":"User anlegen"))])])])])},Oe=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"form-label col-3",attrs:{for:"username_input"}},[s("strong",[t._v("Username*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"form-label col-3",attrs:{for:"email_input"}},[s("strong",[t._v("Email*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"form-label col-3",attrs:{for:"name_input"}},[s("strong",[t._v("Name*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"form-label col-3",attrs:{for:"admingroupsid_select"}},[s("strong",[t._v("Gruppe*")])])}],Fe={props:{url:{type:String,required:!0},initialData:{type:Object,default:()=>({})},options:{type:Object}},data:function(){return{form:{},response:{},loading:!1}},computed:{errors(){return this.response&&this.response.errors||{}},message(){return this.response?this.response.message:""}},watch:{initialData(t){this.form=t}},methods:{async submit(){this.loading=!0,this.$emit("request-sent"),this.response=await Dt(this.url,"post",{},JSON.stringify(this.form)),this.loading=!1,this.$emit("response-received")}}},Ie=Fe,Ee=l(Ie,Te,Oe,!1,null,null,null),Re=Ee.exports,Ne=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{staticClass:"form-horizontal",attrs:{action:"/"},on:{submit:function(t){t.preventDefault()}}},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-3 form-label",class:{"text-error":t.errors.article_date},attrs:{for:"article_date_picker"}},[t._v("Artikeldatum")]),s("div",{staticClass:"col-3"},[s("div",{staticClass:"col-12 input-group input-inline"},[s("datepicker",{ref:"dateArticle",attrs:{id:"article_date_picker","input-format":"d.m.y","output-format":"d.m.y","day-names":"Mo Di Mi Do Fr Sa So".split(" "),"month-names":"Jan Feb Mär Apr Mai Jun Jul Aug Sep Okt Nov Dez".split(" ")},model:{value:t.form.article_date,callback:function(e){t.$set(t.form,"article_date",e)},expression:"form.article_date"}})],1)])]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-3 form-label",class:{"text-error":t.errors.display_from},attrs:{for:"display_from_picker"}},[t._v("Anzeige von")]),s("div",{staticClass:"col-3"},[s("div",{staticClass:"col-12 input-group input-inline"},[s("datepicker",{ref:"dateFrom",attrs:{id:"display_from_picker","input-format":"d.m.y","output-format":"d.m.y","day-names":"Mo Di Mi Do Fr Sa So".split(" "),"month-names":"Jan Feb Mär Apr Mai Jun Jul Aug Sep Okt Nov Dez".split(" "),"valid-from":new Date},model:{value:t.form.display_from,callback:function(e){t.$set(t.form,"display_from",e)},expression:"form.display_from"}})],1)])]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-3 form-label",class:{"text-error":t.errors.display_until},attrs:{for:"display_until_picker"}},[t._v("Anzeige bis")]),s("div",{staticClass:"col-3"},[s("div",{staticClass:"col-12 input-group input-inline"},[s("datepicker",{ref:"dateFrom",attrs:{id:"display_until_picker","input-format":"d.m.y","output-format":"d.m.y","day-names":"Mo Di Mi Do Fr Sa So".split(" "),"month-names":"Jan Feb Mär Apr Mai Jun Jul Aug Sep Okt Nov Dez".split(" "),"valid-from":new Date},model:{value:t.form.display_until,callback:function(e){t.$set(t.form,"display_until",e)},expression:"form.display_until"}})],1)])]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-3 form-label",class:{"text-error":t.errors.customsort},attrs:{for:"custom_sort_input"}},[t._v("generische Sortierung")]),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.customsort,expression:"form.customsort"}],staticClass:"form-input col-2",attrs:{id:"custom_sort_input",maxlength:"4"},domProps:{value:t.form.customsort},on:{input:function(e){e.target.composing||t.$set(t.form,"customsort",e.target.value)}}})])]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-3 form-label"},[t._v("Markiert")]),s("div",[s("label",{staticClass:"form-switch"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.customflags,expression:"form.customflags"}],attrs:{value:"1",type:"checkbox"},domProps:{checked:Array.isArray(t.form.customflags)?t._i(t.form.customflags,"1")>-1:t.form.customflags},on:{change:function(e){var s=t.form.customflags,i=e.target,r=!!i.checked;if(Array.isArray(s)){var n="1",a=t._i(s,n);i.checked?a<0&&t.$set(t.form,"customflags",s.concat([n])):a>-1&&t.$set(t.form,"customflags",s.slice(0,a).concat(s.slice(a+1)))}else t.$set(t.form,"customflags",r)}}}),s("i",{staticClass:"form-icon"})])])]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-3 form-label",class:{"text-error":t.errors.articlecategoriesid},attrs:{for:"articlecategoriesid_select"}},[s("strong",[t._v("*Kategorie")])]),s("div",{staticClass:"col-9"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.form.articlecategoriesid,expression:"form.articlecategoriesid"}],staticClass:"form-select",attrs:{id:"articlecategoriesid_select"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"articlecategoriesid",e.target.multiple?s:s[0])}}},t._l(t.options.categories,(function(e){return s("option",{domProps:{value:e.id}},[t._v(t._s(e.title))])})),0)])]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-3 form-label",class:{"text-error":t.errors.headline},attrs:{for:"headline_input"}},[s("strong",[t._v("*Überschrift/Titel")])]),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.headline,expression:"form.headline"}],staticClass:"form-input",attrs:{id:"headline_input",maxlength:"200"},domProps:{value:t.form.headline},on:{input:function(e){e.target.composing||t.$set(t.form,"headline",e.target.value)}}})])]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-3 form-label",attrs:{for:"subline_input"}},[t._v("Unterüberschrift")]),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.subline,expression:"form.subline"}],staticClass:"form-input",attrs:{id:"subline_input",maxlength:"200"},domProps:{value:t.form.subline},on:{input:function(e){e.target.composing||t.$set(t.form,"subline",e.target.value)}}})])]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-3 form-label",attrs:{for:"teaser_input"}},[t._v("Anrisstext")]),s("div",{staticClass:"col-9"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.teaser,expression:"form.teaser"}],staticClass:"form-input",attrs:{id:"teaser_input",rows:"3"},domProps:{value:t.form.teaser},on:{input:function(e){e.target.composing||t.$set(t.form,"teaser",e.target.value)}}})])]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-3 form-label",class:{"text-error":t.errors.content},attrs:{for:"content_input"}},[s("strong",[t._v("*Seiteninhalt")])]),s("div",{staticClass:"col-9"},[s("vue-ckeditor",{attrs:{config:t.editorConfig,id:"content_input"},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1)]),s("div",{staticClass:"divider"}),s("div",{staticClass:"form-group"},[s("button",{staticClass:"btn btn-success off-3 col-3",class:{loading:t.loading},attrs:{type:"button",disabled:t.loading},on:{click:t.submit}},[t._v(t._s(t.form.id?"Daten übernehmen":"Artikel anlegen"))])])])},Ae=[],Me={components:{"vue-ckeditor":Ce,datepicker:A},props:{url:{type:String,required:!0},initialData:{type:Object,default:()=>({})},options:{type:Object},editorConfig:{type:Object}},data:function(){return{form:{},response:{},loading:!1}},computed:{errors(){return this.response&&this.response.errors||{}},message(){return this.response?this.response.message:""}},watch:{initialData(t){this.form=Object.assign({},this.form,t),this.setDates()}},mounted(){this.form=Object.assign({},this.form,this.initialData),this.setDates()},methods:{async submit(){this.loading=!0;let t=Object.assign({},this.form);Object.keys(t).forEach(e=>{t[e]instanceof Date&&(t[e]=t[e].getFullYear()+"-"+(t[e].getMonth()+1)+"-"+t[e].getDate())}),this.response=await Dt(this.url,"post",{},JSON.stringify(t)),this.$emit("response-received",this.response),this.loading=!1},setDates(){["article_date","display_from","display_until"].forEach(t=>{!this.form[t]||this.form[t]instanceof Date||(this.form[t]=new Date(this.form[t]))})}}},Le=Me,Be=l(Le,Ne,Ae,!1,null,null,null),je=Be.exports,We=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{attrs:{action:"/"},on:{submit:function(t){t.preventDefault()}}},[s("div",{staticClass:"columns"},[s("div",{staticClass:"column col-8"},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"form-label",attrs:{for:"alias_input"}},[t._v("Eindeutiger Name (automatisch generiert)")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.alias,expression:"form.alias"}],staticClass:"form-input",attrs:{id:"alias_input",disabled:"disabled",maxlength:"64"},domProps:{value:t.form.alias},on:{input:function(e){e.target.composing||t.$set(t.form,"alias",e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"form-label",attrs:{for:"title_input"}},[t._v("Titel")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],staticClass:"form-input",attrs:{id:"title_input",maxlength:"128"},domProps:{value:t.form.title},on:{input:function(e){e.target.composing||t.$set(t.form,"title",e.target.value)}}}),t.errors.title?s("p",{staticClass:"form-input-hint vx-error-box error"},[t._v(t._s(t.errors.title))]):t._e()]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"form-label"},[t._v("Inhalt")]),s("vue-ckeditor",{attrs:{config:t.editorConfig},model:{value:t.form.markup,callback:function(e){t.$set(t.form,"markup",e)},expression:"form.markup"}})],1)]),s("div",{staticClass:"column col-4"},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"form-label",attrs:{for:"keywords_input"}},[t._v("Schlüsselwörter")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.keywords,expression:"form.keywords"}],staticClass:"form-input",attrs:{id:"keywords_input",rows:"4"},domProps:{value:t.form.keywords},on:{input:function(e){e.target.composing||t.$set(t.form,"keywords",e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"form-label",attrs:{for:"description_input"}},[t._v("Beschreibung")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.description,expression:"form.description"}],staticClass:"form-input",attrs:{id:"description_input",rows:"4"},domProps:{value:t.form.description},on:{input:function(e){e.target.composing||t.$set(t.form,"description",e.target.value)}}})]),s("div",{staticClass:"divider",attrs:{"data-content":"Revisionen"}}),s("div",{attrs:{id:"revisionsContainer"}},[s("revision-table",{attrs:{revisions:t.revisions},on:{"activate-revision":function(e){return t.$emit("activate-revision",e)},"load-revision":function(e){return t.$emit("load-revision",e)},"delete-revision":function(e){return t.$emit("delete-revision",e)}}})],1)])]),s("div",{staticClass:"divider"}),s("div",{staticClass:"form-base"},[s("div",{staticClass:"form-group"},[s("button",{staticClass:"btn btn-success",class:{loading:t.loading},attrs:{name:"submit_page",type:"button",disabled:t.loading},on:{click:t.submit}},[t._v("Änderungen übernehmen und neue Revision erzeugen")])])])])},ze=[],Ue=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",{staticClass:"table table-striped",attrs:{id:"revisions"}},[t._m(0),s("tbody",t._l(t.sortedRevisions,(function(e){return s("tr",{key:e.id},[s("td",[t._v(t._s(t._f("formatDateTime")(e.firstCreated)))]),s("td",[s("button",{staticClass:"btn btn-link webfont-icon-only tooltip",attrs:{type:"button","data-tooltip":"Ansicht"},on:{click:function(s){return t.$emit("load-revision",e)}}},[t._v("")])]),s("td",[s("label",{staticClass:"form-switch"},[s("input",{attrs:{type:"checkbox",disabled:e.active},domProps:{checked:e.active},on:{click:function(s){return t.$emit("activate-revision",e)}}}),s("i",{staticClass:"form-icon"})])]),s("td",{staticClass:"text-right"},[e.active?t._e():s("button",{staticClass:"btn btn-primary webfont-icon-only tooltip tooltip-left",attrs:{type:"button","data-tooltip":"Löschen"},on:{click:function(s){return t.$emit("delete-revision",e)}}},[t._v("")])])])})),0)])},qe=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",[t._v("Angelegt um")]),s("th",{staticClass:"col-2"}),s("th",{staticClass:"col-2"},[t._v("aktiv")]),s("th",{staticClass:"col-2"})])])}],Je={props:{revisions:{type:Array,default:[]}},computed:{sortedRevisions(){return this.revisions.slice().sort((t,e)=>t.firstCreated<e.firstCreated?1:-1)}},filters:{formatDateTime(t){return $.formatDate(t,"y-mm-dd h:i:s")}}},He=Je,Ve=l(He,Ue,qe,!1,null,null,null),Ge=Ve.exports,Ye={components:{"vue-ckeditor":Ce,"revision-table":Ge},props:{url:{type:String,required:!0},initialData:{type:Object,default:()=>({})}},data(){return{form:{},revisions:[],response:{},loading:!1,editorConfig:{allowedContent:!0,autoParagraph:!1,customConfig:"",toolbar:[["Maximize","-","Source"],["Undo","Redo","-","Cut","Copy","Paste","PasteText","PasteFromWord"],["Find","Replace"],["Bold","Italic","Subscript","Superscript","-","CopyFormatting","RemoveFormat","-","TextColor","BGColor"],["NumberedList","BulletedList","-","Blockquote"],["Link","Unlink"],["Image","Table","SpecialChar"],["Styles","Format"],["ShowBlocks"]],height:"24rem",contentsCss:["/css/site.css","/css/site_edit.css"],filebrowserBrowseUrl:null,filebrowserImageBrowseUrl:"null?filter=image"}}},computed:{errors(){return this.response&&this.response.errors||{}},message(){return this.response?this.response.message:""}},watch:{initialData(t){this.form=t.form||this.form,this.revisions=t.revisions||this.revisions}},methods:{async submit(){this.loading=!0,this.$emit("request-sent"),this.response=await Dt(this.url,"post",{},JSON.stringify(this.form)),this.loading=!1,this.$emit("response-received")}}},Xe=Ye,Ke=l(Xe,We,ze,!1,null,null,null),Ze=Ke.exports;const Qe={MessageToast:u,CircularProgress:v,Autocomplete:w,DatePicker:A,Sortable:z,SimpleTree:st,Filemanager:At,SlicksortList:Yt,Tab:ee,Confirm:Ct,ZPagination:ce,ZLink:pe,VueCkeditor:Ce,ProfileForm:$e,UserForm:Re,ArticleForm:je,PageForm:Ze},ts={formatFilesize:It},es={Focus:Z,Bubble:K,HandleDirective:Bt["HandleDirective"]},ss={ContainerMixin:Bt["ContainerMixin"],ElementMixin:Bt["ElementMixin"]},is={SimpleFetch:Dt,PromisedXhr:Ot,UrlQuery:Ft};s.d(e,"Components",(function(){return Qe})),s.d(e,"Filters",(function(){return ts})),s.d(e,"Directives",(function(){return es})),s.d(e,"Mixins",(function(){return ss})),s.d(e,"Util",(function(){return is}))}})}));
//# sourceMappingURL=vxweb.umd.min.js.map