(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["vxweb"]=e():t["vxweb"]=e()})("undefined"!==typeof self?self:this,(function(){return function(t){var e={};function s(a){if(e[a])return e[a].exports;var i=e[a]={i:a,l:!1,exports:{}};return t[a].call(i.exports,i,i.exports,s),i.l=!0,i.exports}return s.m=t,s.c=e,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(a,i,function(e){return t[e]}.bind(null,i));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s="fae3")}({fae3:function(t,e,s){"use strict";var a;(s.r(e),"undefined"!==typeof window)&&((a=window.document.currentScript)&&(a=a.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(s.p=a[1]));var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:[{display:t.isActive},t.classname,"toast"],attrs:{id:"messageBox"}},[t._v(" "+t._s(t.message)+" "),s("button",{staticClass:"btn btn-clear float-right",on:{click:function(e){t.isActive=!1}}})])},r=[],n={data:()=>({activeTimeout:null,isActive:!1}),props:{message:String,classname:String,timeout:{type:Number,default:5e3},active:{type:Boolean,default:!1}},watch:{active(t){this.isActive=t},isActive(){this.setTimeout()}},mounted(){this.setTimeout()},methods:{setTimeout(){window.clearTimeout(this.activeTimeout),this.isActive&&this.timeout&&(this.activeTimeout=window.setTimeout(()=>{this.isActive=!1},this.timeout))}}},o=n;function l(t,e,s,a,i,r,n,o){var l,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=s,c._compiled=!0),a&&(c.functional=!0),r&&(c._scopeId="data-v-"+r),n?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(n)},c._ssrRegister=l):i&&(l=o?function(){i.call(this,this.$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:c}}var c=l(o,i,r,!1,null,null,null),u=c.exports,d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",t._b({ref:"container"},"div",t.containerProps,!1),[s("input",t._g(t._b({ref:"input",on:{input:t.handleInput,keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleEnter(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.handleEsc(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"tab",9,e.key,"Tab")?null:t.handleTab(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:(e.preventDefault(),t.handleUp(e))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:(e.preventDefault(),t.handleDown(e))}],focus:t.handleFocus,blur:t.handleBlur}},"input",t.inputProps,!1),t.$listeners)),s("ul",t._b({ref:"resultList",on:{click:t.handleResultClick,mousedown:function(t){t.preventDefault()}}},"ul",t.resultListProps,!1),[t._l(t.results,(function(e,a){return[t._t("result",[s("li",t._b({key:t.resultProps[a].id},"li",t.resultProps[a],!1),[t._v(" "+t._s(t.getResultValue(e))+" ")])],{result:e,props:t.resultProps[a]})]}))],2)])},m=[];Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){let e=this;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});let p=function(){let t=0;return function(e){return(e||"")+ ++t}}();var h={name:"Autocomplete",inheritAttrs:!1,props:{search:{type:Function,required:!0},baseClass:{type:String,default:"form-autocomplete"},resultListClass:{type:String,default:"menu"},resultClass:{type:String,default:"menu-item"},inputClass:{type:String,default:"autocomplete-input form-input"},autoSelect:{type:Boolean,default:!1},getResultValue:{type:Function,default:t=>t},defaultValue:{type:String,default:""}},data(){return{value:this.defaultValue,resultListId:p(this.resultListClass+"-"),results:[],selectedIndex:-1,searchCounter:0,expanded:!1,loading:!1,position:"below",resetPosition:!0}},watch:{defaultValue(t){this.value=t}},computed:{containerProps(){return{class:this.baseClass,style:{position:"relative"},"data-expanded":this.expanded,"data-loading":this.loading,"data-position":this.position}},inputProps(){return{class:this.inputClass,value:this.value,role:"combobox",autocomplete:"off",autocapitalize:"off",autocorrect:"off",spellcheck:"false","aria-autocomplete":"list","aria-haspopup":"listbox","aria-owns":this.resultListId,"aria-expanded":this.expanded?"true":"false","aria-activedescendant":this.selectedIndex>-1?this.resultProps[this.selectedIndex].id:"",...this.$attrs}},resultListProps(){return{id:this.resultListId,class:this.resultListClass,role:"listbox"}},resultProps(){return this.results.map((t,e)=>({id:this.resultClass+"-"+e,class:this.resultClass,"data-result-index":e,role:"option",...this.selectedIndex===e?{"aria-selected":"true"}:{}}))}},mounted(){document.body.addEventListener("click",this.handleDocumentClick)},beforeDestroy(){document.body.removeEventListener("click",this.handleDocumentClick)},updated(){if(!this.$refs.input||!this.$refs.resultList)return;let t=this.$refs.input.getBoundingClientRect(),e=this.$refs.resultList.getBoundingClientRect();this.resetPosition&&this.results.length&&(this.resetPosition=!1,this.position=t.bottom+e.height>window.innerHeight&&window.innerHeight-t.bottom<t.top&&window.pageYOffset+t.top-e.height>0?"above":"below");let s=this.$refs.resultList.querySelector('[data-result-index="'+this.selectedIndex+'"]');if(!s)return;let a=s.getBoundingClientRect();a.top<e.top?this.$refs.resultList.scrollTop-=e.top-a.top:a.bottom>e.bottom&&(this.$refs.resultList.scrollTop+=a.bottom-e.bottom)},methods:{setValue(t){this.value=t?this.getResultValue(t):""},handleInput(t){this.value=t.target.value,this.updateResults(this.value)},handleFocus(t){this.updateResults(t.target.value),this.value=t.target.value},handleBlur(){this.hideResults(),this.$emit("blur")},handleUp(){const t=this.results.length;this.selectedIndex=((this.selectedIndex-1)%t+t)%t},handleDown(t){this.expanded||this.handleFocus(t);const e=this.results.length;this.selectedIndex=((this.selectedIndex+1)%e+e)%e},handleEsc(){this.hideResults(),this.setValue()},handleEnter(){this.handleSubmit(this.selectResult())},handleTab(){this.selectResult()},hideResults(){this.selectedIndex=-1,this.results=[],this.expanded=!1,this.resetPosition=!0},selectResult(){const t=this.results[this.selectedIndex];return t&&this.setValue(t),this.hideResults(),t},handleSubmit(t){this.$emit("submit",t)},handleResultClick(t){const e=t.target.closest("[data-result-index]");e&&(this.selectedIndex=parseInt(e.dataset.resultIndex,10),this.handleSubmit(this.selectResult()))},handleDocumentClick(t){this.$refs.container.contains(t.target)||this.hideResults()},updateResults:function(t){const e=this.search(t);if(e instanceof Promise){const t=++this.searchCounter;this.loading=!0,e.then(e=>{t===this.searchCounter&&(this.results=e,this.loading=!1,this.results.length?(this.selectedIndex=this.autoSelect?0:-1,this.expanded=!0):this.hideResults())})}else this.results=e,0===this.results.length?this.hideResults():(this.selectedIndex=this.autoSelect?0:-1,this.expanded=!0)}}},f=h,v=l(f,d,m,!1,null,null,null),g=v.exports,b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",t._b({},"div",t.rootProps,!1),[t.hasInput?s("date-input",t._b({ref:"input",attrs:{value:t.selectedDate},on:{input:t.handleInput,"toggle-datepicker":t.toggleDatepicker}},"date-input",t.inputProps,!1)):t._e(),s("div",t._b({staticClass:"calendar"},"div",t.calendarProps,!1),[s("div",{staticClass:"calendar-nav navbar"},[s("button",{staticClass:"btn btn-action btn-link btn-large prvMon",on:{click:function(e){return e.stopPropagation(),t.previousMonth(e)}}}),s("div",{staticClass:"month navbar-primary"},[t._v(t._s(t.monthLabel)+" "+t._s(t.year))]),s("button",{staticClass:"btn btn-action btn-link btn-large nxtMon",on:{click:function(e){return e.stopPropagation(),t.nextMonth(e)}}})]),s("div",{staticClass:"calendar-container"},[s("div",{staticClass:"calendar-header"},t._l(t.weekdays,(function(e){return s("div",{staticClass:"calendar-date"},[t._v(t._s(e))])})),0),s("div",{staticClass:"calendar-body"},t._l(t.days,(function(e){return s("div",{staticClass:"calendar-date text-center",class:t.getCellClass(e)},[s("button",{staticClass:"date-item",class:t.getButtonClass(e),attrs:{type:"button",disabled:t.isDisabled(e)},on:{click:function(s){s.stopPropagation(),!t.isDisabled(e)&&t.selectDate(e)}}},[t._v(t._s(e.getDate()))])])})),0)])])],1)},y=[],_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"date-input"},[s("div",{staticClass:"input-group",style:t.computedStyles},[t.dateString?s("div",{staticClass:"form-input"},[s("span",{staticClass:"chip"},[t._v(" "+t._s(t.dateString)+" "),s("a",{staticClass:"btn btn-clear",attrs:{href:"#","aria-label":"Close",role:"button"},on:{click:function(e){return e.preventDefault(),t.handleClear(e)}}})])]):s("input",{directives:[{name:"model",rawName:"v-model",value:t.inputString,expression:"inputString"}],staticClass:"form-input",attrs:{type:"text",autocomplete:"off"},domProps:{value:t.inputString},on:{blur:t.handleBlur,input:function(e){e.target.composing||(t.inputString=e.target.value)}}}),t.showButton?s("button",{staticClass:"btn webfont-icon-only btn-primary input-group-btn",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.$emit("toggle-datepicker")}}},[t._v("")]):t._e()])])},C=[];const x="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),w="Sun Mon Tue Wed Thu Fri Sat".split(" ");var k={formatDate(t,e,s){if(!t instanceof Date)return"";let a=s&&s.dayNames?s.dayNames:w,i=s&&s.monthNames?s.monthNames:x;return e.replace(/\bd\b/,t.getDate()).replace(/\bdd\b/,("0"+t.getDate()).slice(-2)).replace(/\bm\b/,t.getMonth()+1).replace(/\bmm\b/,("0"+(t.getMonth()+1)).slice(-2)).replace(/\bmmm\b/,i[t.getMonth()].trim()).replace(/\by\b/,t.getFullYear()).replace(/\bw\b/,a[t.getDay()].trim())},parseDate(t,e){let s,a=e.toLowerCase().replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),i=[];if((s=e.match(/\bd\b/gi))&&1===s.length)a=a.replace("d","(\\d{1,2})");else{if(!(s=e.match(/\bdd\b/gi))||1!==s.length)return!1;a=a.replace("dd","(\\d{2})")}if(i.push({srcPos:e.toLowerCase().indexOf("d"),destPos:2}),(s=e.match(/\bm\b/gi))&&1===s.length)a=a.replace("m","(\\d{1,2})");else{if(!(s=e.match(/\bmm\b/gi))||1!==s.length)return!1;a=a.replace("mm","(\\d{2})")}if(i.push({srcPos:e.toLowerCase().indexOf("m"),destPos:1}),!(s=e.match(/\by\b/gi))||1!==s.length)return!1;if(a=a.replace("y","(\\d{4})"),i.push({srcPos:e.toLowerCase().indexOf("y"),destPos:0}),!(s=t.match(a)))return!1;s.shift(),i.sort((t,e)=>t.srcPos<e.srcPos?-1:1);let r,n,o=[];while(r=s.shift())n=i.shift(),o[n.destPos]=r;return o=Date.parse(o.join("-")),!!o&&(o=new Date(o),new Date(o.getFullYear(),o.getMonth(),o.getDate(),0,0,0))},isValidTime:function(t){let e=t.match(/^\s*([0-9]{1,2}):([0-9]{1,2})(?::([0-9]{1,2}))?\s*$/);return e&&e[1]<24&&e[2]<60&&(!e[3]||e[3]<60)}},P={data(){return{inputString:null}},props:{monthNames:{type:Array,default:()=>"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")},dayNames:{type:Array,default:()=>"Mon Tue Wed Thu Fri Sat Sun".split(" ")},outputFormat:{type:String,default:"y-mm-dd"},inputFormat:{type:String,default:"y-m-d"},showButton:{type:Boolean,default:!0},value:Date},watch:{value(t){this.inputString=t?k.formatDate(t,this.outputFormat):""}},computed:{dateString(){return this.value?k.formatDate(this.value,this.outputFormat):""},computedStyles(){return{width:"100%"}}},methods:{handleBlur(){let t=k.parseDate(this.inputString,this.inputFormat);this.$emit("input",t||null)},handleClear(){this.$emit("input",null)}}},D=P,F=l(D,_,C,!1,null,null,null),$=F.exports,S={components:{DateInput:$},data(){return{year:null,month:null,day:null,selectedDate:null,expanded:!this.hasInput}},watch:{value(t){this.year=(t||this.today).getFullYear(),this.month=(t||this.today).getMonth(),this.dateDay=(t||this.today).getDate(),this.selectedDate=t||null}},computed:{rootProps(){return{class:["datepicker",this.$attrs["class"]],style:{position:"relative"}}},inputProps(){return{style:{position:"relative"},inputFormat:this.$attrs["input-format"],outputFormat:this.$attrs["output-format"],dayNames:this.$attrs["day-names"],monthNames:this.$attrs["month-names"],showButton:this.$attrs["show-button"]}},calendarProps(){return{style:this.hasInput?{display:this.expanded?"block":"none",position:"absolute",top:"100%",transform:"translateY(.2rem)","z-index":300}:{}}},days(){const t=[],e=new Date(this.year,this.month+1,0),s=new Date(this.year,this.month,0).getDay()+1-this.startOfWeekIndex,a=(7-e.getDay())%7-1+this.startOfWeekIndex;for(let i=-s,r=e.getDate()+a;i<r;++i)t.push(new Date(this.year,this.month,i+1));return t},monthLabel(){return this.monthNames[this.month]},today(){const t=new Date;return new Date(t.getFullYear(),t.getMonth(),t.getDate())}},props:{value:{type:Date},validFrom:{type:Date},validUntil:{type:Date},weekdays:{type:Array,default:()=>"M T W T F S S".split(" ")},monthNames:{type:Array,default:()=>"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")},startOfWeekIndex:{type:Number,default:1,validator:t=>!t||1===t},hasInput:{type:Boolean,default:!0}},mounted(){this.hasInput&&document.body.addEventListener("click",this.handleDocumentClick),this.year=(this.value||this.today).getFullYear(),this.month=(this.value||this.today).getMonth(),this.dateDay=(this.value||this.today).getDate(),this.selectedDate=this.value||null},beforeDestroy(){this.hasInput&&document.body.removeEventListener("click",this.handleDocumentClick)},methods:{isDisabled(t){return this.validFrom&&this.validFrom>t||this.validUntil&&this.validUntil<t},getCellClass(t){return["prev-month","","next-month"][t.getMonth()-this.month+1]},getButtonClass(t){const e=[];return this.today.getTime()===t.getTime()&&e.push("date-today"),this.selectedDate&&this.selectedDate.getTime()===t.getTime()&&e.push("active"),e},previousMonth(){const t=new Date(this.year,this.month-1,this.dateDay);this.month=t.getMonth(),this.year=t.getFullYear(),this.$emit("month-change")},nextMonth(){const t=new Date(this.year,this.month+1,this.dateDay);this.month=t.getMonth(),this.year=t.getFullYear(),this.$emit("month-change")},selectDate(t){this.selectedDate=t,this.$emit("input",t),this.expanded=!this.hasInput},toggleDatepicker(){this.expanded=!this.expanded},handleDocumentClick(){this.expanded=!1},handleInput(t){this.selectedDate=t,this.$emit("input",t)}}},I=S,T=l(I,b,y,!1,null,null,null),E=T.exports,O=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",{staticClass:"table table-striped"},[s("thead",[s("tr",t._l(t.columns,(function(e){return s("th",{class:["vx-sortable-header",e.cssClass,t.sortColumn===e?t.sortDir:null,e.width],on:{click:function(s){e.sortable&&t.clickSort(e)}}},[t._t(e.prop+"-header",[t._v(" "+t._s(e.label)+" ")],{column:e})],2)})),0)]),s("tbody",t._l(t.sortedRows,(function(e){return s("tr",{key:e.key,class:e.cssClass},t._l(t.columns,(function(a){return s("td",{class:{active:t.sortColumn===a}},[t._t(a.prop,[t._v(t._s(e[a.prop]))],{row:e})],2)})),0)})),0)])},R=[],M={name:"sortable",props:{columns:{type:Array,required:!0,validator(t){for(let e=t.length;e--;)if(void 0===t[e].label||void 0===t[e].prop)return!1;return!0}},rows:{type:Array,required:!0},sortProp:{type:String},sortDirection:{type:String,validator(t){return!t||-1!==["asc","desc"].indexOf(t)}}},data(){return{sortColumn:this.columns.find(t=>t.prop===this.sortProp),sortDir:this.sortDirection}},computed:{sortedRows(){return this.sortColumn?this.doSort(this.sortColumn,this.sortDir):this.rows}},methods:{clickSort(t){this.$emit("before-sort"),this.sortColumn===t?this.sortDir="asc"===this.sortDir?"desc":"asc":this.sortColumn=t,this.$nextTick(()=>this.$emit("after-sort"))},doSort(t,e){let s=this.rows;if("asc"===e&&t.sortAscFunction)s.sort(t.sortAscFunction);else if("desc"===e&&t.sortDescFunction)s.sort(t.sortDescFunction);else{let a=t.prop;s.sort((t,s)=>t[a]<s[a]?"asc"===e?-1:1:t[a]>s[a]?"asc"===e?1:-1:0)}return s}}},N=M,A=l(N,O,R,!1,null,null,null),j=A.exports,B=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"vx-tree"},[s("simple-tree-branch",{directives:[{name:"bubble",rawName:"v-bubble.branch-selected",modifiers:{"branch-selected":!0}}],attrs:{branch:t.branch}})],1)},L=[],U=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{class:{terminates:!t.branch.branches||!t.branch.branches.length}},[t.branch.branches&&t.branch.branches.length?[s("input",{attrs:{type:"checkbox",id:"branch-"+t.branch.id},domProps:{checked:t.expanded},on:{click:function(e){t.expanded=!t.expanded}}}),s("label",{attrs:{for:"branch-"+t.branch.id}})]:t._e(),t.branch.current?s("strong",[t._v(t._s(t.branch.label))]):s("a",{attrs:{href:t.branch.path},on:{click:function(e){return e.preventDefault(),t.$emit("branch-selected",t.branch)}}},[t._v(t._s(t.branch.label))]),t.branch.branches&&t.branch.branches.length?s("ul",{directives:[{name:"show",rawName:"v-show",value:t.expanded,expression:"expanded"}]},t._l(t.branch.branches,(function(t){return s("simple-tree-branch",{directives:[{name:"bubble",rawName:"v-bubble.branch-selected",modifiers:{"branch-selected":!0}}],key:t.id,attrs:{branch:t}})})),1):t._e()],2)},W=[],z={name:"simple-tree-branch",data(){return{expanded:!1}},props:{branch:{type:Object,default:()=>({})}},mounted(){if(this.branch.current){let t=this.$parent;while(t&&t.branch&&void 0!==t.expanded)t.expanded=!0,t=t.$parent}}},J=z,q=l(J,U,W,!1,null,null,null),V=q.exports;const X={bind(t,e,s){Object.keys(e.modifiers).forEach(e=>{s.componentInstance?(s.componentInstance.$off(e),s.componentInstance.$on(e,(...t)=>{s.context.$emit(e,...t)})):t.addEventListener(e,t=>{s.context.$emit(e,t)})})}},Y={inserted:t=>t.focus()};Vue.directive("bubble",X);var H={name:"simple-tree",props:{branch:Object},components:{SimpleTreeBranch:V}},K=H,G=l(K,B,L,!1,null,null,null),Z=G.exports,Q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:{"dragged-over":t.indicateDrag},on:{drop:function(e){return e.preventDefault(),t.uploadFile(e)},dragover:function(e){e.preventDefault(),t.indicateDrag=!0},dragleave:function(e){e.preventDefault(),t.indicateDrag=!1}}},[s("div",{staticClass:"vx-button-bar navbar"},[s("section",{staticClass:"navbar-section"},[s("span",{staticClass:"btn-group"},t._l(t.breadcrumbs,(function(e){return s("button",{key:e.id,staticClass:"btn",class:{active:e.id===t.currentFolder.id},on:{click:function(s){return t.readFolder(e)}}},[t._v(t._s(e.name))])})),0)]),s("section",{staticClass:"navbar-section"},[t.uploadInProgress?[s("button",{staticClass:"btn btn-link webfont-icon-only tooltip",attrs:{"data-tooltip":"Abbrechen",type:"button"},on:{click:t.cancelUpload}},[t._v("")]),s("label",{staticClass:"d-inline-block mr-2"},[t._v(t._s(t.progress.file))]),s("progress",{staticClass:"progress",attrs:{max:t.progress.total},domProps:{value:t.progress.loaded}})]:s("strong",{staticClass:"text-primary d-block col-12 text-center"},[t._v("Uploads hierher ziehen")])],2),s("section",{staticClass:"navbar-section"},[t.showAddFolderInput?s("input",{directives:[{name:"focus",rawName:"v-focus"}],ref:"addFolderInput",staticClass:"form-input",on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addFolder(e)},function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.showAddFolderInput=!1}],blur:function(e){t.showAddFolderInput=!1}}}):t._e(),t.showAddFolderInput?t._e():s("button",{staticClass:"btn webfont-icon-only btn-primary tooltip",attrs:{"data-tooltip":"Verzeichnis erstellen",type:"button"},on:{click:function(e){t.showAddFolderInput=!0}}},[t._v("")])])]),s("sortable",{ref:"sortable",attrs:{rows:t.directoryEntries,columns:t.columns,"sort-prop":t.initSort.column,"sort-direction":t.initSort.dir},on:{"after-sort":function(e){return t.$emit("after-sort",{sortColumn:t.$refs.sortable.sortColumn,sortDir:t.$refs.sortable.sortDir})}},scopedSlots:t._u([{key:"name",fn:function(e){return[e.row.isFolder?[e.row===t.toRename?s("input",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"form-input",domProps:{value:e.row.name},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.renameFolder(e)},function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.toRename=null}],blur:function(e){t.toRename=null}}}):[s("a",{attrs:{href:"#"+e.row.id},on:{click:function(s){return s.preventDefault(),t.readFolder(e.row)}}},[t._v(t._s(e.row.name))]),s("button",{staticClass:"btn webfont-icon-only tooltip mr-1 rename display-only-on-hover ml-2",attrs:{"data-tooltip":"Umbenennen"},on:{click:function(s){t.toRename=e.row}}},[t._v("")])]]:[e.row===t.toRename?s("input",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"form-input",domProps:{value:e.row.name},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.renameFile(e)},function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.toRename=null}],blur:function(e){t.toRename=null}}}):[s("span",[t._v(t._s(e.row.name))]),s("button",{staticClass:"btn webfont-icon-only tooltip mr-1 rename display-only-on-hover ml-2",attrs:{"data-tooltip":"Umbenennen"},on:{click:function(s){t.toRename=e.row}}},[t._v("")])]]]}},{key:"size",fn:function(e){return[e.row.isFolder?t._e():[t._v(t._s(t._f("formatFilesize")(e.row.size,",")))]]}},{key:"type",fn:function(e){return[e.row.image?s("img",{attrs:{src:e.row.src,alt:""}}):s("span",[t._v(t._s(e.row.type))])]}},t._l(t.$scopedSlots,(function(e,s){return{key:s,fn:function(e){return[t._t(s,null,null,e)]}}}))],null,!0)}),t.showEditForm?s("div",{staticClass:"modal active"},[s("div",{staticClass:"modal-overlay"}),s("div",{staticClass:"modal-container"},[s("div",{staticClass:"modal-header"},[s("a",{staticClass:"btn btn-clear float-right",attrs:{href:"#close","aria-label":"Close"},on:{click:function(e){e.preventDefault(),t.showEditForm=!1}}})]),s("div",{staticClass:"modal-body"},[s("file-edit-form",{ref:"editForm",attrs:{"initial-data":t.editFormData,"file-info":t.editFileInfo,url:t.routes.updateFile},on:{"response-received":function(e){return t.$emit("response-received",e)}}})],1)])]):t._e(),t.showFolderTree?s("div",{staticClass:"modal active"},[s("div",{staticClass:"modal-overlay"}),s("div",{staticClass:"modal-container"},[s("div",{staticClass:"modal-header"},[s("a",{staticClass:"btn btn-clear float-right",attrs:{href:"#close","aria-label":"Close"},on:{click:function(e){e.preventDefault(),t.showFolderTree=!1}}}),s("div",{staticClass:"modal-title h5"},[t._v("Zielordner wählen…")])]),s("div",{staticClass:"modal-body"},[s("simple-tree",{attrs:{branch:t.root},on:{"branch-selected":t.moveToFolder}})],1)])]):t._e()],1)},tt=[],et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{attrs:{action:"/",id:"events-edit-form"},on:{submit:function(t){t.preventDefault()}}},[s("div",{staticClass:"columns"},[s("div",{staticClass:"column"},[t.fileInfo.thumb?s("img",{staticClass:"img-responsive",attrs:{src:t.fileInfo.thumb}}):t._e()]),s("div",{staticClass:"column"},[s("table",{staticClass:"table"},[s("tr",[s("td",[t._v("Typ")]),s("td",[t._v(t._s(t.fileInfo.mimetype))])]),t.fileInfo.cache?s("tr",[s("td",[t._v("Cache")]),s("td",[t._v(t._s(t.fileInfo.cache.count)+" Files, "+t._s(t._f("formatFilesize")(t.fileInfo.cache.totalSize,",")))])]):t._e(),s("tr",[s("td",[t._v("Link")]),s("td",[s("a",{attrs:{href:"/"+t.fileInfo.path,target:"_blank"}},[t._v(t._s(t.fileInfo.name))])])])])])]),s("div",{staticClass:"divider",attrs:{"data-content":"Metadaten der Datei"}}),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"title_input"}},[t._v("Titel")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],staticClass:"form-input",class:{"is-error":t.errors.title},attrs:{id:"title_input",autocomplete:"off"},domProps:{value:t.form.title},on:{input:function(e){e.target.composing||t.$set(t.form,"title",e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"subtitle_input"}},[t._v("Untertitel")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.subtitle,expression:"form.subtitle"}],staticClass:"form-input",class:{"is-error":t.errors.subtitle},attrs:{id:"subtitle_input",autocomplete:"off"},domProps:{value:t.form.subtitle},on:{input:function(e){e.target.composing||t.$set(t.form,"subtitle",e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"description_input"}},[t._v("Beschreibung")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.description,expression:"form.description"}],staticClass:"form-input",class:{"is-error":t.errors.description},attrs:{rows:"2",id:"description_input"},domProps:{value:t.form.description},on:{input:function(e){e.target.composing||t.$set(t.form,"description",e.target.value)}}})]),s("div",{staticClass:"divider",attrs:{"data-content":"Erweiterte Einstellungen"}}),s("div",{staticClass:"divider"}),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"customsort_input"}},[t._v("Untertitel")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.customsort,expression:"form.customsort"}],staticClass:"form-input col-4",class:{"is-error":t.errors.customsort},attrs:{id:"customsort_input",autocomplete:"off"},domProps:{value:t.form.customsort},on:{input:function(e){e.target.composing||t.$set(t.form,"customsort",e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("button",{staticClass:"btn btn-success col-12",class:{loading:t.loading},attrs:{type:"button",disabled:t.loading},on:{click:t.submit}},[t._v("Änderungen speichern")])])])},st=[];async function at(t,e="GET",s={},a=null){!s["X-CSRF-Token"]&&document.querySelector('meta[name="csrf-token"]')&&(s["X-CSRF-Token"]=document.querySelector('meta[name="csrf-token"]').getAttribute("content"));const i=await fetch(t,{method:e.toUpperCase(),body:a,headers:s});return await i.json()}var it={props:{initialData:{type:Object,default:()=>({})},fileInfo:{type:Object,default:()=>({})},url:{type:String,default:""}},data(){return{form:{},response:{},loading:!1}},computed:{errors(){return this.response&&this.response.errors||{}},message(){return this.response?this.response.message:""}},watch:{initialData(t){this.form=Object.assign({},this.form,t)}},methods:{async submit(){this.loading=!0;let t={};Object.keys(this.form).forEach(e=>{null!==this.form[e]&&(t[e]=this.form[e])}),this.response=await at(this.url,"POST",{},JSON.stringify(t)),this.$emit("response-received",this.response),this.loading=!1}},filters:{formatFilesize(t,e){let s=["B","kB","MB","GB"],a=Math.floor(Math.floor(Math.log(t)/Math.log(1e3)));return(t/Math.pow(1e3,a)).toFixed(a?2:0).toString().replace(".",e||".")+s[a]}}},rt=it,nt=l(rt,et,st,!1,null,null,null),ot=nt.exports;function lt(t,e="GET",s={},a=null,i=null,r=null,n=null){!s["X-CSRF-Token"]&&document.querySelector('meta[name="csrf-token"]')&&(s["X-CSRF-Token"]=document.querySelector('meta[name="csrf-token"]').getAttribute("content")),s["Content-type"]=s["Content-type"]||"application/x-www-form-urlencoded";let o=new XMLHttpRequest,l=new Promise((function(l,c){o.onreadystatechange=()=>{4===o.readyState&&(o.status>=200&&o.status<300?l(JSON.parse(o.responseText)):c({status:o.status,statusText:o.statusText,responseText:o.responseText}))},o.upload.onprogress=r||null,n&&(n.cancel=()=>{o.abort(),c({status:499,statusText:"Request cancelled."})}),o.open(e,t,!0),o.responseType="text",Object.keys(s).forEach(t=>o.setRequestHeader(t,s[t])),i&&(o.timeout=i,o.ontimeout=t=>{c({status:408,statusText:"Request timeout."})}),o.send(a)}));return l.cancel=()=>o.abort(),l}function ct(t,e){let s=Math.floor(Math.floor(Math.log(t)/Math.log(1e3)));return(t/Math.pow(1e3,s)).toFixed(s?2:0).toString().replace(".",e||".")+["B","kB","MB","GB"][s]}var ut={components:{sortable:j,"simple-tree":Z,"file-edit-form":ot},data(){return{root:{},currentFolder:{},files:[],folders:[],breadcrumbs:[],toRename:null,toMove:null,showAddFolderInput:!1,showEditForm:!1,showFolderTree:!1,indicateDrag:!1,uploads:[],uploadInProgress:!1,cancelUploadToken:{},progress:{total:null,loaded:null,file:null},editFormData:{},editFileInfo:{}}},computed:{directoryEntries(){let t=this.folders,e=this.files;return t.forEach(t=>{t.isFolder=!0,t.key="d"+t.id}),e.forEach(t=>t.key=t.id),[...t,...e]}},props:{routes:{type:Object,required:!0},columns:{type:Array,required:!0},initSort:{type:Object}},async created(){let t=await at(this.routes.init);this.breadcrumbs=t.breadcrumbs||[],this.files=t.files||[],this.folders=t.folders||[],this.currentFolder=t.currentFolder},methods:{async readFolder(t){let e=await at(this.routes.readFolder+"?id="+t.id);if(e.success){if(this.files=e.files||[],this.folders=e.folders||[],this.currentFolder=t,!this.breadcrumbs)return;(e.breadcrumbs.length>=this.breadcrumbs.length||0!==this.breadcrumbs.map(t=>t.id).join().indexOf(e.breadcrumbs.map(t=>t.id).join()))&&(this.breadcrumbs=e.breadcrumbs)}},async editFile(t){this.showEditForm=!0;let e=await at(this.routes.getFile+"?id="+t.id);this.editFormData=e.form||{},this.editFileInfo=e.fileInfo||{},this.editFormData.id=t.id},async delFile(t){if(window.confirm("Datei '"+t.name+"' wirklich löschen?")){let e=await at(this.routes.delFile+"?id="+t.id,"DELETE");e.success&&this.files.splice(this.files.findIndex(e=>t===e),1)}},async renameFile(t){let e=t.target.value.trim();if(e&&this.toRename){let t=await at(this.routes.renameFile,"POST",{},JSON.stringify({name:e,id:this.toRename.id}));t.success&&(this.toRename.name=t.name||e,this.toRename=null)}},async renameFolder(t){let e=t.target.value.trim();if(e&&this.toRename){let t=await at(this.routes.renameFolder,"POST",{},JSON.stringify({name:e,id:this.toRename.id}));if(t.success){let s=this.breadcrumbs.findIndex(t=>t.id===this.toRename.id);-1!==s&&(this.breadcrumbs[s].name=t.name),this.toRename.name=t.name||e,this.toRename=null}}},async delFolder(t){if(window.confirm("Ordner und Inhalt von '"+t.name+"' wirklich löschen?")){let e=await at(this.routes.delFolder+"?id="+t.id,"DELETE");if(e.success){this.folders.splice(this.folders.findIndex(e=>t===e),1);let e=this.breadcrumbs.findIndex(e=>e.id===t.id);-1!==e&&this.breadcrumbs.splice(e)}}},async addFolder(){let t=this.$refs.addFolderInput.value.trim();if(t){let e=await at(this.routes.addFolder,"POST",{},JSON.stringify({name:t,parent:this.currentFolder.id}));e.success&&(this.showAddFolderInput=!1),e.folder&&this.folders.push(e.folder)}},async getFolderTree(t){this.toMove=t;let e=await at(this.routes.getFoldersTree+"?id="+this.currentFolder.id);this.showFolderTree=!0,this.root=e},async moveToFolder(t){if(this.toMove){let e=await at(this.routes.moveFile,"POST",{},JSON.stringify({id:this.toMove.id,folderId:t.id}));e.success?(this.files.splice(this.files.findIndex(t=>this.toMove===t),1),this.toMove=null,this.showFolderTree=!1):this.$emit("response-received",e)}},uploadFile(t){this.indicateDrag=!1;let e=t.dataTransfer.files;e&&([...e].forEach(t=>this.uploads.push(t)),this.uploadInProgress||(this.uploadInProgress=!0,this.handleUploads()))},async handleUploads(){let t=null,e=null;while(void 0!==(t=this.uploads.shift())){this.progress.file=t.name;try{e=await lt(this.routes.uploadFile+"?id="+this.currentFolder.id,"POST",{"Content-type":t.type||"application/octet-stream","X-File-Name":t.name.replace(/[^\x00-\x7F]/g,t=>encodeURIComponent(t)),"X-File-Size":t.size,"X-File-Type":t.type},t,null,t=>{this.progress.total=t.total,this.progress.loaded=t.loaded},this.cancelUploadToken),this.files=e.files||[]}catch(s){return this.uploads=[],void(this.uploadInProgress=!1)}if(!e.success)return this.$emit("response-received",e),this.uploads=[],void(this.uploadInProgress=!1)}this.$emit("response-received",{success:!0,message:e.message||"File upload successful"}),this.uploadInProgress=!1},cancelUpload(){this.cancelUploadToken.cancel&&(this.cancelUploadToken.cancel(),this.cancelUploadToken={})}},directives:{focus:Y},filters:{formatFilesize:ct}},dt=ut,mt=l(dt,Q,tt,!1,null,null,null),pt=mt.exports,ht=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.items.length?s("ul",{staticClass:"tab",class:{"tab-block":t.block}},[t._l(t.items,(function(e,a){return s("li",{key:a,staticClass:"tab-item",class:{active:t.activeIndex===a}},[s("z-link",{class:{disabled:e.disabled},attrs:{badge:e.badge,name:e.name},on:{click:function(s){return t.itemOnClick(e)}}})],1)})),t.hasActionSlot?s("li",{staticClass:"tab-item tab-action"},[t._t("action")],2):t._e()],2):t._e()])},ft=[],vt={name:"Tab",props:{items:{type:Array,default:[]},activeIndex:{type:Number,default:0},block:{type:Boolean,default:!1}},data(){return{activeTab:{}}},computed:{hasActionSlot(){return!!this.$slots.action}},created(){this.activeTab=this.items[this.activeIndex]||{}},watch:{activeIndex(t){this.activeTab=this.items[t]||{}}},methods:{itemOnClick(t){t.disabled||(this.activeTab=t,this.$emit("update:activeIndex",this.items.indexOf(t)))}}},gt=vt,bt=l(gt,ht,ft,!1,null,null,null),yt=bt.exports,_t=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("ul",{staticClass:"pagination"},[t.showNavButtons?s("li",{staticClass:"page-item",class:{disabled:!t.hasPrev}},[s("z-link",{attrs:{tabindex:"-1"},on:{click:function(){return t.prevPage()}}},[t._v(t._s(t.prevText))])],1):t._e(),t._l(t.pagesToShow,(function(e,a){return s("li",{key:a,staticClass:"page-item",class:{active:t.currentPage===e}},["dots"!==e?s("z-link",{on:{click:function(){return t.pageClick(e)}}},[t._v(t._s(e))]):s("span",[t._v("...")])],1)})),t.showNavButtons?s("li",{staticClass:"page-item",class:{disabled:!t.hasNext}},[s("z-link",{attrs:{tabindex:"-1"},on:{click:function(){return t.nextPage()}}},[t._v(t._s(t.nextText))])],1):t._e()],2)])},Ct=[];const xt={prevText:{type:String,default:()=>"Previous"},nextText:{type:String,default:()=>"Next"},items:Array,total:{type:Number,default:()=>0},page:{type:Number,default:()=>1},perPage:{type:Number,default:()=>20},showNavButtons:{type:Boolean,default:()=>!0},showAllPages:{type:Boolean,default:()=>!1},onPageChange:Function},wt=function(){return{currentPage:1,maxPage:0,showPerPage:20,dataItems:void 0}};var kt={name:"Pagination",props:xt,data:wt,created(){this.currentPage=this.page,this.totalResults="undefined"!==typeof this.items?this.items.length:this.total,this.showPerPage=this.perPage,"undefined"!==typeof this.items&&(this.dataItems=this.items),this.countMaxPage(),"function"===typeof this.onPageChange&&this.onPageChange.apply(null,[this.currentPage,this.dataResults,this.maxPage])},methods:{pageClick(t){this.currentPage=t,this.$emit("update:page",t),"function"===typeof this.onPageChange&&this.onPageChange.apply(null,[t,this.dataResults,this.maxPage])},prevPage(){this.currentPage>1&&this.pageClick(this.currentPage-1)},nextPage(){this.currentPage<this.maxPage&&this.pageClick(this.currentPage+1)},countMaxPage(){this.maxPage=Math.ceil(this.totalResults/this.showPerPage)}},watch:{page(t){t<1?t=1:t>this.maxPage&&(t=this.maxPage),this.currentPage=t,"function"===typeof this.onPageChange&&this.onPageChange.apply(null,[this.currentPage,this.dataResults,this.maxPage])},total(t){t<0&&(t=0),this.totalResults=t,this.countMaxPage(),this.pageClick(1)},perPage(t){t<1&&(t=20),this.showPerPage=t,this.countMaxPage(),this.pageClick(1)},items(t){this.dataItems=t,this.totalResults=this.dataItems.length,this.$emit("update:total",this.totalResults),this.countMaxPage(),this.pageClick(1)}},computed:{hasPrev(){return this.currentPage>1},hasNext(){return this.currentPage<this.maxPage},dataResults(){if("undefined"!==typeof this.dataItems&&this.dataItems.length>0){let t=(this.currentPage-1)*this.showPerPage,e=this.currentPage*this.showPerPage;return this.dataItems.slice(t,e)}return null},pagesToShow(){let t=[1];if(!0===this.showAllPages||this.maxPage<=7){for(var e=2;e<=this.maxPage;e++)t.push(e);return t}return this.currentPage>=this.maxPage?(t.push("dots"),t.push(this.currentPage-2),t.push(this.currentPage-1)):this.currentPage-1&&this.currentPage-1>1&&(this.currentPage-1>2&&t.push("dots"),t.push(this.currentPage-1)),this.currentPage>1&&t.push(this.currentPage),this.currentPage+1<this.maxPage&&(t.push(this.currentPage+1),this.currentPage<=1&&t.push(this.currentPage+2),this.currentPage+2<this.maxPage&&t.push("dots")),this.currentPage<this.maxPage&&t.push(this.maxPage),t}}},Pt=kt,Dt=l(Pt,_t,Ct,!1,null,null,null),Ft=Dt.exports,$t=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.hasLink?!t.hasHref&&t.hasLink?s("router-link",{class:t.linkClass,attrs:{to:t.linkRouter,"active-class":t.activeClass,exact:t.exact,"data-badge":t.badge},on:{click:function(e){return t.$emit("click")}}},[t.hasDefaultSlot?[t.hasIcon?s("z-icon",{attrs:{name:t.icon}}):t._e(),t._v(" "),t._t("default")]:t.hasDefaultSlot?t._e():[t.hasIcon?s("z-icon",{attrs:{name:t.icon}}):t._e(),t._v(" "+t._s(t.linkName))]],2):t._e():s("a",{class:t.linkClass,attrs:{href:t.linkHref,"data-badge":t.badge},on:{click:function(e){return t.$emit("click")}}},[t.hasDefaultSlot?[t.hasIcon?s("z-icon",{attrs:{name:t.icon}}):t._e(),t._v(" "),t._t("default")]:t.hasDefaultSlot?t._e():[t.hasIcon?s("z-icon",{attrs:{name:t.icon}}):t._e(),t._v(" "+t._s(t.linkName))]],2)},St=[],It={name:"Link",props:{href:{type:String},link:{type:Object},name:String,icon:String,activeClass:{type:String,default:()=>"active"},active:{type:Boolean,default:()=>!1},exact:{type:Boolean,default:()=>!1},badge:String},computed:{linkClass:function(){let t={"menu-item":!0,badge:!1};return!0===this.active&&"string"===typeof this.activeClass&&(t[this.activeClass]=!0),"undefined"!==typeof this.badge&&(t.badge=!0),t},hasIcon(){return"undefined"!==typeof this.icon},hasHref(){return"undefined"!==typeof this.href},hasLink(){return"undefined"!==typeof this.link},hasDefaultSlot(){return!!this.$slots.default},linkName(){return this.name},linkHref(){return this.href},linkRouter(){return this.link}}},Tt=It,Et=l(Tt,$t,St,!1,null,null,null),Ot=Et.exports,Rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ckeditor"},[s("textarea",{attrs:{name:t.name,id:t.id,types:t.types,config:t.config,disabled:t.readOnlyMode},domProps:{value:t.value}})])},Mt=[];let Nt=(new Date).getTime();var At={name:"VueCkeditor",props:{name:{type:String,default:()=>`editor-${++Nt}`},value:{type:String},id:{type:String,default:()=>`editor-${Nt}`},types:{type:String,default:()=>"classic"},config:{type:Object,default:()=>{}},instanceReadyCallback:{type:Function},readOnlyMode:{type:Boolean,default:()=>!1}},data(){return{instanceValue:""}},computed:{instance(){return CKEDITOR.instances[this.id]}},watch:{value(t){try{this.instance&&this.update(t)}catch(e){}},readOnlyMode(t){this.instance.setReadOnly(t)}},mounted(){this.create()},methods:{create(){"undefined"===typeof CKEDITOR?console.log("CKEDITOR is missing (http://ckeditor.com/)"):("inline"===this.types?CKEDITOR.inline(this.id,this.config):CKEDITOR.replace(this.id,this.config),this.instance.setData(this.value),this.instance.on("instanceReady",()=>{this.instance.setData(this.value)}),this.instance.on("change",this.onChange),this.instance.on("mode",this.onMode),this.instance.on("blur",t=>{this.$emit("blur",t)}),this.instance.on("focus",t=>{this.$emit("focus",t)}),this.instance.on("contentDom",t=>{this.$emit("contentDom",t)}),CKEDITOR.on("dialogDefinition",t=>{this.$emit("dialogDefinition",t)}),this.instance.on("fileUploadRequest",t=>{this.$emit("fileUploadRequest",t)}),this.instance.on("fileUploadResponse",t=>{setTimeout(()=>{this.onChange()},0),this.$emit("fileUploadResponse",t)}),"undefined"!==typeof this.instanceReadyCallback&&this.instance.on("instanceReady",this.instanceReadyCallback),this.$once("hook:beforeDestroy",()=>{this.destroy()}))},update(t){this.instanceValue!==t&&(this.instance.setData(t,{internal:!1}),this.instanceValue=t)},destroy(){try{let t=window["CKEDITOR"];t.instances&&t.instances[this.id]&&t.instances[this.id].destroy()}catch(t){}},onMode(){if("source"===this.instance.mode){let t=this.instance.editable();t.attachListener(t,"input",()=>{this.onChange()})}},onChange(){let t=this.instance.getData();t!==this.value&&(this.$emit("input",t),this.instanceValue=t)}}},jt=At,Bt=l(jt,Rt,Mt,!1,null,null,null),Lt=Bt.exports,Ut=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{staticClass:"form-horizontal",attrs:{action:"/"},on:{submit:function(t){t.preventDefault()}}},[s("div",{staticClass:"form-sect"},[s("div",{staticClass:"form-group"},[t._m(0),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.username,expression:"form.username"}],staticClass:"form-input",attrs:{name:"username",maxlength:"128",autocomplete:"off",id:"username_input",type:"text"},domProps:{value:t.form.username},on:{input:function(e){e.target.composing||t.$set(t.form,"username",e.target.value)}}}),t.errors.username?s("p",{staticClass:"form-input-hint vx-error-box error"},[t._v(t._s(t.errors.username))]):t._e()])]),s("div",{staticClass:"form-group"},[t._m(1),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-input",attrs:{name:"email",id:"email_input",autocomplete:"off",maxlength:"128",type:"text"},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}}),t.errors.email?s("p",{staticClass:"form-input-hint vx-error-box error"},[t._v(t._s(t.errors.email))]):t._e()])]),s("div",{staticClass:"form-group"},[t._m(2),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-input",attrs:{name:"name",id:"name_input",autocomplete:"off",maxlength:"128",type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t.errors.name?s("p",{staticClass:"form-input-hint vx-error-box error"},[t._v(t._s(t.errors.name))]):t._e()])]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"form-label col-3",attrs:{for:"pwd_input"}},[t._v("Neues Passwort")]),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.new_PWD,expression:"form.new_PWD"}],staticClass:"form-input",attrs:{name:"new_PWD",id:"pwd_input",autocomplete:"off",maxlength:"128",type:"password"},domProps:{value:t.form.new_PWD},on:{input:function(e){e.target.composing||t.$set(t.form,"new_PWD",e.target.value)}}}),t.errors.new_PWD?s("p",{staticClass:"form-input-hint vx-error-box error"},[t._v(t._s(t.errors.new_PWD))]):t._e()])]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"form-label col-3",attrs:{for:"pwd2_input"}},[t._v("Passwort wiederholen")]),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.new_PWD_verify,expression:"form.new_PWD_verify"}],staticClass:"form-input",attrs:{name:"new_PWD_verify",id:"pwd2_input",autocomplete:"off",maxlength:"128",type:"password"},domProps:{value:t.form.new_PWD_verify},on:{input:function(e){e.target.composing||t.$set(t.form,"new_PWD_verify",e.target.value)}}}),t.errors.new_PWD_verify?s("p",{staticClass:"form-input-hint vx-error-box error"},[t._v(t._s(t.errors.new_PWD_verify))]):t._e()])])]),t.notifications.length?[s("div",{staticClass:"divider text-center",attrs:{"data-content":"Benachrichtigungen"}}),s("div",{staticClass:"form-sect off-3"},t._l(t.notifications,(function(e){return s("div",{staticClass:"form-group"},[s("label",{staticClass:"form-switch"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.notifications,expression:"form.notifications"}],attrs:{name:"notification[]",type:"checkbox"},domProps:{value:e.alias,checked:Array.isArray(t.form.notifications)?t._i(t.form.notifications,e.alias)>-1:t.form.notifications},on:{change:function(s){var a=t.form.notifications,i=s.target,r=!!i.checked;if(Array.isArray(a)){var n=e.alias,o=t._i(a,n);i.checked?o<0&&t.$set(t.form,"notifications",a.concat([n])):o>-1&&t.$set(t.form,"notifications",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"notifications",r)}}}),s("i",{staticClass:"form-icon"}),t._v(t._s(e.label))])])})),0)]:t._e(),s("div",{staticClass:"divider"}),s("div",{staticClass:"form-base"},[s("div",{staticClass:"form-group off-3"},[s("button",{staticClass:"btn btn-success",class:{loading:t.loading},attrs:{name:"submit_profile",type:"button",disabled:t.loading},on:{click:t.submit}},[t._v("Änderungen speichern")])])])],2)},Wt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"form-label col-3",attrs:{for:"username_input"}},[s("strong",[t._v("Username*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"form-label col-3",attrs:{for:"email_input"}},[s("strong",[t._v("Email*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"form-label col-3",attrs:{for:"name_input"}},[s("strong",[t._v("Name*")])])}],zt={props:{url:{type:String,required:!0},initialData:{type:Object,default:()=>({})},notifications:{type:Array}},data(){return{form:{},response:{},loading:!1}},computed:{errors(){return this.response&&this.response.errors||{}},message(){return this.response?this.response.message:""}},watch:{initialData(t){this.form=t}},methods:{async submit(){this.loading=!0,this.$emit("request-sent"),this.response=await at(this.url,"post",{},JSON.stringify(this.form)),this.loading=!1,this.$emit("response-received")}}},Jt=zt,qt=l(Jt,Ut,Wt,!1,null,null,null),Vt=qt.exports,Xt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{staticClass:"form-horizontal",attrs:{action:"/"},on:{submit:function(t){t.preventDefault()}}},[s("div",{staticClass:"form-sect"},[s("div",{staticClass:"form-group"},[t._m(0),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.username,expression:"form.username"}],staticClass:"form-input",attrs:{name:"username",id:"username_input",autocomplete:"off",maxlength:"128",type:"text"},domProps:{value:t.form.username},on:{input:function(e){e.target.composing||t.$set(t.form,"username",e.target.value)}}}),t.errors.username?s("p",{staticClass:"form-input-hint vx-error-box error"},[t._v(t._s(t.errors.username))]):t._e()])]),s("div",{staticClass:"form-group"},[t._m(1),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-input",attrs:{name:"email",id:"email_input",autocomplete:"off",maxlength:"128",type:"text"},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}}),t.errors.email?s("p",{staticClass:"form-input-hint vx-error-box error"},[t._v(t._s(t.errors.email))]):t._e()])]),s("div",{staticClass:"form-group"},[t._m(2),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-input",attrs:{name:"name",id:"name_input",autocomplete:"off",maxlength:"128",type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t.errors.name?s("p",{staticClass:"form-input-hint vx-error-box error"},[t._v(t._s(t.errors.name))]):t._e()])]),s("div",{staticClass:"form-group"},[t._m(3),s("div",{staticClass:"col-9"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.form.admingroupsid,expression:"form.admingroupsid"}],staticClass:"form-select",attrs:{name:"admingroupsid",id:"admingroupsID_select"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"admingroupsid",e.target.multiple?s:s[0])}}},t._l(t.options.admingroups,(function(e){return s("option",{domProps:{value:e.admingroupsid}},[t._v(" "+t._s(e.name)+" ")])})),0),t.errors.admingroupsid?s("p",{staticClass:"form-input-hint vx-error-box error"},[t._v(t._s(t.errors.admingroupsid))]):t._e()])]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"form-label col-3",attrs:{for:"pwd_input"}},[t._v("Neues Passwort")]),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.new_PWD,expression:"form.new_PWD"}],staticClass:"form-input",attrs:{name:"new_PWD",id:"pwd_input",autocomplete:"off",maxlength:"128",type:"password"},domProps:{value:t.form.new_PWD},on:{input:function(e){e.target.composing||t.$set(t.form,"new_PWD",e.target.value)}}}),t.errors.new_PWD?s("p",{staticClass:"form-input-hint vx-error-box error"},[t._v(t._s(t.errors.new_PWD))]):t._e()])]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"form-label col-3",attrs:{for:"pwd2_input"}},[t._v("Passwort wiederholen")]),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.new_PWD_verify,expression:"form.new_PWD_verify"}],staticClass:"form-input",attrs:{name:"new_PWD_verify",id:"pwd2_input",autocomplete:"off",maxlength:"128",type:"password"},domProps:{value:t.form.new_PWD_verify},on:{input:function(e){e.target.composing||t.$set(t.form,"new_PWD_verify",e.target.value)}}}),t.errors.new_PWD_verify?s("p",{staticClass:"form-input-hint vx-error-box error"},[t._v(t._s(t.errors.new_PWD_verify))]):t._e()])])]),s("div",{staticClass:"divider"}),s("div",{staticClass:"form-base"},[s("div",{staticClass:"form-group off-3"},[s("button",{staticClass:"btn btn-success",class:{loading:t.loading},attrs:{name:"submit_user",value:"",type:"button",disabled:t.loading},on:{click:t.submit}},[t._v(t._s(t.form.id?"Daten übernehmen":"User anlegen"))])])])])},Yt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"form-label col-3",attrs:{for:"username_input"}},[s("strong",[t._v("Username*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"form-label col-3",attrs:{for:"email_input"}},[s("strong",[t._v("Email*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"form-label col-3",attrs:{for:"name_input"}},[s("strong",[t._v("Name*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"form-label col-3",attrs:{for:"admingroupsid_select"}},[s("strong",[t._v("Gruppe*")])])}],Ht={props:{url:{type:String,required:!0},initialData:{type:Object,default:()=>({})},options:{type:Object}},data:function(){return{form:{},response:{},loading:!1}},computed:{errors(){return this.response&&this.response.errors||{}},message(){return this.response?this.response.message:""}},watch:{initialData(t){this.form=t}},methods:{async submit(){this.loading=!0,this.$emit("request-sent"),this.response=await at(this.url,"post",{},JSON.stringify(this.form)),this.loading=!1,this.$emit("response-received")}}},Kt=Ht,Gt=l(Kt,Xt,Yt,!1,null,null,null),Zt=Gt.exports,Qt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{staticClass:"form-horizontal",attrs:{action:"/"},on:{submit:function(t){t.preventDefault()}}},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-3 form-label",class:{"text-error":t.errors.article_date},attrs:{for:"article_date_picker"}},[t._v("Artikeldatum")]),s("div",{staticClass:"col-3"},[s("div",{staticClass:"col-12 input-group input-inline"},[s("datepicker",{ref:"dateArticle",attrs:{id:"article_date_picker","input-format":"d.m.y","output-format":"d.m.y","day-names":"Mo Di Mi Do Fr Sa So".split(" "),"month-names":"Jan Feb Mär Apr Mai Jun Jul Aug Sep Okt Nov Dez".split(" ")},model:{value:t.form.article_date,callback:function(e){t.$set(t.form,"article_date",e)},expression:"form.article_date"}})],1)])]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-3 form-label",class:{"text-error":t.errors.display_from},attrs:{for:"display_from_picker"}},[t._v("Anzeige von")]),s("div",{staticClass:"col-3"},[s("div",{staticClass:"col-12 input-group input-inline"},[s("datepicker",{ref:"dateFrom",attrs:{id:"display_from_picker","input-format":"d.m.y","output-format":"d.m.y","day-names":"Mo Di Mi Do Fr Sa So".split(" "),"month-names":"Jan Feb Mär Apr Mai Jun Jul Aug Sep Okt Nov Dez".split(" "),"valid-from":new Date},model:{value:t.form.display_from,callback:function(e){t.$set(t.form,"display_from",e)},expression:"form.display_from"}})],1)])]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-3 form-label",class:{"text-error":t.errors.display_until},attrs:{for:"display_until_picker"}},[t._v("Anzeige bis")]),s("div",{staticClass:"col-3"},[s("div",{staticClass:"col-12 input-group input-inline"},[s("datepicker",{ref:"dateFrom",attrs:{id:"display_until_picker","input-format":"d.m.y","output-format":"d.m.y","day-names":"Mo Di Mi Do Fr Sa So".split(" "),"month-names":"Jan Feb Mär Apr Mai Jun Jul Aug Sep Okt Nov Dez".split(" "),"valid-from":new Date},model:{value:t.form.display_until,callback:function(e){t.$set(t.form,"display_until",e)},expression:"form.display_until"}})],1)])]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-3 form-label",class:{"text-error":t.errors.customsort},attrs:{for:"custom_sort_input"}},[t._v("generische Sortierung")]),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.customsort,expression:"form.customsort"}],staticClass:"form-input col-2",attrs:{id:"custom_sort_input",maxlength:"4"},domProps:{value:t.form.customsort},on:{input:function(e){e.target.composing||t.$set(t.form,"customsort",e.target.value)}}})])]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-3 form-label"},[t._v("Markiert")]),s("div",[s("label",{staticClass:"form-switch"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.customflags,expression:"form.customflags"}],attrs:{value:"1",type:"checkbox"},domProps:{checked:Array.isArray(t.form.customflags)?t._i(t.form.customflags,"1")>-1:t.form.customflags},on:{change:function(e){var s=t.form.customflags,a=e.target,i=!!a.checked;if(Array.isArray(s)){var r="1",n=t._i(s,r);a.checked?n<0&&t.$set(t.form,"customflags",s.concat([r])):n>-1&&t.$set(t.form,"customflags",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.form,"customflags",i)}}}),s("i",{staticClass:"form-icon"})])])]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-3 form-label",class:{"text-error":t.errors.articlecategoriesid},attrs:{for:"articlecategoriesid_select"}},[s("strong",[t._v("*Kategorie")])]),s("div",{staticClass:"col-9"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.form.articlecategoriesid,expression:"form.articlecategoriesid"}],staticClass:"form-select",attrs:{id:"articlecategoriesid_select"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"articlecategoriesid",e.target.multiple?s:s[0])}}},t._l(t.options.categories,(function(e){return s("option",{domProps:{value:e.id}},[t._v(t._s(e.title))])})),0)])]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-3 form-label",class:{"text-error":t.errors.headline},attrs:{for:"headline_input"}},[s("strong",[t._v("*Überschrift/Titel")])]),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.headline,expression:"form.headline"}],staticClass:"form-input",attrs:{id:"headline_input",maxlength:"200"},domProps:{value:t.form.headline},on:{input:function(e){e.target.composing||t.$set(t.form,"headline",e.target.value)}}})])]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-3 form-label",attrs:{for:"subline_input"}},[t._v("Unterüberschrift")]),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.subline,expression:"form.subline"}],staticClass:"form-input",attrs:{id:"subline_input",maxlength:"200"},domProps:{value:t.form.subline},on:{input:function(e){e.target.composing||t.$set(t.form,"subline",e.target.value)}}})])]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-3 form-label",attrs:{for:"teaser_input"}},[t._v("Anrisstext")]),s("div",{staticClass:"col-9"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.teaser,expression:"form.teaser"}],staticClass:"form-input",attrs:{id:"teaser_input",rows:"3"},domProps:{value:t.form.teaser},on:{input:function(e){e.target.composing||t.$set(t.form,"teaser",e.target.value)}}})])]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-3 form-label",class:{"text-error":t.errors.content},attrs:{for:"content_input"}},[s("strong",[t._v("*Seiteninhalt")])]),s("div",{staticClass:"col-9"},[s("vue-ckeditor",{attrs:{config:t.editorConfig,id:"content_input"},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1)]),s("div",{staticClass:"divider"}),s("div",{staticClass:"form-group"},[s("button",{staticClass:"btn btn-success off-3 col-3",class:{loading:t.loading},attrs:{type:"button",disabled:t.loading},on:{click:t.submit}},[t._v(t._s(t.form.id?"Daten übernehmen":"Artikel anlegen"))])])])},te=[],ee={components:{"vue-ckeditor":Lt,datepicker:E},props:{url:{type:String,required:!0},initialData:{type:Object,default:()=>({})},options:{type:Object},editorConfig:{type:Object}},data:function(){return{form:{},response:{},loading:!1}},computed:{errors(){return this.response&&this.response.errors||{}},message(){return this.response?this.response.message:""}},watch:{initialData(t){this.form=Object.assign({},this.form,t),this.setDates()}},mounted(){this.form=Object.assign({},this.form,this.initialData),this.setDates()},methods:{async submit(){this.loading=!0;let t=Object.assign({},this.form);Object.keys(t).forEach(e=>{t[e]instanceof Date&&(t[e]=t[e].getFullYear()+"-"+(t[e].getMonth()+1)+"-"+t[e].getDate())}),this.response=await at(this.url,"post",{},JSON.stringify(t)),this.$emit("response-received",this.response),this.loading=!1},setDates(){["article_date","display_from","display_until"].forEach(t=>{!this.form[t]||this.form[t]instanceof Date||(this.form[t]=new Date(this.form[t]))})}}},se=ee,ae=l(se,Qt,te,!1,null,null,null),ie=ae.exports;const re={MessageToast:u,Autocomplete:g,DatePicker:E,Sortable:j,SimpleTree:Z,Filemanager:pt,Tab:yt,ZPagination:Ft,ZLink:Ot,VueCkeditor:Lt,ProfileForm:Vt,UserForm:Zt,ArticleForm:ie,SimpleFetch:at,PromisedXhr:lt},ne={formatFilesize:ct},oe={Focus:Y,Bubble:X};s.d(e,"Components",(function(){return re})),s.d(e,"Filters",(function(){return ne})),s.d(e,"Directives",(function(){return oe}))}})}));
//# sourceMappingURL=vxweb.umd.min.js.map