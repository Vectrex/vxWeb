(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("vue")):"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["vxweb"]=t(require("vue")):e["vxweb"]=t(e["Vue"])})("undefined"!==typeof self?self:this,(function(e){return(()=>{var t={457:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>r});var s=o(645),i=o.n(s),n=i()((function(e){return e[1]}));n.push([e.id,'div[data-v-0aec82d5]{position:relative}div a[data-v-0aec82d5]:focus{box-shadow:none;text-decoration:none;font-family:icomoon}div a[data-v-0aec82d5]:after{height:.8rem;margin:0 .25rem;position:absolute;top:50%;transform:translateY(-50%);width:.8rem;z-index:2;line-height:100%;right:.05rem;font-family:icomoon;content:""}div a.show[data-v-0aec82d5]:after{content:""}',""]);const r=n},738:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>r});var s=o(645),i=o.n(s),n=i()((function(e){return e[1]}));n.push([e.id,'.sortable-header[data-v-3d275eb2]:after{font-family:icomoon;font-weight:400;vertical-align:middle;display:inline-block}.sortable-header.asc[data-v-3d275eb2]:after{content:""}.sortable-header.desc[data-v-3d275eb2]:after{content:""}',""]);const r=n},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var o=e(t);return t[2]?"@media ".concat(t[2]," {").concat(o,"}"):o})).join("")},t.i=function(e,o,s){"string"===typeof e&&(e=[[null,e,""]]);var i={};if(s)for(var n=0;n<this.length;n++){var r=this[n][0];null!=r&&(i[r]=!0)}for(var a=0;a<e.length;a++){var l=[].concat(e[a]);s&&i[l[0]]||(o&&(l[2]?l[2]="".concat(o," and ").concat(l[2]):l[2]=o),t.push(l))}},t}},247:function(e,t){(function(e,o){o(t)})(0,(function(e){"use strict";var t={inject:["manager"],props:{index:{type:Number,required:!0},collection:{type:[String,Number],default:"default"},disabled:{type:Boolean,default:!1}},mounted:function(){var e=this.$props,t=e.collection,o=e.disabled,s=e.index;o||this.setDraggable(t,s)},watch:{index:function(e){this.$el&&this.$el.sortableInfo&&(this.$el.sortableInfo.index=e)},disabled:function(e){e?this.removeDraggable(this.collection):this.setDraggable(this.collection,this.index)},collection:function(e,t){this.removeDraggable(t),this.setDraggable(e,this.index)}},beforeDestroy:function(){var e=this.collection,t=this.disabled;t||this.removeDraggable(e)},methods:{setDraggable:function(e,t){var o=this.$el;o.sortableInfo={index:t,collection:e,manager:this.manager},this.ref={node:o},this.manager.add(e,this.ref)},removeDraggable:function(e){this.manager.remove(e,this.ref)}}},o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},s=function(){function e(e,t){for(var o=0;o<t.length;o++){var s=t[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,o,s){return o&&e(t.prototype,o),s&&e(t,s),t}}(),i=function(){function e(e,t){var o=[],s=!0,i=!1,n=void 0;try{for(var r,a=e[Symbol.iterator]();!(s=(r=a.next()).done);s=!0)if(o.push(r.value),t&&o.length===t)break}catch(l){i=!0,n=l}finally{try{!s&&a["return"]&&a["return"]()}finally{if(i)throw n}}return o}return function(t,o){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,o);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=function(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)},r=function(){function e(){o(this,e),this.refs={}}return s(e,[{key:"add",value:function(e,t){this.refs[e]||(this.refs[e]=[]),this.refs[e].push(t)}},{key:"remove",value:function(e,t){var o=this.getIndex(e,t);-1!==o&&this.refs[e].splice(o,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var e=this;return this.refs[this.active.collection].find((function(t){var o=t.node;return o.sortableInfo.index==e.active.index}))}},{key:"getIndex",value:function(e,t){return this.refs[e].indexOf(t)}},{key:"getOrderedRefs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active.collection;return this.refs[e].sort((function(e,t){return e.node.sortableInfo.index-t.node.sortableInfo.index}))}}]),e}();function a(e,t,o){var s=e.slice(0);if(o>=s.length){var i=o-s.length;while(1+i--)s.push(void 0)}return s.splice(o,0,s.splice(t,1)[0]),s}var l={start:["touchstart","mousedown"],move:["touchmove","mousemove"],end:["touchend","touchcancel","mouseup"]},c=function(){if("undefined"===typeof window||"undefined"===typeof document)return"";var e=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];switch(t){case"ms":return"ms";default:return t&&t.length?t[0].toUpperCase()+t.substr(1):""}}();function d(e,t){while(e){if(t(e))return e;e=e.parentNode}}function h(e,t,o){return o<e?e:o>t?t:o}function u(e){return"px"===e.substr(-2)?parseFloat(e):0}function p(e){var t=window.getComputedStyle(e);return{top:u(t.marginTop),right:u(t.marginRight),bottom:u(t.marginBottom),left:u(t.marginLeft)}}var m={data:function(){return{sorting:!1,sortingIndex:null,manager:new r,events:{start:this.handleStart,move:this.handleMove,end:this.handleEnd}}},props:{value:{type:Array,required:!0},axis:{type:String,default:"y"},distance:{type:Number,default:0},pressDelay:{type:Number,default:0},pressThreshold:{type:Number,default:5},useDragHandle:{type:Boolean,default:!1},useWindowAsScrollContainer:{type:Boolean,default:!1},hideSortableGhost:{type:Boolean,default:!0},lockToContainerEdges:{type:Boolean,default:!1},lockOffset:{type:[String,Number,Array],default:"50%"},transitionDuration:{type:Number,default:300},appendTo:{type:String,default:"body"},draggedSettlingDuration:{type:Number,default:null},lockAxis:String,helperClass:String,contentWindow:Object,shouldCancelStart:{type:Function,default:function(e){var t=["input","textarea","select","option","button"];return-1!==t.indexOf(e.target.tagName.toLowerCase())}},getHelperDimensions:{type:Function,default:function(e){var t=e.node;return{width:t.offsetWidth,height:t.offsetHeight}}}},provide:function(){return{manager:this.manager}},mounted:function(){var e=this;this.container=this.$el,this.document=this.container.ownerDocument||document,this._window=this.contentWindow||window,this.scrollContainer=this.useWindowAsScrollContainer?this.document.body:this.container;var t=function(t){e.events.hasOwnProperty(t)&&l[t].forEach((function(o){return e.container.addEventListener(o,e.events[t],{passive:!0})}))};for(var o in this.events)t(o)},beforeDestroy:function(){var e=this,t=function(t){e.events.hasOwnProperty(t)&&l[t].forEach((function(o){return e.container.removeEventListener(o,e.events[t])}))};for(var o in this.events)t(o)},methods:{handleStart:function(e){var t=this,o=this.$props,s=o.distance,i=o.shouldCancelStart;if(2===e.button||i(e))return!1;this._touched=!0,this._pos=this.getOffset(e);var n=d(e.target,(function(e){return null!=e.sortableInfo}));if(n&&n.sortableInfo&&this.nodeIsChild(n)&&!this.sorting){var r=this.$props.useDragHandle,a=n.sortableInfo,l=a.index,c=a.collection;if(r&&!d(e.target,(function(e){return null!=e.sortableHandle})))return;this.manager.active={index:l,collection:c},"a"===e.target.tagName.toLowerCase()&&e.preventDefault(),s||(0===this.$props.pressDelay?this.handlePress(e):this.pressTimer=setTimeout((function(){return t.handlePress(e)}),this.$props.pressDelay))}},nodeIsChild:function(e){return e.sortableInfo.manager===this.manager},handleMove:function(e){var t=this.$props,o=t.distance,s=t.pressThreshold;if(!this.sorting&&this._touched){var i=this.getOffset(e);this._delta={x:this._pos.x-i.x,y:this._pos.y-i.y};var n=Math.abs(this._delta.x)+Math.abs(this._delta.y);o||s&&!(s&&n>=s)?o&&n>=o&&this.manager.isActive()&&this.handlePress(e):(clearTimeout(this.cancelTimer),this.cancelTimer=setTimeout(this.cancel,0))}},handleEnd:function(){var e=this.$props.distance;this._touched=!1,e||this.cancel()},cancel:function(){this.sorting||(clearTimeout(this.pressTimer),this.manager.active=null)},handlePress:function(e){var t=this;e.stopPropagation();var o=this.manager.getActive();if(o){var s=this.$props,i=s.axis,r=s.getHelperDimensions,a=s.helperClass,c=s.hideSortableGhost,d=s.useWindowAsScrollContainer,h=s.appendTo,u=o.node,m=o.collection,f=u.sortableInfo.index,g=p(u),b=this.container.getBoundingClientRect(),y=r({index:f,node:u,collection:m});this.node=u,this.margin=g,this.width=y.width,this.height=y.height,this.marginOffset={x:this.margin.left+this.margin.right,y:Math.max(this.margin.top,this.margin.bottom)},this.boundingClientRect=u.getBoundingClientRect(),this.containerBoundingRect=b,this.index=f,this.newIndex=f,this._axis={x:i.indexOf("x")>=0,y:i.indexOf("y")>=0},this.offsetEdge=this.getEdgeOffset(u),this.initialOffset=this.getOffset(e),this.initialScroll={top:this.scrollContainer.scrollTop,left:this.scrollContainer.scrollLeft},this.initialWindowScroll={top:window.pageYOffset,left:window.pageXOffset};var v,k=u.querySelectorAll("input, textarea, select"),w=u.cloneNode(!0),x=[].concat(n(w.querySelectorAll("input, textarea, select")));if(x.forEach((function(e,t){"file"!==e.type&&k[t]&&(e.value=k[t].value)})),this.helper=this.document.querySelector(h).appendChild(w),this.helper.style.position="fixed",this.helper.style.top=this.boundingClientRect.top-g.top+"px",this.helper.style.left=this.boundingClientRect.left-g.left+"px",this.helper.style.width=this.width+"px",this.helper.style.height=this.height+"px",this.helper.style.boxSizing="border-box",this.helper.style.pointerEvents="none",c&&(this.sortableGhost=u,u.style.visibility="hidden",u.style.opacity=0),this.translate={},this.minTranslate={},this.maxTranslate={},this._axis.x&&(this.minTranslate.x=(d?0:b.left)-this.boundingClientRect.left-this.width/2,this.maxTranslate.x=(d?this._window.innerWidth:b.left+b.width)-this.boundingClientRect.left-this.width/2),this._axis.y&&(this.minTranslate.y=(d?0:b.top)-this.boundingClientRect.top-this.height/2,this.maxTranslate.y=(d?this._window.innerHeight:b.top+b.height)-this.boundingClientRect.top-this.height/2),a)(v=this.helper.classList).add.apply(v,n(a.split(" ")));this.listenerNode=e.touches?u:this._window,l.move.forEach((function(e){return t.listenerNode.addEventListener(e,t.handleSortMove,!1)})),l.end.forEach((function(e){return t.listenerNode.addEventListener(e,t.handleSortEnd,!1)})),this.sorting=!0,this.sortingIndex=f,this.$emit("sort-start",{event:e,node:u,index:f,collection:m})}},handleSortMove:function(e){e.preventDefault(),this.updatePosition(e),this.animateNodes(),this.autoscroll(),this.$emit("sort-move",{event:e})},handleSortEnd:function(e){var t=this,o=this.manager.active.collection;this.listenerNode&&(l.move.forEach((function(e){return t.listenerNode.removeEventListener(e,t.handleSortMove)})),l.end.forEach((function(e){return t.listenerNode.removeEventListener(e,t.handleSortEnd)})));var s=this.manager.refs[o],i=function(){t.helper.parentNode.removeChild(t.helper),t.hideSortableGhost&&t.sortableGhost&&(t.sortableGhost.style.visibility="",t.sortableGhost.style.opacity="");for(var i=0,n=s.length;i<n;i++){var r=s[i],l=r.node;r.edgeOffset=null,l.style[c+"Transform"]="",l.style[c+"TransitionDuration"]=""}clearInterval(t.autoscrollInterval),t.autoscrollInterval=null,t.manager.active=null,t.sorting=!1,t.sortingIndex=null,t.$emit("sort-end",{event:e,oldIndex:t.index,newIndex:t.newIndex,collection:o}),t.$emit("input",a(t.value,t.index,t.newIndex)),t._touched=!1};this.$props.transitionDuration||this.$props.draggedSettlingDuration?this.transitionHelperIntoPlace(s).then((function(){return i()})):i()},transitionHelperIntoPlace:function(e){var t=this;if(0===this.$props.draggedSettlingDuration||0===e.length)return Promise.resolve();var o={left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top},s=e[this.index].node,i=e[this.newIndex].node,n=-o.left;this.translate&&this.translate.x>0?n+=i.offsetLeft+i.offsetWidth-(s.offsetLeft+s.offsetWidth):n+=i.offsetLeft-s.offsetLeft;var r=-o.top;this.translate&&this.translate.y>0?r+=i.offsetTop+i.offsetHeight-(s.offsetTop+s.offsetHeight):r+=i.offsetTop-s.offsetTop;var a=null!==this.$props.draggedSettlingDuration?this.$props.draggedSettlingDuration:this.$props.transitionDuration;return this.helper.style[c+"Transform"]="translate3d("+n+"px,"+r+"px, 0)",this.helper.style[c+"TransitionDuration"]=a+"ms",new Promise((function(e){var o=function(o){o&&"transform"!==o.propertyName||(clearTimeout(s),t.helper.style[c+"Transform"]="",t.helper.style[c+"TransitionDuration"]="",e())},s=setTimeout(o,a+10);t.helper.addEventListener("transitionend",o,!1)}))},getEdgeOffset:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{top:0,left:0};if(e){var o={top:t.top+e.offsetTop,left:t.left+e.offsetLeft};return e.parentNode!==this.container?this.getEdgeOffset(e.parentNode,o):o}},getOffset:function(e){var t=e.touches?e.touches[0]:e,o=t.pageX,s=t.pageY;return{x:o,y:s}},getLockPixelOffsets:function(){var e=this.$props.lockOffset;if(Array.isArray(this.lockOffset)||(e=[e,e]),2!==e.length)throw new Error("lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given "+e);var t=e,o=i(t,2),s=o[0],n=o[1];return[this.getLockPixelOffset(s),this.getLockPixelOffset(n)]},getLockPixelOffset:function(e){var t=e,o=e,s="px";if("string"===typeof e){var i=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(e);if(null===i)throw new Error('lockOffset value should be a number or a string of a number followed by "px" or "%". Given '+e);t=o=parseFloat(e),s=i[1]}if(!isFinite(t)||!isFinite(o))throw new Error("lockOffset value should be a finite. Given "+e);return"%"===s&&(t=t*this.width/100,o=o*this.height/100),{x:t,y:o}},updatePosition:function(e){var t=this.$props,o=t.lockAxis,s=t.lockToContainerEdges,n=this.getOffset(e),r={x:n.x-this.initialOffset.x,y:n.y-this.initialOffset.y};if(r.y-=window.pageYOffset-this.initialWindowScroll.top,r.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=r,s){var a=this.getLockPixelOffsets(),l=i(a,2),d=l[0],u=l[1],p={x:this.width/2-d.x,y:this.height/2-d.y},m={x:this.width/2-u.x,y:this.height/2-u.y};r.x=h(this.minTranslate.x+p.x,this.maxTranslate.x-m.x,r.x),r.y=h(this.minTranslate.y+p.y,this.maxTranslate.y-m.y,r.y)}"x"===o?r.y=0:"y"===o&&(r.x=0),this.helper.style[c+"Transform"]="translate3d("+r.x+"px,"+r.y+"px, 0)"},animateNodes:function(){var e=this.$props,t=e.transitionDuration,o=e.hideSortableGhost,s=this.manager.getOrderedRefs(),i={left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top},n={left:this.offsetEdge.left+this.translate.x+i.left,top:this.offsetEdge.top+this.translate.y+i.top},r={top:window.pageYOffset-this.initialWindowScroll.top,left:window.pageXOffset-this.initialWindowScroll.left};this.newIndex=null;for(var a=0,l=s.length;a<l;a++){var d=s[a].node,h=d.sortableInfo.index,u=d.offsetWidth,p=d.offsetHeight,m={width:this.width>u?u/2:this.width/2,height:this.height>p?p/2:this.height/2},f={x:0,y:0},g=s[a].edgeOffset;g||(s[a].edgeOffset=g=this.getEdgeOffset(d));var b=a<s.length-1&&s[a+1],y=a>0&&s[a-1];b&&!b.edgeOffset&&(b.edgeOffset=this.getEdgeOffset(b.node)),h!==this.index?(t&&(d.style[c+"TransitionDuration"]=t+"ms"),this._axis.x?this._axis.y?h<this.index&&(n.left+r.left-m.width<=g.left&&n.top+r.top<=g.top+m.height||n.top+r.top+m.height<=g.top)?(f.x=this.width+this.marginOffset.x,g.left+f.x>this.containerBoundingRect.width-m.width&&(f.x=b.edgeOffset.left-g.left,f.y=b.edgeOffset.top-g.top),null===this.newIndex&&(this.newIndex=h)):h>this.index&&(n.left+r.left+m.width>=g.left&&n.top+r.top+m.height>=g.top||n.top+r.top+m.height>=g.top+p)&&(f.x=-(this.width+this.marginOffset.x),g.left+f.x<this.containerBoundingRect.left+m.width&&(f.x=y.edgeOffset.left-g.left,f.y=y.edgeOffset.top-g.top),this.newIndex=h):h>this.index&&n.left+r.left+m.width>=g.left?(f.x=-(this.width+this.marginOffset.x),this.newIndex=h):h<this.index&&n.left+r.left<=g.left+m.width&&(f.x=this.width+this.marginOffset.x,null==this.newIndex&&(this.newIndex=h)):this._axis.y&&(h>this.index&&n.top+r.top+m.height>=g.top?(f.y=-(this.height+this.marginOffset.y),this.newIndex=h):h<this.index&&n.top+r.top<=g.top+m.height&&(f.y=this.height+this.marginOffset.y,null==this.newIndex&&(this.newIndex=h))),d.style[c+"Transform"]="translate3d("+f.x+"px,"+f.y+"px,0)"):o&&(this.sortableGhost=d,d.style.visibility="hidden",d.style.opacity=0)}null==this.newIndex&&(this.newIndex=this.index)},autoscroll:function(){var e=this,t=this.translate,o={x:0,y:0},s={x:1,y:1},i={x:10,y:10};t.y>=this.maxTranslate.y-this.height/2?(o.y=1,s.y=i.y*Math.abs((this.maxTranslate.y-this.height/2-t.y)/this.height)):t.x>=this.maxTranslate.x-this.width/2?(o.x=1,s.x=i.x*Math.abs((this.maxTranslate.x-this.width/2-t.x)/this.width)):t.y<=this.minTranslate.y+this.height/2?(o.y=-1,s.y=i.y*Math.abs((t.y-this.height/2-this.minTranslate.y)/this.height)):t.x<=this.minTranslate.x+this.width/2&&(o.x=-1,s.x=i.x*Math.abs((t.x-this.width/2-this.minTranslate.x)/this.width)),this.autoscrollInterval&&(clearInterval(this.autoscrollInterval),this.autoscrollInterval=null,this.isAutoScrolling=!1),0===o.x&&0===o.y||(this.autoscrollInterval=setInterval((function(){e.isAutoScrolling=!0;var t={left:1*s.x*o.x,top:1*s.y*o.y};e.scrollContainer.scrollTop+=t.top,e.scrollContainer.scrollLeft+=t.left,e.translate.x+=t.left,e.translate.y+=t.top,e.animateNodes()}),5))}}},f={bind:function(e){e.sortableHandle=!0}};function g(e,t){return{name:e,mixins:[t],props:{tag:{type:String,default:"div"}},render:function(e){return e(this.tag,this.$slots.default)}}}var b=g("slick-list",m),y=g("slick-item",t);e.ElementMixin=t,e.ContainerMixin=m,e.HandleDirective=f,e.SlickList=b,e.SlickItem=y,e.arrayMove=a,Object.defineProperty(e,"__esModule",{value:!0})}))},587:(e,t,o)=>{var s=o(457);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals);var i=o(346).Z;i("3e736f92",s,!0,{sourceMap:!1,shadowMode:!1})},301:(e,t,o)=>{var s=o(738);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals);var i=o(346).Z;i("11e15531",s,!0,{sourceMap:!1,shadowMode:!1})},346:(e,t,o)=>{"use strict";function s(e,t){for(var o=[],s={},i=0;i<t.length;i++){var n=t[i],r=n[0],a=n[1],l=n[2],c=n[3],d={id:e+":"+i,css:a,media:l,sourceMap:c};s[r]?s[r].parts.push(d):o.push(s[r]={id:r,parts:[d]})}return o}o.d(t,{Z:()=>m});var i="undefined"!==typeof document;if("undefined"!==typeof DEBUG&&DEBUG&&!i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var n={},r=i&&(document.head||document.getElementsByTagName("head")[0]),a=null,l=0,c=!1,d=function(){},h=null,u="data-vue-ssr-id",p="undefined"!==typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function m(e,t,o,i){c=o,h=i||{};var r=s(e,t);return f(r),function(t){for(var o=[],i=0;i<r.length;i++){var a=r[i],l=n[a.id];l.refs--,o.push(l)}t?(r=s(e,t),f(r)):r=[];for(i=0;i<o.length;i++){l=o[i];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete n[l.id]}}}}function f(e){for(var t=0;t<e.length;t++){var o=e[t],s=n[o.id];if(s){s.refs++;for(var i=0;i<s.parts.length;i++)s.parts[i](o.parts[i]);for(;i<o.parts.length;i++)s.parts.push(b(o.parts[i]));s.parts.length>o.parts.length&&(s.parts.length=o.parts.length)}else{var r=[];for(i=0;i<o.parts.length;i++)r.push(b(o.parts[i]));n[o.id]={id:o.id,refs:1,parts:r}}}}function g(){var e=document.createElement("style");return e.type="text/css",r.appendChild(e),e}function b(e){var t,o,s=document.querySelector("style["+u+'~="'+e.id+'"]');if(s){if(c)return d;s.parentNode.removeChild(s)}if(p){var i=l++;s=a||(a=g()),t=v.bind(null,s,i,!1),o=v.bind(null,s,i,!0)}else s=g(),t=k.bind(null,s),o=function(){s.parentNode.removeChild(s)};return t(e),function(s){if(s){if(s.css===e.css&&s.media===e.media&&s.sourceMap===e.sourceMap)return;t(e=s)}else o()}}var y=function(){var e=[];return function(t,o){return e[t]=o,e.filter(Boolean).join("\n")}}();function v(e,t,o,s){var i=o?"":s.css;if(e.styleSheet)e.styleSheet.cssText=y(t,i);else{var n=document.createTextNode(i),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(n,r[t]):e.appendChild(n)}}function k(e,t){var o=t.css,s=t.media,i=t.sourceMap;if(s&&e.setAttribute("media",s),h.ssrId&&e.setAttribute(u,t.id),i&&(o+="\n/*# sourceURL="+i.sources[0]+" */",o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),e.styleSheet)e.styleSheet.cssText=o;else{while(e.firstChild)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}},507:t=>{"use strict";t.exports=e}},o={};function s(e){var i=o[e];if(void 0!==i)return i.exports;var n=o[e]={id:e,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.exports}(()=>{s.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return s.d(t,{a:t}),t}})(),(()=>{s.d=(e,t)=>{for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}})(),(()=>{s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{s.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{s.p=""})();var i={};return(()=>{"use strict";if(s.r(i),s.d(i,{Components:()=>Gs,Directives:()=>Zs,Filters:()=>Xs,Mixins:()=>Qs,Util:()=>ei}),"undefined"!==typeof window){var e=window.document.currentScript,t=e&&e.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);t&&(s.p=t[1])}var o=s(507);function n(e,t,s,i,n,r){return(0,o.openBlock)(),(0,o.createBlock)("div",{id:"messageBox",class:[{display:s.active},s.classname,"toast"]},[(0,o.createVNode)("button",{class:"btn btn-clear float-right",onClick:t[1]||(t[1]=t=>e.$emit("cancel"))}),((0,o.openBlock)(!0),(0,o.createBlock)(o.Fragment,null,(0,o.renderList)(r.lines,(e=>((0,o.openBlock)(),(0,o.createBlock)("div",null,(0,o.toDisplayString)(e),1)))),256))],2)}const r={name:"message-toast",emits:["timeout","cancel"],props:{message:[String,Array],classname:String,timeout:{type:Number,default:5e3},active:{type:Boolean,default:!1}},data(){return{activeTimeout:null}},computed:{lines(){return"string"===typeof this.message?[this.message]:this.message}},watch:{active(){this.setTimeout()}},mounted(){this.setTimeout()},methods:{setTimeout(){window.clearTimeout(this.activeTimeout),this.active&&this.timeout&&(this.activeTimeout=window.setTimeout((()=>{this.$emit("timeout")}),this.timeout))}}};r.render=n;const a=r;function l(e,t,s,i,n,r){return(0,o.openBlock)(),(0,o.createBlock)("svg",{height:r.size,width:r.size,class:"circular-progress"},[(0,o.createVNode)("circle",{stroke:"white",fill:"transparent","stroke-width":s.strokeWidth,r:r.normalizedRadius,cx:s.radius,cy:s.radius},null,8,["stroke-width","r","cx","cy"]),(0,o.createVNode)("circle",{stroke:s.color,fill:"transparent","stroke-dasharray":r.circumference+" "+r.circumference,style:{strokeDashoffset:r.strokeDashoffset},"stroke-width":s.strokeWidth,r:r.normalizedRadius,cx:s.radius,cy:s.radius},null,12,["stroke","stroke-dasharray","stroke-width","r","cx","cy"])],8,["height","width"])}const c={name:"circular-progress",props:{progress:Number,radius:{type:Number,default:24},strokeWidth:{type:Number,default:8},color:{type:String,default:"white"}},computed:{size(){return 2*this.radius},normalizedRadius(){return this.radius-this.strokeWidth/2},circumference(){return 2*this.normalizedRadius*Math.PI},strokeDashoffset(){return this.circumference-this.progress/100*this.circumference}}};c.render=l;const d=c;function h(e,t,s,i,n,r){const a=(0,o.resolveComponent)("autocomplete-input");return(0,o.openBlock)(),(0,o.createBlock)("div",(0,o.mergeProps)(r.containerProps,{ref:"container"}),[(0,o.createVNode)(a,(0,o.mergeProps)({ref:"input",value:s.modelValue},r.inputProps,{onInput:t[1]||(t[1]=e=>r.handleInput(e.target.value)),onKeydown:[(0,o.withKeys)(r.handleEnter,["enter"]),(0,o.withKeys)(r.handleEsc,["esc"]),(0,o.withKeys)(r.handleTab,["tab"]),(0,o.withKeys)((0,o.withModifiers)(r.handleUp,["prevent"]),["up"]),(0,o.withKeys)((0,o.withModifiers)(r.handleDown,["prevent"]),["down"])],onFocus:r.handleFocus,onBlur:r.handleBlur}),null,16,["value","onKeydown","onFocus","onBlur"]),n.results.length?((0,o.openBlock)(),(0,o.createBlock)("ul",(0,o.mergeProps)({key:0,ref:"resultList"},r.resultListProps,{onClick:t[2]||(t[2]=(...e)=>r.handleResultClick&&r.handleResultClick(...e)),onMousedown:t[3]||(t[3]=(0,o.withModifiers)((()=>{}),["prevent"]))}),[((0,o.openBlock)(!0),(0,o.createBlock)(o.Fragment,null,(0,o.renderList)(n.results,((t,i)=>(0,o.renderSlot)(e.$slots,"result",{result:t,props:r.resultProps[i]},(()=>[((0,o.openBlock)(),(0,o.createBlock)("li",(0,o.mergeProps)({key:r.resultProps[i].id},r.resultProps[i]),(0,o.toDisplayString)(s.getResultValue(t)),17))])))),256))],16)):(0,o.createCommentVNode)("",!0)],16)}function u(e,t,s,i,n,r){return(0,o.openBlock)(),(0,o.createBlock)("input",{value:s.modelValue,class:"form-input",onInput:t[1]||(t[1]=t=>e.$emit("update:modelValue",t.target.value))},null,40,["value"])}const p={name:"form-input",props:["modelValue"],emits:["update:modelValue"]};p.render=u;const m=p;let f=function(){let e=0;return function(t){return(t||"")+ ++e}}();const g={name:"Autocomplete",inheritAttrs:!1,components:{"autocomplete-input":m},emits:["update:modelValue","blur","submit"],props:{modelValue:{type:String,default:""},search:{type:Function,required:!0},baseClass:{type:String,default:"form-autocomplete"},resultListClass:{type:String,default:"menu"},resultClass:{type:String,default:"menu-item"},inputClass:{type:String,default:"autocomplete-input"},autoSelect:{type:Boolean,default:!1},getResultValue:{type:Function,default:e=>e}},data(){return{resultListId:f(this.resultListClass+"-"),results:[],selectedIndex:-1,searchCounter:0,expanded:!1,loading:!1,position:"below",resetPosition:!0}},computed:{containerProps(){return{class:this.baseClass,style:{position:"relative"},"data-expanded":this.expanded,"data-loading":this.loading,"data-position":this.position}},inputProps(){return{class:this.inputClass,role:"combobox",autocomplete:"off",autocapitalize:"off",autocorrect:"off",spellcheck:"false","aria-autocomplete":"list","aria-haspopup":"listbox","aria-owns":this.resultListId,"aria-expanded":this.expanded?"true":"false","aria-activedescendant":this.selectedIndex>-1?this.resultProps[this.selectedIndex].id:"",...this.$attrs}},resultListProps(){return{id:this.resultListId,class:this.resultListClass,role:"listbox"}},resultProps(){return this.results.map(((e,t)=>({id:this.resultClass+"-"+t,class:this.resultClass,"data-result-index":t,role:"option",...this.selectedIndex===t?{"aria-selected":"true"}:{}})))}},mounted(){document.body.addEventListener("click",this.handleDocumentClick)},beforeUnmount(){document.body.removeEventListener("click",this.handleDocumentClick)},updated(){if(!this.$refs.resultList)return;let e=this.$refs.input.$el.getBoundingClientRect(),t=this.$refs.resultList.getBoundingClientRect();this.resetPosition&&this.results.length&&(this.resetPosition=!1,this.position=e.bottom+t.height>window.innerHeight&&window.innerHeight-e.bottom<e.top&&window.pageYOffset+e.top-t.height>0?"above":"below");let o=this.$refs.resultList.querySelector('[data-result-index="'+this.selectedIndex+'"]');if(!o)return;let s=o.getBoundingClientRect();s.top<t.top?this.$refs.resultList.scrollTop-=t.top-s.top:s.bottom>t.bottom&&(this.$refs.resultList.scrollTop+=s.bottom-t.bottom)},methods:{handleInput(e){this.$emit("update:modelValue",e),this.updateResults(e)},handleFocus(e){this.updateResults(e.target.value)},handleBlur(){this.hideResults(),this.$emit("blur")},handleUp(){const e=this.results.length;this.selectedIndex=((this.selectedIndex-1)%e+e)%e},handleDown(e){this.expanded||this.handleFocus(e);const t=this.results.length;this.selectedIndex=((this.selectedIndex+1)%t+t)%t},handleEsc(){this.hideResults(),this.$emit("update:modelValue","")},handleEnter(){this.$emit("submit",this.selectResult())},handleTab(){this.selectResult()},hideResults(){this.selectedIndex=-1,this.results=[],this.expanded=!1,this.resetPosition=!0},selectResult(){const e=this.results[this.selectedIndex];return e&&this.$emit("update:modelValue",this.getResultValue(e)),this.hideResults(),e},handleResultClick(e){const t=e.target.closest("[data-result-index]");t&&(this.selectedIndex=parseInt(t.dataset.resultIndex,10),this.$emit("submit",this.selectResult()))},handleDocumentClick(e){this.$refs.container.contains(e.target)||this.hideResults()},updateResults(e){const t=this.search(e);if(t instanceof Promise){const e=++this.searchCounter;this.loading=!0,t.then((t=>{e===this.searchCounter&&(this.results=t,this.loading=!1,this.results.length?(this.selectedIndex=this.autoSelect?0:-1,this.expanded=!0):this.hideResults())}))}else this.results=t,0===this.results.length?this.hideResults():(this.selectedIndex=this.autoSelect?0:-1,this.expanded=!0)}}};g.render=h;const b=g,y={class:"calendar-nav navbar"},v={class:"month navbar-primary"},k={class:"calendar-container"},w={class:"calendar-header"},x={class:"calendar-date"},N={class:"calendar-body"};function V(e,t,s,i,n,r){const a=(0,o.resolveComponent)("date-input");return(0,o.openBlock)(),(0,o.createBlock)("div",r.rootProps,[s.hasInput?((0,o.openBlock)(),(0,o.createBlock)(a,(0,o.mergeProps)({key:0,modelValue:n.selectedDate,"onUpdate:modelValue":t[1]||(t[1]=e=>n.selectedDate=e),onToggleDatepicker:r.toggleDatepicker},r.inputProps,{ref:"input"}),null,16,["modelValue","onToggleDatepicker"])):(0,o.createCommentVNode)("",!0),(0,o.createVNode)("div",(0,o.mergeProps)({class:"calendar"},r.calendarProps,{ref:"calendar",class:"left"===n.align?"align-left":"align-right"}),[(0,o.createVNode)("div",y,[(0,o.createVNode)("button",{class:"btn btn-action btn-link btn-large prvMon",onClick:t[2]||(t[2]=(0,o.withModifiers)(((...e)=>r.previousMonth&&r.previousMonth(...e)),["stop"]))}),(0,o.createVNode)("div",v,(0,o.toDisplayString)(r.monthLabel)+" "+(0,o.toDisplayString)(n.sheetDate.getFullYear()),1),(0,o.createVNode)("button",{class:"btn btn-action btn-link btn-large nxtMon",onClick:t[3]||(t[3]=(0,o.withModifiers)(((...e)=>r.nextMonth&&r.nextMonth(...e)),["stop"]))})]),(0,o.createVNode)("div",k,[(0,o.createVNode)("div",w,[((0,o.openBlock)(!0),(0,o.createBlock)(o.Fragment,null,(0,o.renderList)(s.weekdays,(e=>((0,o.openBlock)(),(0,o.createBlock)("div",x,(0,o.toDisplayString)(e),1)))),256))]),(0,o.createVNode)("div",N,[((0,o.openBlock)(!0),(0,o.createBlock)(o.Fragment,null,(0,o.renderList)(r.days,(e=>((0,o.openBlock)(),(0,o.createBlock)("div",{class:["calendar-date text-center",["prev-month","","next-month"][e.getMonth()-n.sheetDate.getMonth()+1]]},[(0,o.createVNode)("button",{type:"button",class:["date-item",{active:n.selectedDate&&e.getTime()===n.selectedDate.getTime(),"date-today":e.getTime()===r.today.getTime()}],disabled:(s.validFrom&&s.validFrom)>e||s.validUntil&&s.validUntil<e,onClick:(0,o.withModifiers)((t=>(s.validFrom&&s.validFrom)>e||s.validUntil&&s.validUntil<e?null:r.selectDate(e)),["stop"])},(0,o.toDisplayString)(e.getDate()),11,["disabled","onClick"])],2)))),256))])])],16)],16)}const D={class:"date-input"},B={key:0,class:"form-input"},C={class:"chip"};function S(e,t,s,i,n,r){return(0,o.openBlock)(),(0,o.createBlock)("div",D,[(0,o.createVNode)("div",{class:"input-group",style:r.computedStyles},[r.dateString?((0,o.openBlock)(),(0,o.createBlock)("div",B,[(0,o.createVNode)("span",C,[(0,o.createTextVNode)((0,o.toDisplayString)(r.dateString)+" ",1),(0,o.createVNode)("a",{href:"#",class:"btn btn-clear","aria-label":"Close",role:"button",onClick:t[1]||(t[1]=(0,o.withModifiers)(((...e)=>r.handleClear&&r.handleClear(...e)),["prevent"]))})])])):(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createBlock)("input",{key:1,type:"text",class:"form-input",autocomplete:"off","onUpdate:modelValue":t[2]||(t[2]=e=>n.inputString=e),onBlur:t[3]||(t[3]=(...e)=>r.handleBlur&&r.handleBlur(...e)),onInput:t[4]||(t[4]=(0,o.withModifiers)((()=>{}),["stop"]))},null,544)),[[o.vModelText,n.inputString]]),s.showButton?((0,o.openBlock)(),(0,o.createBlock)("button",{key:2,type:"button",class:"btn webfont-icon-only btn-primary input-group-btn",onClick:t[5]||(t[5]=(0,o.withModifiers)((t=>e.$emit("toggle-datepicker")),["stop"]))}," ")):(0,o.createCommentVNode)("",!0)],4)])}const F={formatDate(e,t,o){if(!e instanceof Date)return"";const s=o&&o.dayNames?o.dayNames:"Sun Mon Tue Wed Thu Fri Sat".split(" "),i=o&&o.monthNames?o.monthNames:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");return t.replace(/\bd\b/,e.getDate()).replace(/\bdd\b/,("0"+e.getDate()).slice(-2)).replace(/\bm\b/,e.getMonth()+1).replace(/\bmm\b/,("0"+(e.getMonth()+1)).slice(-2)).replace(/\bmmm\b/,i[e.getMonth()].trim()).replace(/\by\b/,e.getFullYear()).replace(/\bw\b/,s[e.getDay()].trim()).replace(/\bh\b/,("0"+e.getHours()).slice(-2)).replace(/\bi\b/,("0"+e.getMinutes()).slice(-2)).replace(/\bs\b/,("0"+e.getSeconds()).slice(-2))},parseDate(e,t){let o,s=t.toLowerCase().replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),i=[];if((o=t.match(/\bd\b/gi))&&1===o.length)s=s.replace("d","(\\d{1,2})");else{if(!(o=t.match(/\bdd\b/gi))||1!==o.length)return!1;s=s.replace("dd","(\\d{2})")}if(i.push({srcPos:t.toLowerCase().indexOf("d"),destPos:2}),(o=t.match(/\bm\b/gi))&&1===o.length)s=s.replace("m","(\\d{1,2})");else{if(!(o=t.match(/\bmm\b/gi))||1!==o.length)return!1;s=s.replace("mm","(\\d{2})")}if(i.push({srcPos:t.toLowerCase().indexOf("m"),destPos:1}),!(o=t.match(/\by\b/gi))||1!==o.length)return!1;if(s=s.replace("y","(\\d{4})"),i.push({srcPos:t.toLowerCase().indexOf("y"),destPos:0}),!(o=e.match(s)))return!1;o.shift(),i.sort(((e,t)=>e.srcPos<t.srcPos?-1:1));let n,r,a=[];while(n=o.shift())r=i.shift(),a[r.destPos]=n;return a=Date.parse(a.join("-")),!!a&&(a=new Date(a),new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0))},isValidTime:function(e){let t=e.match(/^\s*([0-9]{1,2}):([0-9]{1,2})(?::([0-9]{1,2}))?\s*$/);return t&&t[1]<24&&t[2]<60&&(!t[3]||t[3]<60)}},T={name:"date-input",data(){return{inputString:null}},props:{monthNames:{type:Array,default:()=>"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")},dayNames:{type:Array,default:()=>"Mon Tue Wed Thu Fri Sat Sun".split(" ")},outputFormat:{type:String,default:"y-mm-dd"},inputFormat:{type:String,default:"y-m-d"},showButton:{type:Boolean,default:!0},modelValue:Date},watch:{modelValue(e){this.inputString=e?F.formatDate(e,this.outputFormat):""}},computed:{dateString(){return this.modelValue?F.formatDate(this.modelValue,this.outputFormat):""},computedStyles(){return{width:"100%"}}},methods:{handleBlur(){let e=F.parseDate(this.inputString,this.inputFormat);this.$emit("update:modelValue",e||null)},handleClear(){this.$emit("update:modelValue",null)}}};T.render=S;const P=T,O={name:"date-picker",components:{DateInput:P},emits:["update:modelValue","month-change"],data(){return{sheetDate:null,selectedDate:null,expanded:!this.hasInput,align:"left"}},watch:{modelValue(e){e?(this.selectedDate=new Date(e.getFullYear(),e.getMonth(),e.getDate()),this.sheetDate=new Date(this.selectedDate.getTime())):(this.selectedDate=null,this.sheetDate=this.today),this.sheetDate.setDate(1)},expanded(e){e&&this.hasInput&&this.$nextTick((()=>this.align=this.$refs.input.$el.getBoundingClientRect().left+this.$refs.calendar.getBoundingClientRect().width>window.innerWidth?"right":"left"))}},computed:{rootProps(){return{class:["datepicker",this.$attrs["class"]],style:{position:"relative"}}},inputProps(){return{style:{position:"relative"},inputFormat:this.$attrs["input-format"],outputFormat:this.$attrs["output-format"],dayNames:this.$attrs["day-names"],monthNames:this.$attrs["month-names"],showButton:this.$attrs["show-button"]}},calendarProps(){return{style:this.hasInput?{display:this.expanded?"block":"none",position:"absolute",top:"100%",transform:"translateY(.2rem)","z-index":300}:{}}},days(){const e=[],t=this.sheetDate.getFullYear(),o=this.sheetDate.getMonth(),s=new Date(t,o+1,0),i=new Date(t,o,0).getDay()+1-this.startOfWeekIndex,n=(7-s.getDay())%7-1+this.startOfWeekIndex;for(let r=-i,a=s.getDate()+n;r<a;++r)e.push(new Date(t,o,r+1));return e},monthLabel(){return this.monthNames[this.sheetDate.getMonth()]},today(){const e=new Date;return new Date(e.getFullYear(),e.getMonth(),e.getDate())}},props:{modelValue:Date,validFrom:Date,validUntil:Date,weekdays:{type:Array,default:()=>"M T W T F S S".split(" ")},monthNames:{type:Array,default:()=>"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")},startOfWeekIndex:{type:Number,default:1,validator:e=>!e||1===e},hasInput:{type:Boolean,default:!0}},created(){this.sheetDate=new Date(this.today.getTime()),this.sheetDate.setDate(1)},mounted(){this.hasInput&&document.body.addEventListener("click",this.handleBodyClick),this.modelValue&&(this.sheetDate=new Date(this.modelValue.getTime()),this.sheetDate.setDate(1),this.selectedDate=new Date(this.modelValue.getFullYear(),this.modelValue.getMonth(),this.modelValue.getDate()))},beforeUnmount(){document.body.removeEventListener("click",this.handleBodyClick)},methods:{previousMonth(){this.sheetDate=new Date(this.sheetDate.getFullYear(),this.sheetDate.getMonth()-1,1),this.$emit("month-change",this.sheetDate)},nextMonth(){this.sheetDate=new Date(this.sheetDate.getFullYear(),this.sheetDate.getMonth()+1,1),this.$emit("month-change",this.sheetDate)},selectDate(e){this.selectedDate=e,this.$emit("update:modelValue",e),this.expanded=!this.hasInput},toggleDatepicker(){this.expanded=!this.expanded},handleBodyClick(){this.expanded=!1},handleInput(e){this.selectedDate=e,this.$emit("update:modelValue",e)}}};O.render=V;const I=O,$=(0,o.withScopeId)("data-v-3d275eb2");(0,o.pushScopeId)("data-v-3d275eb2");const M={class:"table table-striped"};(0,o.popScopeId)();const R=$(((e,t,s,i,n,r)=>((0,o.openBlock)(),(0,o.createBlock)("table",M,[(0,o.createVNode)("thead",null,[(0,o.createVNode)("tr",null,[((0,o.openBlock)(!0),(0,o.createBlock)(o.Fragment,null,(0,o.renderList)(s.columns,(t=>((0,o.openBlock)(),(0,o.createBlock)("th",{class:[{"sortable-header":t.sortable},t.cssClass,n.sortColumn===t?n.sortDir:null,t.width],onClick:e=>t.sortable?r.clickSort(t):null},[(0,o.renderSlot)(e.$slots,t.prop+"-header",{column:t},(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(t.label),1)]),!0)],10,["onClick"])))),256))])]),(0,o.createVNode)("tbody",null,[((0,o.openBlock)(!0),(0,o.createBlock)(o.Fragment,null,(0,o.renderList)(r.sortedRows,(t=>((0,o.openBlock)(),(0,o.createBlock)("tr",{key:t[s.keyProperty],class:t.cssClass},[((0,o.openBlock)(!0),(0,o.createBlock)(o.Fragment,null,(0,o.renderList)(s.columns,(s=>((0,o.openBlock)(),(0,o.createBlock)("td",{class:{active:n.sortColumn===s}},[(0,o.renderSlot)(e.$slots,s.prop,{row:t},(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(t[s.prop]),1)]),!0)],2)))),256))],2)))),128))])])))),A={name:"sortable",emits:["before-sort","after-sort"],props:{columns:{type:Array,required:!0,validator(e){for(let t=e.length;t--;)if(void 0===e[t].label||void 0===e[t].prop)return!1;return!0}},rows:{type:Array,required:!0},offset:{type:Number,default:null},count:{type:Number,default:null},sortProp:{type:String},sortDirection:{type:String,validator(e){return!e||-1!==["asc","desc"].indexOf(e)}},keyProperty:{type:String,default:"key"}},data(){return{sortColumn:this.columns.find((e=>e.prop===this.sortProp)),sortDir:this.sortDirection}},computed:{sortedRows(){let e=this.rows.slice();if(this.sortColumn)if("asc"===this.sortDir&&this.sortColumn.sortAscFunction)e.sort(this.sortColumn.sortAscFunction);else if("desc"===this.sortDir&&this.sortColumn.sortDescFunction)e.sort(this.sortColumn.sortDescFunction);else{let t=this.sortColumn.prop;e.sort(((e,o)=>e[t]<o[t]?"asc"===this.sortDir?-1:1:e[t]>o[t]?"asc"===this.sortDir?1:-1:0))}let t=this.offset||0,o=this.count||e.length;return e.slice(t,t+o)}},methods:{clickSort(e){this.$emit("before-sort"),this.sortColumn===e?this.sortDir="asc"===this.sortDir?"desc":"asc":(this.sortColumn=e,this.sortDir=this.sortDir||"asc"),this.$nextTick((()=>this.$emit("after-sort")))}}};s(301);A.render=R,A.__scopeId="data-v-3d275eb2";const L=A,E={class:"vx-tree"};function _(e,t,s,i,n,r){const a=(0,o.resolveComponent)("simple-tree-branch");return(0,o.openBlock)(),(0,o.createBlock)("ul",E,[(0,o.createVNode)(a,{branch:s.branch},null,8,["branch"])])}const U={key:1},j={key:3};function q(e,t,s,i,n,r){const a=(0,o.resolveComponent)("simple-tree-branch",!0);return(0,o.openBlock)(),(0,o.createBlock)("li",{class:{terminates:!s.branch.branches||!s.branch.branches.length}},[s.branch.branches&&s.branch.branches.length?((0,o.openBlock)(),(0,o.createBlock)(o.Fragment,{key:0},[(0,o.createVNode)("input",{type:"checkbox",id:"branch-"+s.branch.id,onClick:t[1]||(t[1]=e=>n.expanded=!n.expanded),checked:n.expanded},null,8,["id","checked"]),(0,o.createVNode)("label",{for:"branch-"+s.branch.id},null,8,["for"])],64)):(0,o.createCommentVNode)("",!0),s.branch.current?((0,o.openBlock)(),(0,o.createBlock)("strong",U,(0,o.toDisplayString)(s.branch.label),1)):((0,o.openBlock)(),(0,o.createBlock)("a",{key:2,href:s.branch.path,onClick:t[2]||(t[2]=(0,o.withModifiers)((t=>e.$emit("branch-selected",s.branch)),["prevent"]))},(0,o.toDisplayString)(s.branch.label),9,["href"])),s.branch.branches&&s.branch.branches.length?(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createBlock)("ul",j,[((0,o.openBlock)(!0),(0,o.createBlock)(o.Fragment,null,(0,o.renderList)(s.branch.branches,(e=>((0,o.openBlock)(),(0,o.createBlock)(a,{branch:e,key:e.id},null,8,["branch"])))),128))],512)),[[o.vShow,n.expanded]]):(0,o.createCommentVNode)("",!0)],2)}const z={name:"simple-tree-branch",emits:["branch-selected"],data(){return{expanded:!1}},props:{branch:{type:Object,default:()=>({})}},mounted(){if(this.branch.current){let e=this.$parent;while(e&&e.branch&&void 0!==e.expanded)e.expanded=!0,e=e.$parent}}};z.render=q;const W=z,J={name:"simple-tree",props:{branch:Object},components:{SimpleTreeBranch:W}};J.render=_;const K=J,H={class:"vx-button-bar navbar"},Y={class:"navbar-section"},G={class:"popup-container"},X={class:"card"},Z={class:"card-body"},Q={class:"navbar-section"},ee={class:"d-inline-block mr-2"},te={key:1,class:"text-primary d-block col-12 text-center"},oe={class:"navbar-section"},se={class:"with-webfont-icon-left","data-icon":""},ie={class:"with-webfont-icon-left","data-icon":""},ne=(0,o.createVNode)("br",null,null,-1),re={class:"form-checkbox"},ae=(0,o.createVNode)("i",{class:"form-icon"},null,-1),le={class:"form-checkbox"},ce=(0,o.createVNode)("i",{class:"form-icon"},null,-1),de={key:1},he={key:0,class:"modal active"},ue=(0,o.createVNode)("div",{class:"modal-overlay"},null,-1),pe={class:"modal-container"},me={class:"modal-header"},fe={class:"modal-body"};function ge(e,t,s,i,n,r){const a=(0,o.resolveComponent)("filemanager-breadcrumbs"),l=(0,o.resolveComponent)("filemanager-add"),c=(0,o.resolveComponent)("filemanager-actions"),d=(0,o.resolveComponent)("circular-progress"),h=(0,o.resolveComponent)("filemanager-search"),u=(0,o.resolveComponent)("sortable"),p=(0,o.resolveComponent)("file-edit-form"),m=(0,o.resolveComponent)("confirm"),f=(0,o.resolveComponent)("alert"),g=(0,o.resolveComponent)("folder-tree"),b=(0,o.resolveDirective)("check-indeterminate"),y=(0,o.resolveDirective)("focus");return(0,o.openBlock)(),(0,o.createBlock)("div",{onDrop:t[13]||(t[13]=(0,o.withModifiers)(((...e)=>r.uploadDraggedFiles&&r.uploadDraggedFiles(...e)),["prevent"])),onDragover:t[14]||(t[14]=(0,o.withModifiers)((e=>n.indicateDrag=!0),["prevent"])),onDragleave:t[15]||(t[15]=(0,o.withModifiers)((e=>n.indicateDrag=!1),["prevent"])),class:{"dragged-over":n.indicateDrag}},[(0,o.createVNode)("div",H,[(0,o.createVNode)("section",Y,[(0,o.createVNode)(a,{breadcrumbs:n.breadcrumbs,"current-folder":n.currentFolder,folders:n.folders,onBreadcrumbClicked:r.readFolder},null,8,["breadcrumbs","current-folder","folders","onBreadcrumbClicked"]),(0,o.createVNode)("div",{class:["popup popup-bottom ml-1",{active:n.showAddActivities}]},[(0,o.createVNode)("button",{class:"btn webfont-icon-only",type:"button",onClick:t[1]||(t[1]=(0,o.withModifiers)((e=>n.showAddActivities=!n.showAddActivities),["stop"]))},"  "),(0,o.createVNode)("div",G,[(0,o.createVNode)("div",X,[(0,o.createVNode)("div",Z,[(0,o.createVNode)(l,{onUpload:r.uploadInputFiles,onCreateFolder:r.createFolder},null,8,["onUpload","onCreateFolder"])])])])],2),(0,o.createVNode)(c,{onDeleteSelection:r.delSelection,onMoveSelection:r.moveSelection,files:r.checkedFiles,folders:r.checkedFolders},null,8,["onDeleteSelection","onMoveSelection","files","folders"])]),(0,o.createVNode)("section",Q,[n.upload.progressing?((0,o.openBlock)(),(0,o.createBlock)(o.Fragment,{key:0},[(0,o.createVNode)("button",{class:"btn btn-link webfont-icon-only tooltip","data-tooltip":"Abbrechen",type:"button",onClick:t[2]||(t[2]=(...e)=>r.cancelUpload&&r.cancelUpload(...e))}," "),(0,o.createVNode)("label",ee,(0,o.toDisplayString)(n.progress.file),1),(0,o.createVNode)(d,{progress:100*n.progress.loaded/(n.progress.total||1),radius:16},null,8,["progress"])],64)):((0,o.openBlock)(),(0,o.createBlock)("strong",te,"Dateien zum Upload hierher ziehen"))]),(0,o.createVNode)("section",oe,[(0,o.createVNode)(h,{search:r.doSearch},{folder:(0,o.withCtx)((e=>[(0,o.createVNode)("span",se,[(0,o.createVNode)("a",{href:"#"+e.folder.id,onClick:(0,o.withModifiers)((t=>r.readFolder(e.folder.id)),["prevent"])},(0,o.toDisplayString)(e.folder.name),9,["href","onClick"])])])),file:(0,o.withCtx)((e=>[(0,o.createVNode)("span",ie,(0,o.toDisplayString)(e.file.name)+" ("+(0,o.toDisplayString)(e.file.type)+")",1),ne,(0,o.createVNode)("a",{href:"#"+e.file.folder,onClick:(0,o.withModifiers)((t=>r.readFolder(e.file.folder)),["prevent"])},(0,o.toDisplayString)(e.file.path),9,["href","onClick"])])),_:1},8,["search"])])]),(0,o.createVNode)(u,{rows:r.directoryEntries,columns:s.columns,"sort-prop":s.initSort.column,"sort-direction":s.initSort.dir,onAfterSort:t[10]||(t[10]=t=>e.$emit("after-sort",{sortColumn:e.$refs.sortable.sortColumn,sortDir:e.$refs.sortable.sortDir})),ref:"sortable",id:"files-list"},{"checked-header":(0,o.withCtx)((()=>[(0,o.createVNode)("label",re,[(0,o.withDirectives)((0,o.createVNode)("input",{type:"checkbox",onClick:t[3]||(t[3]=(...e)=>r.toggleAll&&r.toggleAll(...e))},null,512),[[b]]),ae])])),checked:(0,o.withCtx)((e=>[(0,o.createVNode)("label",le,[(0,o.withDirectives)((0,o.createVNode)("input",{type:"checkbox","onUpdate:modelValue":t=>e.row.checked=t},null,8,["onUpdate:modelValue"]),[[o.vModelCheckbox,e.row.checked]]),ce])])),name:(0,o.withCtx)((e=>[e.row.isFolder?((0,o.openBlock)(),(0,o.createBlock)(o.Fragment,{key:0},[e.row===n.toRename?(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createBlock)("input",{key:0,class:"form-input",value:e.row.name,onKeydown:[t[4]||(t[4]=(0,o.withKeys)(((...e)=>r.renameFolder&&r.renameFolder(...e)),["enter"])),t[5]||(t[5]=(0,o.withKeys)((e=>n.toRename=null),["esc"]))],onBlur:t[6]||(t[6]=e=>n.toRename=null)},null,40,["value"])),[[y]]):((0,o.openBlock)(),(0,o.createBlock)(o.Fragment,{key:1},[(0,o.createVNode)("a",{href:"#"+e.row.id,onClick:(0,o.withModifiers)((t=>r.readFolder(e.row.id)),["prevent"])},(0,o.toDisplayString)(e.row.name),9,["href","onClick"]),(0,o.createVNode)("button",{class:"btn webfont-icon-only tooltip mr-1 rename display-only-on-hover ml-2","data-tooltip":"Umbenennen",onClick:t=>n.toRename=e.row}," ",8,["onClick"])],64))],64)):((0,o.openBlock)(),(0,o.createBlock)(o.Fragment,{key:1},[e.row===n.toRename?(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createBlock)("input",{key:0,class:"form-input",value:e.row.name,onKeydown:[t[7]||(t[7]=(0,o.withKeys)(((...e)=>r.renameFile&&r.renameFile(...e)),["enter"])),t[8]||(t[8]=(0,o.withKeys)((e=>n.toRename=null),["esc"]))],onBlur:t[9]||(t[9]=e=>n.toRename=null)},null,40,["value"])),[[y]]):((0,o.openBlock)(),(0,o.createBlock)(o.Fragment,{key:1},[(0,o.createVNode)("span",null,(0,o.toDisplayString)(e.row.name),1),(0,o.createVNode)("button",{class:"btn webfont-icon-only tooltip mr-1 rename display-only-on-hover ml-2","data-tooltip":"Umbenennen",onClick:t=>n.toRename=e.row}," ",8,["onClick"])],64))],64))])),size:(0,o.withCtx)((e=>[e.row.isFolder?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createBlock)(o.Fragment,{key:0},[(0,o.createTextVNode)((0,o.toDisplayString)(r.formatFilesize(e.row.size,",")),1)],64))])),type:(0,o.withCtx)((e=>[e.row.image?((0,o.openBlock)(),(0,o.createBlock)("img",{key:0,src:e.row.src,alt:""},null,8,["src"])):((0,o.openBlock)(),(0,o.createBlock)("span",de,(0,o.toDisplayString)(e.row.type),1))])),default:(0,o.withCtx)((()=>[((0,o.openBlock)(!0),(0,o.createBlock)(o.Fragment,null,(0,o.renderList)(e.$scopedSlots,((t,s)=>(0,o.renderSlot)(e.$slots,s,e.slotData))),256))])),_:3},8,["rows","columns","sort-prop","sort-direction"]),n.showEditForm?((0,o.openBlock)(),(0,o.createBlock)("div",he,[ue,(0,o.createVNode)("div",pe,[(0,o.createVNode)("div",me,[(0,o.createVNode)("a",{href:"#close",class:"btn btn-clear float-right","aria-label":"Close",onClick:t[11]||(t[11]=(0,o.withModifiers)((e=>n.showEditForm=!1),["prevent"]))})]),(0,o.createVNode)("div",fe,[(0,o.createVNode)(p,{"initial-data":n.editFormData,"file-info":n.editFileInfo,url:s.routes.updateFile,onResponseReceived:t[12]||(t[12]=t=>e.$emit("response-received",t)),ref:"editForm"},null,8,["initial-data","file-info","url"])])])])):(0,o.createCommentVNode)("",!0),(0,o.createVNode)(m,{ref:"confirm",config:{cancelLabel:"Abbrechen",okLabel:"Löschen",okClass:"btn-error"}},null,512),(0,o.createVNode)(f,{ref:"alert",config:{label:"Ok",buttonClass:"btn-error"}},null,512),(0,o.createVNode)(g,{ref:"folder-tree"},null,512)],34)}const be=(0,o.createVNode)("label",{class:"btn with-webfont-icon-left btn-link","data-icon":"",for:"file_upload"},"Datei hochladen",-1);function ye(e,t,s,i,n,r){const a=(0,o.resolveDirective)("focus");return(0,o.openBlock)(),(0,o.createBlock)("div",null,[n.showAddFolderInput?(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createBlock)("input",{key:0,class:"form-input",onKeydown:[t[1]||(t[1]=(0,o.withKeys)(((...e)=>r.addFolder&&r.addFolder(...e)),["enter"])),t[2]||(t[2]=(0,o.withKeys)((e=>n.showAddFolderInput=!1),["esc"]))],onBlur:t[3]||(t[3]=e=>n.showAddFolderInput=!1)},null,544)),[[a]]):(0,o.createCommentVNode)("",!0),n.showAddFolderInput?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createBlock)("button",{key:1,class:"btn with-webfont-icon-left btn-link",type:"button","data-icon":"",onClick:t[4]||(t[4]=(0,o.withModifiers)((e=>n.showAddFolderInput=!0),["stop"]))},"Verzeichnis erstellen ")),be,(0,o.createVNode)("input",{type:"file",id:"file_upload",class:"d-none",multiple:s.multiple,onChange:t[5]||(t[5]=(...e)=>r.fileChanged&&r.fileChanged(...e))},null,40,["multiple"])])}const ve={beforeMount(e,t,o){Object.keys(t.modifiers).forEach((t=>{o.componentInstance?(o.componentInstance.$off(t),o.componentInstance.$on(t,((...e)=>{o.context.$emit(t,...e)}))):e.addEventListener(t,(e=>{o.context.$emit(t,e)}))}))}},ke={mounted:e=>e.focus()},we={name:"filemanager-add",emits:["upload","create-folder"],props:{multiple:{type:Boolean,default:!0}},data(){return{showAddFolderInput:!1}},methods:{fileChanged(e){const t=e.target.files||e.dataTransfer.files;t&&this.$emit("upload",t)},addFolder(e){const t=e.target.value.trim();t&&this.$emit("create-folder",t),this.showAddFolderInput=!1}},directives:{focus:ke}};we.render=ye;const xe=we,Ne={key:0,class:"mx-2"};function Ve(e,t,s,i,n,r){return s.files.length||s.folders.length?((0,o.openBlock)(),(0,o.createBlock)("div",Ne,[(0,o.createVNode)("button",{class:"btn btn-link webfont-icon-only tooltip","data-tooltip":s.files.length+s.folders.length+" gewählte Dateien/Ordner löschen",type:"button",onClick:t[1]||(t[1]=(...e)=>r.confirmDelete&&r.confirmDelete(...e))},"",8,["data-tooltip"]),(0,o.createVNode)("button",{class:"btn btn-link webfont-icon-only tooltip","data-tooltip":s.files.length+s.folders.length+" gewählte Dateien/Ordner verschieben",type:"button",onClick:t[2]||(t[2]=(...e)=>r.pickFolder&&r.pickFolder(...e))},"",8,["data-tooltip"])])):(0,o.createCommentVNode)("",!0)}const De={name:"filemanager-actions",emits:["delete-selection","move-selection"],props:{files:{type:Array,default:()=>[]},folders:{type:Array,default:()=>[]}},methods:{async confirmDelete(){await this.$parent.$refs.confirm.open("Auswahl löschen","Selektierte Dateien/Ordner wirklich löschen?")&&this.$emit("delete-selection")},async pickFolder(){this.$emit("move-selection")}}};De.render=Ve;const Be=De,Ce={class:"has-icon-right"},Se={key:0,class:"form-icon loading"},Fe={key:0,class:"modal-container",style:{position:"fixed",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},Te={class:"modal-header"},Pe=(0,o.createVNode)("div",{class:"modal-title h5"},"Gefundene Dateien und Ordner…",-1),Oe={class:"modal-body"},Ie={key:0,class:"divider"},$e=(0,o.createVNode)("br",null,null,-1),Me={class:"text-gray"};function Re(e,t,s,i,n,r){return(0,o.openBlock)(),(0,o.createBlock)("div",null,[(0,o.createVNode)("div",Ce,[(0,o.createVNode)("input",(0,o.mergeProps)({class:"text-input",onKeydown:t[1]||(t[1]=(0,o.withKeys)(((...e)=>r.handleEsc&&r.handleEsc(...e)),["esc"])),onInput:t[2]||(t[2]=(...e)=>r.handleInput&&r.handleInput(...e)),onFocus:t[3]||(t[3]=(...e)=>r.handleInput&&r.handleInput(...e))},r.inputProps),null,16),n.loading?((0,o.openBlock)(),(0,o.createBlock)("i",Se)):(0,o.createCommentVNode)("",!0)]),r.showResults?((0,o.openBlock)(),(0,o.createBlock)("div",Fe,[(0,o.createVNode)("div",Te,[(0,o.createVNode)("a",{href:"#close",class:"btn btn-clear float-right","aria-label":"Close",onClick:t[4]||(t[4]=(0,o.withModifiers)((e=>r.showResults=!1),["prevent"]))}),Pe]),(0,o.createVNode)("div",Oe,[((0,o.openBlock)(!0),(0,o.createBlock)(o.Fragment,null,(0,o.renderList)(n.results.folders||[],(t=>((0,o.openBlock)(),(0,o.createBlock)("div",{key:t.id},[(0,o.renderSlot)(e.$slots,"folder",{folder:t},(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(t.name),1)]))])))),128)),n.results.folders.length&&n.results.files.length?((0,o.openBlock)(),(0,o.createBlock)("div",Ie)):(0,o.createCommentVNode)("",!0),((0,o.openBlock)(!0),(0,o.createBlock)(o.Fragment,null,(0,o.renderList)(n.results.files||[],(t=>((0,o.openBlock)(),(0,o.createBlock)("div",{key:t.id},[(0,o.renderSlot)(e.$slots,"file",{file:t},(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(t.name)+" ("+(0,o.toDisplayString)(t.type)+")",1),$e,(0,o.createVNode)("span",Me,(0,o.toDisplayString)(t.path),1)]))])))),128))])])):(0,o.createCommentVNode)("",!0)])}const Ae={name:"filemanager-search",data(){return{value:"",results:{files:[],folders:[]},loading:!1,hideDialog:!1}},props:{placeholder:{type:String,default:"Datei/Verzeichnis suchen..."},search:{type:Function,required:!0}},computed:{inputProps(){return{value:this.value,placeholder:this.placeholder}},showResults:{get(){return this.results.folders.length||this.results.files.length},set(e){e||(this.results.folders=[],this.results.files=[])}}},methods:{handleInput(e){this.value=e.target.value;const t=this.search(this.value);t instanceof Promise?(this.loading=!0,t.then((e=>{this.results.files=e.files||[],this.results.folders=e.folders||[],this.loading=!1}))):this.results=Object.assign({},this.results,t)},handleEsc(){this.value="",this.showResults=!1}}};Ae.render=Re;const Le=Ae,Ee={class:"btn-group"};function _e(e,t,s,i,n,r){return(0,o.openBlock)(),(0,o.createBlock)("span",Ee,[((0,o.openBlock)(!0),(0,o.createBlock)(o.Fragment,null,(0,o.renderList)(n.items,((t,i)=>((0,o.openBlock)(),(0,o.createBlock)("button",{class:["btn",{active:t.folder===s.currentFolder}],key:i,onClick:o=>e.$emit("breadcrumb-clicked",t.folder)},(0,o.toDisplayString)(t.name),11,["onClick"])))),128))])}const Ue={name:"filemanager-breadcrumbs",emits:["breadcrumb-clicked"],data(){return{items:[]}},props:{breadcrumbs:Array,folders:Array,currentFolder:Number},watch:{breadcrumbs(e){(e.length>=this.items.length||0!==this.items.map((e=>e.folder)).join().indexOf(e.map((e=>e.folder)).join()))&&(this.items=e)},folders:{deep:!0,handler(e){let t=this.items.findIndex((e=>e.folder===this.currentFolder));if(this.items[t+1]){let o=e.findIndex((e=>e.id===this.items[t+1].folder));-1===o?this.items=this.items.slice(0,t+1):this.items[t+1].name=e[o].name}}}}};Ue.render=_e;const je=Ue,qe={class:"modal-container"},ze={class:"modal-header"},We={class:"modal-title h5"},Je={class:"modal-body"};function Ke(e,t,s,i,n,r){const a=(0,o.resolveComponent)("simple-tree");return(0,o.openBlock)(),(0,o.createBlock)("div",{ref:"container",class:["modal",{active:n.show}]},[(0,o.createVNode)("div",qe,[(0,o.createVNode)("div",ze,[(0,o.createVNode)("a",{href:"#close",class:"btn btn-clear float-right","aria-label":"Close",onClick:t[1]||(t[1]=(0,o.withModifiers)(((...e)=>r.cancel&&r.cancel(...e)),["prevent"]))}),(0,o.createVNode)("div",We,(0,o.toDisplayString)(s.title),1)]),(0,o.createVNode)("div",Je,[(0,o.createVNode)(a,{branch:n.root,onBranchSelected:r.folderSelected},null,8,["branch","onBranchSelected"])])])],2)}async function He(e,t="GET",o={},s=null){!o["X-CSRF-Token"]&&document.querySelector('meta[name="csrf-token"]')&&(o["X-CSRF-Token"]=document.querySelector('meta[name="csrf-token"]').getAttribute("content")),o["X-Requested-With"]="XMLHttpRequest";const i=await fetch(e,{method:t.toUpperCase(),body:s,headers:o});return await i.json()}const Ye={create(e,t={}){return e+(-1!==e.indexOf("?")?"&":"?")+this.objectToSearch(t)},searchToObject(e){return Object.fromEntries(new URLSearchParams(e))},objectToSearch(e){return new URLSearchParams(e).toString()}},Ge={name:"folder-tree",components:{"simple-tree":K},data(){return{show:!1,resolve:null,reject:null,root:{}}},props:{title:{type:String,default:"Zielordner wählen"}},methods:{async open(e,t){return this.root=await He(Ye.create(e,{folder:t})),this.show=!0,new Promise(((e,t)=>{this.resolve=e,this.reject=t}))},cancel(){this.show=!1,this.resolve(!1)},folderSelected(e){this.show=!1,this.resolve(e)}}};Ge.render=Ke;const Xe=Ge,Ze={class:"modal-container"},Qe={key:0,class:"modal-header bg-error text-light"},et={class:"modal-title h5"},tt={class:"modal-body"},ot={class:"content"},st={class:"modal-footer"};function it(e,t,s,i,n,r){return(0,o.openBlock)(),(0,o.createBlock)("div",{ref:"container",class:["modal modal-sm",{active:n.show}],onKeydown:t[4]||(t[4]=(0,o.withKeys)((0,o.withModifiers)(((...e)=>r.cancel&&r.cancel(...e)),["stop"]),["esc"]))},[(0,o.createVNode)("a",{href:"#close",class:"modal-overlay",onClick:t[1]||(t[1]=(0,o.withModifiers)(((...e)=>r.cancel&&r.cancel(...e)),["prevent"]))}),(0,o.createVNode)("div",Ze,[n.title?((0,o.openBlock)(),(0,o.createBlock)("div",Qe,[(0,o.createVNode)("div",et,(0,o.toDisplayString)(n.title),1)])):(0,o.createCommentVNode)("",!0),(0,o.createVNode)("div",tt,[(0,o.createVNode)("div",ot,(0,o.toDisplayString)(n.message),1)]),(0,o.createVNode)("div",st,[(0,o.createVNode)("button",{type:"button",class:["btn mr-2",n.options.okClass],onClick:t[2]||(t[2]=(0,o.withModifiers)(((...e)=>r.ok&&r.ok(...e)),["prevent"])),ref:"okButton"},(0,o.toDisplayString)(n.options.okLabel),3),(0,o.createVNode)("button",{type:"button",class:"btn btn-link",onClick:t[3]||(t[3]=(0,o.withModifiers)(((...e)=>r.cancel&&r.cancel(...e)),["prevent"]))},(0,o.toDisplayString)(n.options.cancelLabel),1)])])],34)}const nt={name:"confirm",props:{config:{type:Object}},data(){return{title:"",message:"",show:!1,resolve:null,reject:null,options:{okLabel:"Ok",cancelLabel:"Cancel",okClass:"btn-success"}}},watch:{config(){this.options=Object.assign({},this.options,this.config)}},created(){this.options=Object.assign({},this.options,this.config)},methods:{open(e,t,o){return this.title=e,this.message=t,this.show=!0,this.$nextTick((()=>this.$refs.okButton.focus())),this.options=Object.assign(this.options,o||{}),new Promise(((e,t)=>{this.resolve=e,this.reject=t}))},ok(){this.show=!1,this.resolve(!0)},cancel(){this.show=!1,this.resolve(!1)}}};nt.render=it;const rt=nt,at=(0,o.createVNode)("div",{class:"modal-overlay"},null,-1),lt={class:"modal-container"},ct={key:0,class:"modal-header bg-error text-light"},dt={class:"modal-title h5"},ht={class:"modal-body"},ut={class:"content"},pt={class:"modal-footer"};function mt(e,t,s,i,n,r){return(0,o.openBlock)(),(0,o.createBlock)("div",{ref:"container",class:["modal modal-sm",{active:n.show}]},[at,(0,o.createVNode)("div",lt,[n.title?((0,o.openBlock)(),(0,o.createBlock)("div",ct,[(0,o.createVNode)("div",dt,(0,o.toDisplayString)(n.title),1)])):(0,o.createCommentVNode)("",!0),(0,o.createVNode)("div",ht,[(0,o.createVNode)("div",ut,(0,o.toDisplayString)(n.message),1)]),(0,o.createVNode)("div",pt,[(0,o.createVNode)("button",{type:"button",class:["btn",n.options.buttonClass],onClick:t[1]||(t[1]=(0,o.withModifiers)(((...e)=>r.ok&&r.ok(...e)),["prevent"])),ref:"button"},(0,o.toDisplayString)(n.options.label),3)])])],2)}const ft={name:"alert",props:{config:{type:Object}},data(){return{title:"",message:"",show:!1,resolve:null,reject:null,options:{label:"Ok",buttonClass:"btn-success"}}},watch:{config(){this.options=Object.assign({},this.options,this.config)}},created(){this.options=Object.assign({},this.options,this.config)},methods:{open(e,t,o){return this.title=e,this.message=t,this.show=!0,this.$nextTick((()=>this.$refs.button.focus())),this.options=Object.assign(this.options,o||{}),new Promise(((e,t)=>{this.resolve=e,this.reject=t}))},ok(){this.show=!1,this.resolve(!0)}}};ft.render=mt;const gt=ft,bt={class:"columns"},yt={class:"column"},vt={class:"column"},kt={class:"table"},wt=(0,o.createVNode)("td",null,"Typ",-1),xt={key:0},Nt=(0,o.createVNode)("td",null,"Cache",-1),Vt=(0,o.createVNode)("td",null,"Link",-1),Dt=(0,o.createVNode)("div",{class:"divider","data-content":"Metadaten der Datei"},null,-1),Bt={class:"form-group"},Ct=(0,o.createVNode)("label",{for:"title_input"},"Titel",-1),St={class:"form-group"},Ft=(0,o.createVNode)("label",{for:"subtitle_input"},"Untertitel",-1),Tt={class:"form-group"},Pt=(0,o.createVNode)("label",{for:"description_input"},"Beschreibung",-1),Ot=(0,o.createVNode)("div",{class:"divider","data-content":"Erweiterte Einstellungen"},null,-1),It={class:"form-group"},$t=(0,o.createVNode)("label",{for:"customsort_input"},"Sortierziffer",-1),Mt={class:"form-group"};function Rt(e,t,s,i,n,r){return(0,o.openBlock)(),(0,o.createBlock)("form",{action:"/",id:"events-edit-form",onSubmit:t[6]||(t[6]=(0,o.withModifiers)((()=>{}),["prevent"]))},[(0,o.createVNode)("div",bt,[(0,o.createVNode)("div",yt,[s.fileInfo.thumb?((0,o.openBlock)(),(0,o.createBlock)("img",{key:0,src:s.fileInfo.thumb,class:"img-responsive"},null,8,["src"])):(0,o.createCommentVNode)("",!0)]),(0,o.createVNode)("div",vt,[(0,o.createVNode)("table",kt,[(0,o.createVNode)("tr",null,[wt,(0,o.createVNode)("td",null,(0,o.toDisplayString)(s.fileInfo.mimetype),1)]),s.fileInfo.cache?((0,o.openBlock)(),(0,o.createBlock)("tr",xt,[Nt,(0,o.createVNode)("td",null,(0,o.toDisplayString)(s.fileInfo.cache.count)+" Files, "+(0,o.toDisplayString)(r.formatFilesize(s.fileInfo.cache.totalSize,",")),1)])):(0,o.createCommentVNode)("",!0),(0,o.createVNode)("tr",null,[Vt,(0,o.createVNode)("td",null,[(0,o.createVNode)("a",{href:"/"+s.fileInfo.path,target:"_blank"},(0,o.toDisplayString)(s.fileInfo.name),9,["href"])])])])])]),Dt,(0,o.createVNode)("div",Bt,[Ct,(0,o.withDirectives)((0,o.createVNode)("input",{id:"title_input",class:["form-input",{"is-error":r.errors.title}],"onUpdate:modelValue":t[1]||(t[1]=t=>e.form.title=t),autocomplete:"off"},null,2),[[o.vModelText,e.form.title]])]),(0,o.createVNode)("div",St,[Ft,(0,o.withDirectives)((0,o.createVNode)("input",{id:"subtitle_input",class:["form-input",{"is-error":r.errors.subtitle}],"onUpdate:modelValue":t[2]||(t[2]=t=>e.form.subtitle=t),autocomplete:"off"},null,2),[[o.vModelText,e.form.subtitle]])]),(0,o.createVNode)("div",Tt,[Pt,(0,o.withDirectives)((0,o.createVNode)("textarea",{rows:"2",id:"description_input",class:["form-input",{"is-error":r.errors.description}],"onUpdate:modelValue":t[3]||(t[3]=t=>e.form.description=t)},null,2),[[o.vModelText,e.form.description]])]),Ot,(0,o.createVNode)("div",It,[$t,(0,o.withDirectives)((0,o.createVNode)("input",{id:"customsort_input",class:["form-input col-4",{"is-error":r.errors.customsort}],"onUpdate:modelValue":t[4]||(t[4]=t=>e.form.customsort=t),autocomplete:"off"},null,2),[[o.vModelText,e.form.customsort]])]),(0,o.createVNode)("div",Mt,[(0,o.createVNode)("button",{type:"button",onClick:t[5]||(t[5]=(...e)=>r.submit&&r.submit(...e)),class:["btn btn-success col-12",{loading:e.loading}],disabled:e.loading},"Änderungen speichern ",10,["disabled"])])],32)}function At(e,t){let o=Math.floor(Math.floor(Math.log(e)/Math.log(1e3)));return(e/Math.pow(1e3,o)).toFixed(o?2:0).toString().replace(".",t||".")+["B","kB","MB","GB"][o]}const Lt={props:{initialData:{type:Object,default:()=>({})},fileInfo:{type:Object,default:()=>({})},url:{type:String,default:""}},data:()=>({form:{},response:{},loading:!1}),computed:{errors(){return this.response&&this.response.errors||{}},message(){return this.response?this.response.message:""}},watch:{initialData(e){this.form=Object.assign({},this.form,e)}},methods:{async submit(){this.loading=!0;let e={};Object.keys(this.form).forEach((t=>{null!==this.form[t]&&(e[t]=this.form[t])})),this.response=await He(this.url,"POST",{},JSON.stringify(e)),this.$emit("response-received",this.response),this.loading=!1},formatFilesize:At}};Lt.render=Rt;const Et=Lt;function _t(e,t="GET",o={},s=null,i=null,n=null,r=null){!o["X-CSRF-Token"]&&document.querySelector('meta[name="csrf-token"]')&&(o["X-CSRF-Token"]=document.querySelector('meta[name="csrf-token"]').getAttribute("content")),o["Content-type"]=o["Content-type"]||"application/x-www-form-urlencoded",o["X-Requested-With"]="XMLHttpRequest";let a=new XMLHttpRequest,l=new Promise((function(l,c){a.onreadystatechange=()=>{4===a.readyState&&(a.status>=200&&a.status<300?l(JSON.parse(a.responseText)):c({status:a.status,statusText:a.statusText,responseText:a.responseText}))},a.upload.onprogress=n||null,r&&(r.cancel=()=>{a.abort(),c({status:499,statusText:"Request cancelled."})}),a.open(t,e,!0),a.responseType="text",Object.keys(o).forEach((e=>a.setRequestHeader(e,o[e]))),i&&(a.timeout=i,a.ontimeout=e=>{c({status:408,statusText:"Request timeout."})}),a.send(s)}));return l.cancel=()=>a.abort(),l}const Ut={name:"filemanager",components:{FolderTree:Xe,sortable:L,"simple-tree":K,"circular-progress":d,confirm:rt,alert:gt,"file-edit-form":Et,"filemanager-add":xe,"filemanager-search":Le,"filemanager-actions":Be,"filemanager-breadcrumbs":je,"filemanager-folder-tree":Xe},data(){return{root:{},currentFolder:null,files:[],folders:[],breadcrumbs:[],toRename:null,showEditForm:!1,showAddActivities:!1,indicateDrag:!1,upload:{files:[],progressing:!1,cancelToken:{}},cancelUploadToken:{},progress:{total:null,loaded:null,file:null},editFormData:{},editFileInfo:{}}},computed:{directoryEntries(){let e=this.folders,t=this.files;return e.forEach((e=>{e.isFolder=!0,e.key="d"+e.id})),t.forEach((e=>e.key=e.id)),[...e,...t]},checkedFiles(){return this.files.filter((e=>e.checked))},checkedFolders(){return this.folders.filter((e=>e.checked))}},props:{routes:{type:Object,required:!0},limits:{type:Object,default:()=>({})},columns:{type:Array,required:!0},folder:{type:String,default:""},initSort:Object},watch:{folder(e){this.currentFolder=e}},async created(){let e=await He(Ye.create(this.routes.init,{folder:this.folder}));this.breadcrumbs=e.breadcrumbs||[],this.files=e.files||[],this.folders=e.folders||[],this.currentFolder=e.currentFolder||null},mounted(){document.body.addEventListener("click",this.handleBodyClick)},beforeUnmount(){document.body.removeEventListener("click",this.handleBodyClick)},methods:{handleBodyClick(){this.showAddActivities=!1},toggleAll(e){[...this.folders,...this.files].forEach((t=>t.checked=e.target.checked))},async readFolder(e){let t=await He(Ye.create(this.routes.readFolder,{folder:e}));t.success&&(this.files=t.files||[],this.folders=t.folders||[],this.currentFolder=e,t.breadcrumbs&&(this.breadcrumbs=t.breadcrumbs))},async delSelection(){let e=await He(Ye.create(this.routes.delSelection,{files:this.checkedFiles.map((e=>e.id)).join(","),folders:this.checkedFolders.map((e=>e.id)).join(",")}),"DELETE");e.success?(this.files=e.files||[],this.folders=e.folders||[]):e.error&&(this.$emit("response-received",e),this.files=e.files||this.files,this.folders=e.folders||this.folders)},async moveSelection(){let e=await this.$refs["folder-tree"].open(this.routes.getFoldersTree,this.currentFolder);if(!1!==e){let t=await He(Ye.create(this.routes.moveSelection,{destination:e.id}),"POST",{},JSON.stringify({files:this.checkedFiles.map((e=>e.id)),folders:this.checkedFolders.map((e=>e.id))}));t.success?(this.files=t.files||[],this.folders=t.folders||[]):t.error&&(this.$emit("response-received",t),this.files=t.files||this.files,this.folders=t.folders||this.folders)}},async editFile(e){this.showEditForm=!0;let t=await He(Ye.create(this.routes.getFile,{id:e.id}));this.editFormData=t.form||{},this.editFileInfo=t.fileInfo||{},this.editFormData.id=e.id},async delFile(e){if(await this.$refs.confirm.open("Datei löschen","'"+e.name+"' wirklich löschen?")){let t=await He(Ye.create(this.routes.delFile,{id:e.id}),"DELETE");t.success&&this.files.splice(this.files.findIndex((t=>e===t)),1)}},async renameFile(e){let t=e.target.value.trim();if(t&&this.toRename){let e=await He(this.routes.renameFile,"POST",{},JSON.stringify({name:t,id:this.toRename.id}));e.success&&(this.toRename.name=e.name||t,this.toRename=null)}},async renameFolder(e){let t=e.target.value.trim();if(t&&this.toRename){let e=await He(this.routes.renameFolder,"POST",{},JSON.stringify({name:t,folder:this.toRename.id}));e.success&&(this.toRename.name=e.name||t,this.toRename=null)}},async delFolder(e){if(await this.$refs.confirm.open("Verzeichnis löschen","'"+e.name+"' und enthaltene Dateien wirklich löschen?",{cancelLabel:"Abbrechen"})){let t=await He(Ye.create(this.routes.delFolder,{folder:e.id}),"DELETE");t.success&&this.folders.splice(this.folders.findIndex((t=>e===t)),1)}},async createFolder(e){this.showAddActivities=!1;let t=await He(this.routes.addFolder,"POST",{},JSON.stringify({name:e,parent:this.currentFolder}));t.folder&&this.folders.push(t.folder)},async moveFile(e){let t=await this.$refs["folder-tree"].open(this.routes.getFoldersTree,this.currentFolder);if(!1!==t){let o=await He(this.routes.moveFile,"POST",{},JSON.stringify({id:e.id,folderId:t.id}));o.success?this.files.splice(this.files.findIndex((t=>e===t)),1):this.$emit("response-received",o)}},uploadDraggedFiles(e){this.indicateDrag=!1;let t=e.dataTransfer.files;t&&this.uploadInputFiles(t)},uploadInputFiles(e){this.showAddActivities=!1,[...e].forEach((e=>this.upload.files.push(e))),this.upload.progressing||(this.upload.progressing=!0,this.progress.loaded=0,this.handleUploads())},async handleUploads(){let e=null,t=null;while(void 0!==(e=this.upload.files.shift()))if(this.limits.maxUploadFilesize&&this.limits.maxUploadFilesize<e.size)await this.$refs.alert.open("Datei zu groß","'"+e.name+"' übersteigt die maximale Uploadgröße.");else{this.progress.file=e.name;try{t=await _t(Ye.create(this.routes.uploadFile,{folder:this.currentFolder}),"POST",{"Content-type":e.type||"application/octet-stream","X-File-Name":e.name.replace(/[^\x00-\x7F]/g,(e=>encodeURIComponent(e))),"X-File-Size":e.size,"X-File-Type":e.type},e,null,(e=>{this.progress.total=e.total,this.progress.loaded=e.loaded}),this.upload.cancelToken),this.files=t.files||this.files}catch(o){return this.upload.files=[],void(this.upload.progressing=!1)}if(!t.success)return this.$emit("response-received",t),this.upload.files=[],void(this.upload.progressing=!1)}this.upload.progressing=!1,t&&this.$emit("response-received",{success:!0,message:t.message||"File upload successful"})},cancelUpload(){this.upload.cancelToken.cancel&&(this.upload.cancelToken.cancel(),this.upload.cancelToken={})},doSearch(e){return e.trim().length>2?He(Ye.create(this.routes.search,{search:e})):{files:[],folders:[]}},formatFilesize:At},directives:{focus:ke,checkIndeterminate:{updated(e,t,o){let s=t.instance.checkedFolders.length+t.instance.checkedFiles.length;s||(e.checked=!1),e.indeterminate=s&&s!==t.instance.folders.length+t.instance.files.length}}}};Ut.render=ge;const jt=Ut,qt={"use-drag-handle":!0};function zt(e,t,s,i,n,r){const a=(0,o.resolveComponent)("slicksort-item");return(0,o.openBlock)(),(0,o.createBlock)("div",qt,[((0,o.openBlock)(!0),(0,o.createBlock)(o.Fragment,null,(0,o.renderList)(s.value,((t,s)=>((0,o.openBlock)(),(0,o.createBlock)(a,{key:s,index:s,item:t},{default:(0,o.withCtx)((()=>[((0,o.openBlock)(!0),(0,o.createBlock)(o.Fragment,null,(0,o.renderList)(e.$scopedSlots,((t,s)=>(0,o.renderSlot)(e.$slots,s,e.slotData))),256))])),_:2},1032,["index","item"])))),128))])}var Wt=s(247);const Jt={class:"slick-sort-item"},Kt={class:"handle"};function Ht(e,t,s,i,n,r){const a=(0,o.resolveDirective)("handle");return(0,o.openBlock)(),(0,o.createBlock)("div",Jt,[(0,o.withDirectives)((0,o.createVNode)("div",Kt,null,512),[[a]]),(0,o.renderSlot)(e.$slots,"row",{item:s.item},(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(s.item),1)]))])}const Yt={mixins:[Wt.ElementMixin],props:["item"]};Yt.render=Ht;const Gt=Yt,Xt={mixins:[Wt.ContainerMixin],components:{SlicksortItem:Gt},props:{value:{type:Array,default:[]}}};Xt.render=zt;const Zt=Xt,Qt={key:0,class:"tab-item tab-action"};function eo(e,t,s,i,n,r){return(0,o.openBlock)(),(0,o.createBlock)("div",null,[s.items.length?((0,o.openBlock)(),(0,o.createBlock)("ul",{key:0,class:["tab",{"tab-block":s.block}]},[((0,o.openBlock)(!0),(0,o.createBlock)(o.Fragment,null,(0,o.renderList)(s.items,((e,t)=>((0,o.openBlock)(),(0,o.createBlock)("li",{key:t,class:["tab-item",{active:s.activeIndex===t}]},[(0,o.createVNode)("a",{"data-badge":e.badge,onClick:t=>r.itemOnClick(e),class:{disabled:e.disabled}},(0,o.toDisplayString)(e.name),11,["data-badge","onClick"])],2)))),128)),r.hasActionSlot?((0,o.openBlock)(),(0,o.createBlock)("li",Qt,[(0,o.renderSlot)(e.$slots,"action")])):(0,o.createCommentVNode)("",!0)],2)):(0,o.createCommentVNode)("",!0)])}const to={name:"tab",emits:["update:active-index"],props:{items:{type:Array,default:()=>[]},activeIndex:{type:Number,default:0},block:{type:Boolean,default:!1}},data(){return{activeTab:{}}},computed:{hasActionSlot(){return!!this.$slots.action}},created(){this.activeTab=this.items[this.activeIndex]||{}},watch:{activeIndex(e){this.activeTab=this.items[e]||{}}},methods:{itemOnClick(e){e.disabled||(this.activeTab=e,this.$emit("update:active-index",this.items.indexOf(e)))}}};to.render=eo;const oo=to,so=(0,o.withScopeId)("data-v-0aec82d5");(0,o.pushScopeId)("data-v-0aec82d5");const io={class:"form-group is-password"};(0,o.popScopeId)();const no=so(((e,t,s,i,n,r)=>((0,o.openBlock)(),(0,o.createBlock)("div",io,[(0,o.createVNode)("input",(0,o.mergeProps)(e.$attrs,{value:s.modelValue,class:"form-input",type:n.show?"text":"password",onInput:t[1]||(t[1]=t=>e.$emit("update:modelValue",t.target.value))}),null,16,["value","type"]),(0,o.createVNode)("a",{class:{show:n.show},href:"#",onClick:t[2]||(t[2]=(0,o.withModifiers)((e=>n.show=!n.show),["prevent"]))},null,2)])))),ro={name:"password-input",inheritAttrs:!1,props:["modelValue"],emits:["update:modelValue"],data(){return{show:!1}}};s(587);ro.render=no,ro.__scopeId="data-v-0aec82d5";const ao=ro,lo={class:"content"},co={class:"buttons"};function ho(e,t,s,i,n,r){return(0,o.openBlock)(),(0,o.createBlock)(o.Transition,{appear:"",name:s.transitionName},{default:(0,o.withCtx)((()=>[n.isOpen?((0,o.openBlock)(),(0,o.createBlock)("div",{key:0,class:["cookie-consent",r.containerPosition]},[(0,o.renderSlot)(e.$slots,"default",{accept:r.accept,close:r.close,decline:r.decline,open:r.open},(()=>[(0,o.createVNode)("div",lo,[(0,o.renderSlot)(e.$slots,"message",{},(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(s.message),1)]))]),(0,o.createVNode)("div",co,[s.buttonLink?((0,o.openBlock)(),(0,o.createBlock)("a",{key:0,target:r.target,href:s.buttonLink,class:"btn-link"},(0,o.toDisplayString)(s.buttonLinkText),9,["target","href"])):(0,o.createCommentVNode)("",!0),(0,o.createVNode)("button",{onClick:t[1]||(t[1]=(...e)=>r.accept&&r.accept(...e)),class:"btn-accept"},(0,o.toDisplayString)(s.buttonText),1),s.buttonDecline?((0,o.openBlock)(),(0,o.createBlock)("button",{key:1,onClick:t[2]||(t[2]=(...e)=>r.decline&&r.decline(...e)),class:"btn-decline"},(0,o.toDisplayString)(s.buttonDeclineText),1)):(0,o.createCommentVNode)("",!0)])]))],2)):(0,o.createCommentVNode)("",!0)])),_:3},8,["name"])}function uo(e){const t=parseInt(e,10);let o=new Date;switch(e.charAt(e.length-1)){case"Y":o.setFullYear(o.getFullYear()+t);break;case"M":o.setMonth(o.getMonth()+t);break;case"D":o.setDate(o.getDate()+t);break;case"h":o.setHours(o.getHours()+t);break;case"m":o.setMinutes(o.getMinutes()+t);break;case"s":o.setSeconds(o.getSeconds()+t);break;default:o=new Date(e)}return o}function po(e){let t="";return Object.getOwnPropertyNames(e).forEach((o=>{if(/^expires$/i.test(o)){let s=e[o];"object"!==typeof s&&(s+="number"===typeof s?"D":"",s=uo(s)),t+=";"+o+"="+s.toUTCString()}else/^secure$/.test(o)?e[o]&&(t+=";"+o):t+=";"+o+"="+e[o]})),e.hasOwnProperty("path")||(t+=";path=/"),t}function mo(e){const t=bo(e);return t?decodeURIComponent(t):null}function fo(e,t,o={}){document.cookie=e+"="+encodeURIComponent(t)+po(o)}function go(e,t={}){return fo(e,"x",{...t,expires:-1})}function bo(e){if(!e||"string"!==typeof e)return null;const t=e.replace(/[.*+?^$|[\](){}\\-]/g,"\\$&"),o=new RegExp("(?:^|; )"+t+"(?:=([^;]*))?(?:;|$)").exec(document.cookie);return null===o?null:o[1]}const yo={name:"cookie-consent",emits:["accept","decline","revoke"],props:{buttonText:{type:String,default:"Ok"},buttonDecline:{type:Boolean,default:!1},buttonDeclineText:{type:String,default:"Decline"},buttonLink:{type:String,required:!1},buttonLinkText:{type:String,default:"More info"},buttonLinkNewTab:{type:Boolean,default:!0},message:{type:String,default:"This website uses cookies to ensure you get the best experience on our website."},position:{type:String,default:"bottom"},transitionName:{type:String,default:"fade"},storageName:{type:String,default:"cookie:accepted"},cookieOptions:{type:Object,default:()=>{},required:!1}},data(){return{isOpen:!1}},computed:{containerPosition(){return this.position},target(){return this.buttonLinkNewTab?"_blank":"_self"}},created(){this.getVisited()||(this.isOpen=!0)},mounted(){this.isAccepted()&&this.$emit("accept")},methods:{setVisited(){fo(this.storageName,!0,{...this.cookieOptions,expires:"1Y"})},getVisited(){let e=!1;return e=mo(this.storageName),"string"===typeof e&&(e=JSON.parse(e)),!(null===e||void 0===e)},isAccepted(){let e=!1;return e=mo(this.storageName),"string"===typeof e&&(e=JSON.parse(e)),e},accept(){fo(this.storageName,!0,{...this.cookieOptions,expires:"1Y"}),this.setVisited(),this.isOpen=!1,this.$emit("accept")},decline(){fo(this.storageName,!1,{...this.cookieOptions,expires:"1Y"}),this.setVisited(),this.isOpen=!1,this.$emit("decline")},revoke(){go(this.storageName),this.isOpen=!0,this.$emit("revoke")},open(){this.getVisited()||(this.isOpen=!0)},close(){this.isOpen=!1,this.$emit("close")}}};yo.render=ho;const vo=yo,ko={class:"pagination"},wo={key:1};function xo(e,t,s,i,n,r){return(0,o.openBlock)(),(0,o.createBlock)("div",null,[(0,o.createVNode)("ul",ko,[s.showNavButtons?((0,o.openBlock)(),(0,o.createBlock)("li",{key:0,class:["page-item",{disabled:n.currentPage<=1}]},[(0,o.createVNode)("a",{tabindex:"-1",onClick:t[1]||(t[1]=(...e)=>r.prevPage&&r.prevPage(...e)),class:"menu-item"},(0,o.toDisplayString)(s.prevText),1)],2)):(0,o.createCommentVNode)("",!0),((0,o.openBlock)(!0),(0,o.createBlock)(o.Fragment,null,(0,o.renderList)(r.pagesToShow,((e,t)=>((0,o.openBlock)(),(0,o.createBlock)("li",{key:t,class:["page-item",{active:n.currentPage===e}]},["dots"!==e?((0,o.openBlock)(),(0,o.createBlock)("a",{key:0,onClick:t=>r.pageClick(e)},(0,o.toDisplayString)(e),9,["onClick"])):((0,o.openBlock)(),(0,o.createBlock)("span",wo,"…"))],2)))),128)),s.showNavButtons?((0,o.openBlock)(),(0,o.createBlock)("li",{key:1,class:["page-item",{disabled:n.currentPage>=n.maxPage}]},[(0,o.createVNode)("a",{tabindex:"-1",onClick:t[2]||(t[2]=(...e)=>r.nextPage&&r.nextPage(...e))},(0,o.toDisplayString)(s.nextText),1)],2)):(0,o.createCommentVNode)("",!0)])])}const No={name:"pagination",emits:["update:page","update:total"],props:{items:Array,total:{type:Number,default:1},page:{type:Number,default:1},perPage:{type:Number,default:20},showNavButtons:{type:Boolean,default:!0},prevText:{type:String,default:"Previous"},nextText:{type:String,default:"Next"},showAllPages:{type:Boolean,default:!1},onPageChange:Function},data(){return{currentPage:1,maxPage:0,showPerPage:20,dataItems:void 0}},created(){this.currentPage=this.page,this.totalResults=this.total,this.showPerPage=this.perPage,"undefined"!==typeof this.items&&(this.dataItems=this.items,this.totalResults=this.items.length),this.countMaxPage(),"function"===typeof this.onPageChange&&this.onPageChange.apply(null,[this.currentPage,this.dataResults,this.maxPage])},methods:{pageClick(e){this.currentPage=e,this.$emit("update:page",e),"function"===typeof this.onPageChange&&this.onPageChange.apply(null,[e,this.dataResults,this.maxPage])},prevPage(){this.currentPage>1&&this.pageClick(this.currentPage-1)},nextPage(){this.currentPage<this.maxPage&&this.pageClick(this.currentPage+1)},countMaxPage(){this.maxPage=Math.ceil(this.totalResults/this.showPerPage)}},watch:{page(e){e<1?e=1:e>this.maxPage&&(e=this.maxPage),this.currentPage=e,"function"===typeof this.onPageChange&&this.onPageChange.apply(null,[this.currentPage,this.dataResults,this.maxPage])},total(e){e<0&&(e=0),this.totalResults=e,this.countMaxPage(),this.pageClick(1)},perPage(e){e<1&&(e=20),this.showPerPage=e,this.countMaxPage(),this.pageClick(1)},items(e){this.dataItems=e,this.totalResults=this.dataItems.length,this.$emit("update:total",this.totalResults),this.countMaxPage(),this.pageClick(1)}},computed:{dataResults(){if("undefined"!==typeof this.dataItems&&this.dataItems.length>0){let e=(this.currentPage-1)*this.showPerPage,t=this.currentPage*this.showPerPage;return this.dataItems.slice(e,t)}return null},pagesToShow(){let e=[1];if(!0===this.showAllPages||this.maxPage<=7){let t=2;for(;t<=this.maxPage;++t)e.push(t);return e}return this.currentPage>=this.maxPage?(e.push("dots"),e.push(this.currentPage-2),e.push(this.currentPage-1)):this.currentPage-1&&this.currentPage-1>1&&(this.currentPage-1>2&&e.push("dots"),e.push(this.currentPage-1)),this.currentPage>1&&e.push(this.currentPage),this.currentPage+1<this.maxPage&&(e.push(this.currentPage+1),this.currentPage<=1&&e.push(this.currentPage+2),this.currentPage+2<this.maxPage&&e.push("dots")),this.currentPage<this.maxPage&&e.push(this.maxPage),e}}};No.render=xo;const Vo=No,Do={class:"ckeditor"};function Bo(e,t,s,i,n,r){return(0,o.openBlock)(),(0,o.createBlock)("div",Do,[(0,o.createVNode)("textarea",{name:s.name,id:s.id,value:s.value,types:s.types,config:s.config,disabled:s.readOnlyMode},"\n    ",8,["name","id","value","types","config","disabled"])])}let Co=(new Date).getTime();const So={name:"VueCkeditor",props:{name:{type:String,default:"editor-"+ ++Co},value:String,id:{type:String,default:`editor-${Co}`},types:{type:String,default:"classic"},config:{type:Object,default:{}},instanceReadyCallback:Function,readOnlyMode:{type:Boolean,default:!1}},data(){return{instanceValue:""}},computed:{instance(){return CKEDITOR.instances[this.id]}},watch:{value(e){try{this.instance&&this.update(e)}catch(t){}},readOnlyMode(e){this.instance.setReadOnly(e)}},mounted(){"undefined"===typeof CKEDITOR?console.log("CKEDITOR is missing (http://ckeditor.com/)"):("inline"===this.types?CKEDITOR.inline(this.id,this.config):CKEDITOR.replace(this.id,this.config),this.instance.setData(this.value),this.instance.on("instanceReady",(()=>{this.instance.setData(this.value)})),this.instance.on("change",this.onChange),this.instance.on("mode",this.onMode),this.instance.on("blur",(e=>{this.$emit("blur",e)})),this.instance.on("focus",(e=>{this.$emit("focus",e)})),this.instance.on("contentDom",(e=>{this.$emit("contentDom",e)})),CKEDITOR.on("dialogDefinition",(e=>{this.$emit("dialogDefinition",e)})),this.instance.on("fileUploadRequest",(e=>{this.$emit("fileUploadRequest",e)})),this.instance.on("fileUploadResponse",(e=>{setTimeout((()=>{this.onChange()}),0),this.$emit("fileUploadResponse",e)})),"undefined"!==typeof this.instanceReadyCallback&&this.instance.on("instanceReady",this.instanceReadyCallback),this.$once("hook:beforeDestroy",(()=>{this.destroy()})))},methods:{update(e){this.instanceValue!==e&&(this.instance.setData(e,{internal:!1}),this.instanceValue=e)},destroy(){try{let e=window["CKEDITOR"];e.instances&&e.instances[this.id]&&e.instances[this.id].destroy()}catch(e){}},onMode(){if("source"===this.instance.mode){let e=this.instance.editable();e.attachListener(e,"input",(()=>{this.onChange()}))}},onChange(){let e=this.instance.getData();e!==this.value&&(this.$emit("input",e),this.instanceValue=e)}}};So.render=Bo;const Fo=So,To={class:"form-sect"},Po={class:"form-sect"},Oo={class:"form-group"},Io={class:"col-9"},$o={key:0,class:"form-input-hint vx-error-box error"},Mo=(0,o.createVNode)("div",{class:"divider text-center","data-content":"Benachrichtigungen"},null,-1),Ro={class:"form-sect off-3"},Ao={class:"form-group"},Lo={class:"form-switch"},Eo=(0,o.createVNode)("i",{class:"form-icon"},null,-1),_o=(0,o.createVNode)("div",{class:"divider"},null,-1),Uo={class:"form-base"},jo={class:"form-group off-3"};function qo(e,t,s,i,n,r){return(0,o.openBlock)(),(0,o.createBlock)("form",{action:"/",class:"form-horizontal",onSubmit:t[3]||(t[3]=(0,o.withModifiers)((()=>{}),["prevent"]))},[(0,o.createVNode)("div",To,[(0,o.createVNode)("div",Po,[((0,o.openBlock)(!0),(0,o.createBlock)(o.Fragment,null,(0,o.renderList)(n.elements,(e=>((0,o.openBlock)(),(0,o.createBlock)("div",Oo,[(0,o.createVNode)("label",{class:["form-label col-3",{required:e.required,"text-error":r.errors[e.model]}],for:e.model+"_"+e.type},(0,o.toDisplayString)(e.label),11,["for"]),(0,o.createVNode)("div",Io,[((0,o.openBlock)(),(0,o.createBlock)((0,o.resolveDynamicComponent)(e.type||"form-input"),{id:e.model+"_"+e.type,name:e.model,modelValue:n.form[e.model],"onUpdate:modelValue":t=>n.form[e.model]=t},null,8,["id","name","modelValue","onUpdate:modelValue"])),r.errors[e.model]?((0,o.openBlock)(),(0,o.createBlock)("p",$o,(0,o.toDisplayString)(r.errors[e.model]),1)):(0,o.createCommentVNode)("",!0)])])))),256))])]),s.notifications.length?((0,o.openBlock)(),(0,o.createBlock)(o.Fragment,{key:0},[Mo,(0,o.createVNode)("div",Ro,[((0,o.openBlock)(!0),(0,o.createBlock)(o.Fragment,null,(0,o.renderList)(s.notifications,(e=>((0,o.openBlock)(),(0,o.createBlock)("div",Ao,[(0,o.createVNode)("label",Lo,[(0,o.withDirectives)((0,o.createVNode)("input",{name:"notification[]",value:e.alias,type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=e=>n.form.notifications=e)},null,8,["value"]),[[o.vModelCheckbox,n.form.notifications]]),Eo,(0,o.createTextVNode)((0,o.toDisplayString)(e.label),1)])])))),256))])],64)):(0,o.createCommentVNode)("",!0),_o,(0,o.createVNode)("div",Uo,[(0,o.createVNode)("div",jo,[(0,o.createVNode)("button",{name:"submit_profile",type:"button",class:["btn btn-success",{loading:n.loading}],disabled:n.loading,onClick:t[2]||(t[2]=(...e)=>r.submit&&r.submit(...e))},"Änderungen speichern",10,["disabled"])])])],32)}const zo={components:{"password-input":ao,"form-input":m},props:{url:{type:String,required:!0},initialData:{type:Object,default:()=>({})},notifications:{type:Array}},data(){return{form:{},response:{},loading:!1,elements:[{model:"username",label:"Username",attrs:{maxlength:128,autocomplete:"off"},required:!0},{model:"email",label:"E-Mail",attrs:{maxlength:128,autocomplete:"off"},required:!0},{model:"name",label:"Name",attrs:{maxlength:128,autocomplete:"off"},required:!0},{type:"password-input",model:"new_PWD",label:"Neues Passwort",attrs:{maxlength:128,autocomplete:"off"}},{type:"password-input",model:"new_PWD_verify",label:"Passwort wiederholen",attrs:{maxlength:128,autocomplete:"off"}}]}},computed:{errors(){return this.response&&this.response.errors||{}},message(){return this.response?this.response.message:""}},watch:{initialData(e){this.form=e}},methods:{async submit(){this.loading=!0,this.$emit("request-sent"),this.response=await He(this.url,"post",{},JSON.stringify(this.form)),this.loading=!1,this.$emit("response-received")}}};zo.render=qo;const Wo=zo,Jo={class:"form-sect"},Ko={class:"form-group"},Ho={class:"col-9"},Yo={key:0,class:"form-input-hint vx-error-box error"},Go=(0,o.createVNode)("div",{class:"divider"},null,-1),Xo={class:"form-base"},Zo={class:"form-group off-3"};function Qo(e,t,s,i,n,r){return(0,o.openBlock)(),(0,o.createBlock)("form",{action:"/",class:"form-horizontal",onSubmit:t[2]||(t[2]=(0,o.withModifiers)((()=>{}),["prevent"]))},[(0,o.createVNode)("div",Jo,[((0,o.openBlock)(!0),(0,o.createBlock)(o.Fragment,null,(0,o.renderList)(e.elements,(t=>((0,o.openBlock)(),(0,o.createBlock)("div",Ko,[(0,o.createVNode)("label",{class:["form-label col-3",{required:t.required,"text-error":r.errors[t.model]}],for:t.model+"_"+t.type},(0,o.toDisplayString)(t.label),11,["for"]),(0,o.createVNode)("div",Ho,[((0,o.openBlock)(),(0,o.createBlock)((0,o.resolveDynamicComponent)(t.type||"form-input"),{id:t.model+"_"+t.type,name:t.model,modelValue:e.form[t.model],"onUpdate:modelValue":o=>e.form[t.model]=o,options:t.options},null,8,["id","name","modelValue","onUpdate:modelValue","options"])),r.errors[t.model]?((0,o.openBlock)(),(0,o.createBlock)("p",Yo,(0,o.toDisplayString)(r.errors[t.model]),1)):(0,o.createCommentVNode)("",!0)])])))),256))]),Go,(0,o.createVNode)("div",Xo,[(0,o.createVNode)("div",Zo,[(0,o.createVNode)("button",{name:"submit_user",type:"button",class:["btn btn-success",{loading:e.loading}],disabled:e.loading,onClick:t[1]||(t[1]=(...e)=>r.submit&&r.submit(...e))},(0,o.toDisplayString)(e.form.id?"Daten übernehmen":"User anlegen"),11,["disabled"])])])],32)}function es(e,t,s,i,n,r){return(0,o.openBlock)(),(0,o.createBlock)("select",(0,o.mergeProps)(e.$attrs,{value:s.modelValue,class:"form-select",onChange:t[1]||(t[1]=t=>e.$emit("update:modelValue",t.target.value))}),[((0,o.openBlock)(!0),(0,o.createBlock)(o.Fragment,null,(0,o.renderList)(s.options,(e=>((0,o.openBlock)(),(0,o.createBlock)("option",{value:e.key||e.label||e,selected:(e.key||e.label||e)==s.modelValue},(0,o.toDisplayString)(e.label||e),9,["value","selected"])))),256))],16,["value"])}const ts={name:"form-select",props:{options:Array,modelValue:String},emits:["update:modelValue"]};ts.render=es;const os=ts,ss={components:{"password-input":ao,"form-input":m,"form-select":os},props:{url:{type:String,required:!0},initialData:{type:Object,default:()=>({})},options:{type:Object}},data:()=>({form:{},response:{},loading:!1,elements:[{model:"username",label:"Username",attrs:{maxlength:128,autocomplete:"off"},required:!0},{model:"email",label:"E-Mail",attrs:{maxlength:128,autocomplete:"off"},required:!0},{model:"name",label:"Name",attrs:{maxlength:128,autocomplete:"off"},required:!0},{type:"form-select",model:"admingroupsid",label:"Gruppe",required:!0,options:[]},{type:"password-input",model:"new_PWD",label:"Neues Passwort",attrs:{maxlength:128,autocomplete:"off"}},{type:"password-input",model:"new_PWD_verify",label:"Passwort wiederholen",attrs:{maxlength:128,autocomplete:"off"}}]}),computed:{errors(){return this.response&&this.response.errors||{}},message(){return this.response?this.response.message:""}},watch:{initialData(e){this.form=e},options(e){this.elements[this.elements.findIndex((e=>"admingroupsid"===e.model))].options=e.admingroups}},methods:{async submit(){this.loading=!0,this.$emit("request-sent"),this.response=await He(this.url,"post",{},JSON.stringify(this.form)),this.loading=!1,this.$emit("response-received")}}};ss.render=Qo;const is=ss,ns={class:"form-group"},rs={class:"col-9"},as=(0,o.createVNode)("div",{class:"divider"},null,-1),ls={class:"form-group"};function cs(e,t,s,i,n,r){return(0,o.openBlock)(),(0,o.createBlock)("form",{action:"/",class:"form-horizontal",onSubmit:t[2]||(t[2]=(0,o.withModifiers)((()=>{}),["prevent"]))},[((0,o.openBlock)(!0),(0,o.createBlock)(o.Fragment,null,(0,o.renderList)(e.elements,(t=>((0,o.openBlock)(),(0,o.createBlock)("div",ns,[(0,o.createVNode)("label",{class:["form-label col-3",{required:t.required,"text-error":r.errors[t.model]}],for:t.model+"_"+t.type},(0,o.toDisplayString)(t.label),11,["for"]),(0,o.createVNode)("div",rs,[((0,o.openBlock)(),(0,o.createBlock)((0,o.resolveDynamicComponent)(t.type||"form-input"),(0,o.mergeProps)({id:t.model+"_"+t.type,name:t.model,options:t.options,modelValue:e.form[t.model],"onUpdate:modelValue":o=>e.form[t.model]=o},t.attrs),null,16,["id","name","options","modelValue","onUpdate:modelValue"]))])])))),256)),as,(0,o.createVNode)("div",ls,[(0,o.createVNode)("button",{type:"button",onClick:t[1]||(t[1]=(...e)=>r.submit&&r.submit(...e)),class:["btn btn-success off-3 col-3",{loading:e.loading}],disabled:e.loading},(0,o.toDisplayString)(e.form.id?"Daten übernehmen":"Artikel anlegen"),11,["disabled"])])],32)}function ds(e,t,s,i,n,r){return(0,o.openBlock)(),(0,o.createBlock)("textarea",{value:s.modelValue,class:"form-input",onInput:t[1]||(t[1]=t=>e.$emit("update:modelValue",t.target.value))},null,40,["value"])}const hs={name:"form-textarea",props:["modelValue"],emits:["update:modelValue"]};hs.render=ds;const us=hs,ps={class:"form-checkbox"},ms=(0,o.createVNode)("i",{class:"form-icon"},null,-1);function fs(e,t,s,i,n,r){return(0,o.openBlock)(),(0,o.createBlock)("label",ps,[(0,o.createVNode)("input",(0,o.mergeProps)({value:"1",type:"checkbox",onChange:t[1]||(t[1]=t=>e.$emit("update:modelValue",t.target.checked))},e.$attrs,{checked:s.modelValue}),null,16,["checked"]),ms])}const gs={inheritAttrs:!1,props:["modelValue"]};gs.render=fs;const bs=gs,ys={components:{"vue-ckeditor":Fo,datepicker:I,"form-input":m,"form-textarea":us,"form-select":os,"form-checkbox":bs},props:{url:{type:String,required:!0},initialData:{type:Object,default:()=>({})},options:{type:Object},editorConfig:{type:Object}},data:function(){return{elements:[{type:"datepicker",model:"article_date",label:"Artikeldatum",attrs:{"input-format":"d.m.y","output-format":"d.m.y","day-names":"Mo Di Mi Do Fr Sa So".split(" "),"month-names":"Jan Feb Mär Apr Mai Jun Jul Aug Sep Okt Nov Dez".split(" ")}},{type:"datepicker",model:"display_from",label:"Anzeige von",attrs:{"input-format":"d.m.y","output-format":"d.m.y","day-names":"Mo Di Mi Do Fr Sa So".split(" "),"month-names":"Jan Feb Mär Apr Mai Jun Jul Aug Sep Okt Nov Dez".split(" "),"valid-from":new Date}},{type:"datepicker",model:"display_until",label:"Anzeige bis",attrs:{"input-format":"d.m.y","output-format":"d.m.y","day-names":"Mo Di Mi Do Fr Sa So".split(" "),"month-names":"Jan Feb Mär Apr Mai Jun Jul Aug Sep Okt Nov Dez".split(" "),"valid-from":new Date}},{model:"customsort",label:"generische Sortierung",attrs:{class:"col-2",maxlength:4}},{type:"form-checkbox",model:"customflags",label:"Markiert"},{type:"form-select",model:"articlecategoriesid",label:"Kategorie",required:!0,options:[]},{model:"headline",label:"Überschrift/Titel",required:!0},{model:"subline",label:"Unterüberschrift"},{type:"form-textarea",model:"teaser",label:"Anrisstext"},{type:"vue-ckeditor",model:"content",label:"Inhalt",required:!0,attrs:{config:this.editorConfig}}],form:{},response:{},loading:!1}},computed:{errors(){return this.response&&this.response.errors||{}},message(){return this.response?this.response.message:""}},watch:{initialData(e){this.form=Object.assign({},this.form,e),this.setDates()},options(e){this.elements[this.elements.findIndex((e=>"articlecategoriesid"===e.model))].options=e.categories}},mounted(){this.form=Object.assign({},this.form,this.initialData),this.setDates()},methods:{async submit(){this.loading=!0;let e=Object.assign({},this.form);Object.keys(e).forEach((t=>{e[t]instanceof Date&&(e[t]=e[t].getFullYear()+"-"+(e[t].getMonth()+1)+"-"+e[t].getDate())})),this.response=await He(this.url,"post",{},JSON.stringify(e)),this.form.id=this.response.id,this.$emit("response-received",this.response),this.loading=!1},setDates(){["article_date","display_from","display_until"].forEach((e=>{!this.form[e]||this.form[e]instanceof Date||(this.form[e]=new Date(this.form[e]))}))}}};ys.render=cs;const vs=ys,ks={class:"columns"},ws={class:"column col-8"},xs={class:"form-group"},Ns=(0,o.createVNode)("label",{class:"form-label",for:"alias_input"},"Eindeutiger Name (automatisch generiert)",-1),Vs={class:"form-group"},Ds=(0,o.createVNode)("label",{class:"form-label",for:"title_input"},"Titel",-1),Bs={key:0,class:"form-input-hint vx-error-box error"},Cs={class:"form-group"},Ss=(0,o.createVNode)("label",{class:"form-label"},"Inhalt",-1),Fs={class:"column col-4"},Ts={class:"form-group"},Ps=(0,o.createVNode)("label",{class:"form-label",for:"keywords_input"},"Schlüsselwörter",-1),Os={class:"form-group"},Is=(0,o.createVNode)("label",{class:"form-label",for:"description_input"},"Beschreibung",-1),$s=(0,o.createVNode)("div",{class:"divider","data-content":"Revisionen"},null,-1),Ms={id:"revisionsContainer"},Rs=(0,o.createVNode)("div",{class:"divider"},null,-1),As={class:"form-base"},Ls={class:"form-group"};function Es(e,t,s,i,n,r){const a=(0,o.resolveComponent)("vue-ckeditor"),l=(0,o.resolveComponent)("revision-table");return(0,o.openBlock)(),(0,o.createBlock)("form",{action:"/",onSubmit:t[10]||(t[10]=(0,o.withModifiers)((()=>{}),["prevent"]))},[(0,o.createVNode)("div",ks,[(0,o.createVNode)("div",ws,[(0,o.createVNode)("div",xs,[Ns,(0,o.withDirectives)((0,o.createVNode)("input",{id:"alias_input","onUpdate:modelValue":t[1]||(t[1]=t=>e.form.alias=t),class:"form-input",disabled:"disabled",maxlength:"64"},null,512),[[o.vModelText,e.form.alias]])]),(0,o.createVNode)("div",Vs,[Ds,(0,o.withDirectives)((0,o.createVNode)("input",{id:"title_input","onUpdate:modelValue":t[2]||(t[2]=t=>e.form.title=t),class:"form-input",maxlength:"128"},null,512),[[o.vModelText,e.form.title]]),r.errors.title?((0,o.openBlock)(),(0,o.createBlock)("p",Bs,(0,o.toDisplayString)(r.errors.title),1)):(0,o.createCommentVNode)("",!0)]),(0,o.createVNode)("div",Cs,[Ss,(0,o.createVNode)(a,{modelValue:e.form.markup,"onUpdate:modelValue":t[3]||(t[3]=t=>e.form.markup=t),config:e.editorConfig},null,8,["modelValue","config"])])]),(0,o.createVNode)("div",Fs,[(0,o.createVNode)("div",Ts,[Ps,(0,o.withDirectives)((0,o.createVNode)("textarea",{id:"keywords_input",class:"form-input",rows:"4","onUpdate:modelValue":t[4]||(t[4]=t=>e.form.keywords=t)},null,512),[[o.vModelText,e.form.keywords]])]),(0,o.createVNode)("div",Os,[Is,(0,o.withDirectives)((0,o.createVNode)("textarea",{id:"description_input",class:"form-input",rows:"4","onUpdate:modelValue":t[5]||(t[5]=t=>e.form.description=t)},null,512),[[o.vModelText,e.form.description]])]),$s,(0,o.createVNode)("div",Ms,[(0,o.createVNode)(l,{revisions:e.revisions,onActivateRevision:t[6]||(t[6]=t=>e.$emit("activate-revision",t)),onLoadRevision:t[7]||(t[7]=t=>e.$emit("load-revision",t)),onDeleteRevision:t[8]||(t[8]=t=>e.$emit("delete-revision",t))},null,8,["revisions"])])])]),Rs,(0,o.createVNode)("div",As,[(0,o.createVNode)("div",Ls,[(0,o.createVNode)("button",{name:"submit_page",type:"button",class:["btn btn-success",{loading:e.loading}],disabled:e.loading,onClick:t[9]||(t[9]=(...e)=>r.submit&&r.submit(...e))},"Änderungen übernehmen und neue Revision erzeugen",10,["disabled"])])])],32)}const _s={id:"revisions",class:"table table-striped"},Us=(0,o.createVNode)("thead",null,[(0,o.createVNode)("tr",null,[(0,o.createVNode)("th",null,"Angelegt um"),(0,o.createVNode)("th",{class:"col-2"}),(0,o.createVNode)("th",{class:"col-2"},"aktiv"),(0,o.createVNode)("th",{class:"col-2"})])],-1),js={class:"form-switch"},qs=(0,o.createVNode)("i",{class:"form-icon"},null,-1),zs={class:"text-right"};function Ws(e,t,s,i,n,r){return(0,o.openBlock)(),(0,o.createBlock)("table",_s,[Us,(0,o.createVNode)("tbody",null,[((0,o.openBlock)(!0),(0,o.createBlock)(o.Fragment,null,(0,o.renderList)(r.sortedRevisions,(t=>((0,o.openBlock)(),(0,o.createBlock)("tr",{key:t.id},[(0,o.createVNode)("td",null,(0,o.toDisplayString)(r.formatDateTime(t.firstCreated,"y-mm-dd h:i:s")),1),(0,o.createVNode)("td",null,[(0,o.createVNode)("button",{class:"btn btn-link webfont-icon-only tooltip",type:"button","data-tooltip":"Ansicht",onClick:o=>e.$emit("load-revision",t)},"",8,["onClick"])]),(0,o.createVNode)("td",null,[(0,o.createVNode)("label",js,[(0,o.createVNode)("input",{type:"checkbox",checked:t.active,disabled:t.active,onClick:o=>e.$emit("activate-revision",t)},null,8,["checked","disabled","onClick"]),qs])]),(0,o.createVNode)("td",zs,[t.active?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createBlock)("button",{key:0,class:"btn btn-primary webfont-icon-only tooltip tooltip-left",type:"button","data-tooltip":"Löschen",onClick:o=>e.$emit("delete-revision",t)},"",8,["onClick"]))])])))),128))])])}const Js={props:{revisions:{type:Array,default:[]}},computed:{sortedRevisions(){return this.revisions.slice().sort(((e,t)=>e.firstCreated<t.firstCreated?1:-1))}},methods:{formatDateTime:F.formatDate}};Js.render=Ws;const Ks=Js,Hs={components:{"vue-ckeditor":Fo,"revision-table":Ks},props:{url:{type:String,required:!0},initialData:{type:Object,default:()=>{}}},data:()=>({form:{},revisions:[],response:{},loading:!1,editorConfig:{allowedContent:!0,autoParagraph:!1,customConfig:"",toolbar:[["Maximize","-","Source"],["Undo","Redo","-","Cut","Copy","Paste","PasteText","PasteFromWord"],["Find","Replace"],["Bold","Italic","Subscript","Superscript","-","CopyFormatting","RemoveFormat","-","TextColor","BGColor"],["NumberedList","BulletedList","-","Blockquote"],["Link","Unlink"],["Image","Table","SpecialChar"],["Styles","Format"],["ShowBlocks"]],height:"24rem",contentsCss:["/css/site.css","/css/site_edit.css"],filebrowserBrowseUrl:null,filebrowserImageBrowseUrl:null}}),computed:{errors(){return this.response&&this.response.errors||{}},message(){return this.response?this.response.message:""}},watch:{initialData(e){this.form=e.form||this.form,this.revisions=e.revisions||this.revisions}},created(){this.editorConfig.filebrowserBrowseUrl=this.$parent.$options.routes.fileBrowse,this.editorConfig.filebrowserImageBrowseUrl=this.$parent.$options.routes.fileBrowse+"?filter=image"},methods:{async submit(){this.loading=!0,this.$emit("request-sent"),this.response=await He(this.url,"post",{},JSON.stringify(this.form)),this.loading=!1,this.$emit("response-received")}}};Hs.render=Es;const Ys=Hs,Gs={MessageToast:a,CircularProgress:d,Autocomplete:b,DatePicker:I,Sortable:L,SimpleTree:K,Filemanager:jt,SlicksortList:Zt,Tab:oo,Confirm:rt,Alert:gt,PasswordInput:ao,CookieConsent:vo,Pagination:Vo,VueCkeditor:Fo,ProfileForm:Wo,UserForm:is,ArticleForm:vs,PageForm:Ys},Xs={formatFilesize:At},Zs={Focus:ke,Bubble:ve,HandleDirective:Wt.HandleDirective},Qs={ContainerMixin:Wt.ContainerMixin,ElementMixin:Wt.ElementMixin},ei={SimpleFetch:He,PromisedXhr:_t,UrlQuery:Ye,DateFunctions:F}})(),i})()}));
//# sourceMappingURL=vxweb.umd.min.js.map