(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("vue")):"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["vxweb"]=t(require("vue")):e["vxweb"]=t(e["Vue"])})("undefined"!==typeof self?self:this,(e=>(()=>{var t={273:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var o=s(81),i=s.n(o),n=s(645),r=s.n(n),l=r()(i());l.push([e.id,'div[data-v-0aec82d5]{position:relative}div a[data-v-0aec82d5]:focus{box-shadow:none;text-decoration:none;font-family:icomoon}div a[data-v-0aec82d5]:after{height:.8rem;margin:0 .25rem;position:absolute;top:50%;transform:translateY(-50%);width:.8rem;z-index:2;line-height:100%;right:.05rem;font-family:icomoon;content:""}div a.show[data-v-0aec82d5]:after{content:""}',""]);const a=l},628:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var o=s(81),i=s.n(o),n=s(645),r=s.n(n),l=r()(i());l.push([e.id,'.sortable-header[data-v-d2ff1a72]:after{font-family:icomoon;font-weight:400;vertical-align:middle;display:inline-block}.sortable-header.asc[data-v-d2ff1a72]:after{content:""}.sortable-header.desc[data-v-d2ff1a72]:after{content:""}',""]);const a=l},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var s="",o="undefined"!==typeof t[5];return t[4]&&(s+="@supports (".concat(t[4],") {")),t[2]&&(s+="@media ".concat(t[2]," {")),o&&(s+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),s+=e(t),o&&(s+="}"),t[2]&&(s+="}"),t[4]&&(s+="}"),s})).join("")},t.i=function(e,s,o,i,n){"string"===typeof e&&(e=[[null,e,void 0]]);var r={};if(o)for(var l=0;l<this.length;l++){var a=this[l][0];null!=a&&(r[a]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);o&&r[d[0]]||("undefined"!==typeof n&&("undefined"===typeof d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=n),s&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=s):d[2]=s),i&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=i):d[4]="".concat(i)),t.push(d))}},t}},81:e=>{"use strict";e.exports=function(e){return e[1]}},744:(e,t)=>{"use strict";t.Z=(e,t)=>{const s=e.__vccOpts||e;for(const[o,i]of t)s[o]=i;return s}},247:function(e,t,s){(function(e,o){o(t,s(203))})(0,(function(e,t){"use strict";const s=t.defineComponent({inject:["manager"],props:{index:{type:Number,required:!0},disabled:{type:Boolean,default:!1}},data(){return{}},watch:{index(e){this.$el&&this.$el.sortableInfo&&(this.$el.sortableInfo.index=e)},disabled(e){e?this.removeDraggable():this.setDraggable(this.index)}},mounted(){const{disabled:e,index:t}=this.$props;e||this.setDraggable(t)},beforeUnmount(){this.disabled||this.removeDraggable()},methods:{setDraggable(e){const t=this.$el;t.sortableInfo={index:e,manager:this.manager},this.ref={node:t},this.manager.add(this.ref)},removeDraggable(){this.manager.remove(this.ref)}}});class o{constructor(){this.refs=[],this.active=null}add(e){this.refs||(this.refs=[]),this.refs.push(e)}remove(e){const t=this.getIndex(e);-1!==t&&this.refs.splice(t,1)}isActive(){return!!this.active}getActive(){return this.refs.find((({node:e})=>{var t,s;return(null===(t=null===e||void 0===e?void 0:e.sortableInfo)||void 0===t?void 0:t.index)==(null===(s=null===this||void 0===this?void 0:this.active)||void 0===s?void 0:s.index)}))||null}getIndex(e){return this.refs.indexOf(e)}getRefs(){return this.refs}getOrderedRefs(){return this.refs.sort(((e,t)=>e.node.sortableInfo.index-t.node.sortableInfo.index))}}const i=e=>null!=e.touches;function n(e,t){return!!e&&Object.prototype.hasOwnProperty.call(e,t)}function r(e,t,s){const o=e.slice(0);if(s>=o.length){let e=s-o.length;while(1+e--)o.push(void 0)}return o.splice(s,0,o.splice(t,1)[0]),o}function l(e,t){const s=e.slice(0);return t>=s.length||s.splice(t,1),s}function a(e,t,s){const o=e.slice(0);return t===o.length?o.push(s):o.splice(t,0,s),o}const c={start:["touchstart","mousedown"],move:["touchmove","mousemove"],end:["touchend","mouseup"],cancel:["touchcancel","keyup"]};function d(e,t){while(e){if(t(e))return e;e=e.parentNode}}function h(e,t,s){return s<e?e:s>t?t:s}function u(e){return"px"===e.substr(-2)?parseFloat(e):0}function m(e){const t=window.getComputedStyle(e);return{top:u(t.marginTop),right:u(t.marginRight),bottom:u(t.marginBottom),left:u(t.marginLeft)}}function p(e,t="page"){const s=`${t}X`,o=`${t}Y`;return{x:i(e)?e.touches[0][s]:e[s],y:i(e)?e.touches[0][o]:e[o]}}function f(e){const t=[e];for(;e;e=e.offsetParent)t.unshift(e);return t}function g(e,t){const s=f(e),o=f(t);if(s[0]!=o[0])throw"No common ancestor!";for(let i=0;i<s.length;i++)if(s[i]!=o[i])return s[i-1]}function b(e,t,s={top:0,left:0}){if(e){const o={top:s.top+e.offsetTop,left:s.left+e.offsetLeft};return e.offsetParent!==t.offsetParent?b(e.offsetParent,t,o):o}return{top:0,left:0}}function y(e){const t=e.querySelectorAll("input, textarea, select"),s=e.cloneNode(!0),o=[...s.querySelectorAll("input, textarea, select")];return o.forEach(((e,s)=>{"file"!==e.type&&t[s]&&(e.value=t[s].value)})),s}function v(e,t,s){if("string"==typeof e&&(e=+e),Array.isArray(e)||(e=[e,e]),2!==e.length)throw new Error(`lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given ${e}`);const[o,i]=e;return[k(o,t,s),k(i,t,s)]}function k(e,t,s){let o=e,i=e,n="px";if("string"===typeof e){const t=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(e);if(null===t)throw new Error(`lockOffset value should be a number or a string of a number followed by "px" or "%". Given ${e}`);o=i=parseFloat(e),n=t[1]}if(!isFinite(o)||!isFinite(i))throw new Error(`lockOffset value should be a finite. Given ${e}`);return"%"===n&&(o=o*t/100,i=i*s/100),{x:o,y:i}}function w(e,t,s,o){const i=e-s,n=t-o;return Math.sqrt(i*i+n*n)}function x(e){return{x:e.left+e.width/2,y:e.top+e.height/2}}function E(e=[]){for(let t=0,s=e.length;t<s;t++){const s=e[t],o=s.node;if(!o)return;s.edgeOffset=null,C(o)}}function C(e,t="",s=""){e&&(e.style["transform"]=t,e.style["transitionDuration"]=s)}function D(e,t,s){const o=Math.max(t,s),i=Math.min(t,s);return i<=e&&e<=o}function V({x:e,y:t},{top:s,left:o,width:i,height:n}){const r=D(e,o,o+i),l=D(t,s,s+n);return r&&l}const N=setTimeout,B=t.defineComponent({inject:{SlicksortHub:{from:"SlicksortHub",default:null}},provide(){return{manager:this.manager}},props:{list:{type:Array,required:!0},axis:{type:String,default:"y"},distance:{type:Number,default:0},pressDelay:{type:Number,default:0},pressThreshold:{type:Number,default:5},useDragHandle:{type:Boolean,default:!1},useWindowAsScrollContainer:{type:Boolean,default:!1},hideSortableGhost:{type:Boolean,default:!0},lockToContainerEdges:{type:Boolean,default:!1},lockOffset:{type:[String,Number,Array],default:"50%"},transitionDuration:{type:Number,default:300},appendTo:{type:String,default:"body"},draggedSettlingDuration:{type:Number,default:null},group:{type:String,default:""},accept:{type:[Boolean,Array,Function],default:null},cancelKey:{type:String,default:"Escape"},block:{type:Array,default:()=>[]},lockAxis:{type:String,default:""},helperClass:{type:String,default:""},contentWindow:{type:Object,default:null},shouldCancelStart:{type:Function,default:e=>{const t=["input","textarea","select","option","button"];return-1!==t.indexOf(e.target.tagName.toLowerCase())}},getHelperDimensions:{type:Function,default:({node:e})=>({width:e.offsetWidth,height:e.offsetHeight})}},emits:["sort-start","sort-move","sort-end","sort-cancel","sort-insert","sort-remove","update:list"],data(){let e=!1;return this.group&&this.SlicksortHub&&(e=!0),{sorting:!1,hub:e?this.SlicksortHub:null,manager:new o}},mounted(){this.hub&&(this.id=this.hub.getId()),this.container=this.$el,this.document=this.container.ownerDocument||document,this._window=this.contentWindow||window,this.scrollContainer=this.useWindowAsScrollContainer?{scrollLeft:0,scrollTop:0}:this.container,this.events={start:this.handleStart,move:this.handleMove,end:this.handleEnd};for(const e in this.events)n(this.events,e)&&c[e].forEach((t=>this.container.addEventListener(t,this.events[e])));this.hub&&this.hub.addContainer(this)},beforeUnmount(){for(const e in this.events)n(this.events,e)&&c[e].forEach((t=>this.container.removeEventListener(t,this.events[e])));this.hub&&this.hub.removeContainer(this),this.dragendTimer&&clearTimeout(this.dragendTimer),this.cancelTimer&&clearTimeout(this.cancelTimer),this.pressTimer&&clearTimeout(this.pressTimer),this.autoscrollInterval&&clearInterval(this.autoscrollInterval)},methods:{handleStart(e){const{distance:t,shouldCancelStart:s}=this.$props;if(!i(e)&&2===e.button||s(e))return!1;this._touched=!0,this._pos=p(e);const o=e.target,n=d(o,(e=>null!=e.sortableInfo));if(n&&n.sortableInfo&&this.nodeIsChild(n)&&!this.sorting){const{useDragHandle:s}=this.$props,{index:i}=n.sortableInfo;if(s&&!d(o,(e=>null!=e.sortableHandle)))return;this.manager.active={index:i},"a"===o.tagName.toLowerCase()&&e.preventDefault(),t||(0===this.pressDelay?this.handlePress(e):this.pressTimer=N((()=>this.handlePress(e)),this.pressDelay))}},nodeIsChild(e){return e.sortableInfo.manager===this.manager},handleMove(e){const{distance:t,pressThreshold:s}=this.$props;if(!this.sorting&&this._touched){const o=p(e);this._delta={x:this._pos.x-o.x,y:this._pos.y-o.y};const i=Math.abs(this._delta.x)+Math.abs(this._delta.y);t||s&&!(s&&i>=s)?t&&i>=t&&this.manager.isActive()&&this.handlePress(e):(this.cancelTimer&&clearTimeout(this.cancelTimer),this.cancelTimer=N(this.cancel,0))}},handleEnd(){if(!this._touched)return;const{distance:e}=this.$props;this._touched=!1,e||this.cancel()},cancel(){this.sorting||(this.pressTimer&&clearTimeout(this.pressTimer),this.manager.active=null,this.hub&&this.hub.cancel())},handleSortCancel(e){(i(e)||e.key===this.cancelKey)&&(this.newIndex=this.index,this.canceling=!0,this.translate={x:0,y:0},this.animateNodes(),this.handleSortEnd(e))},handlePress(e){e.stopPropagation();const t=this.manager.getActive();if(t){const{getHelperDimensions:s,helperClass:o,hideSortableGhost:n,appendTo:r}=this.$props,{node:l}=t,{index:a}=l.sortableInfo,d=m(l),h=this.container.getBoundingClientRect(),u=s({index:a,node:l});this.node=l,this.margin=d,this.width=u.width,this.height=u.height,this.marginOffset={x:this.margin.left+this.margin.right,y:Math.max(this.margin.top,this.margin.bottom)},this.boundingClientRect=l.getBoundingClientRect(),this.containerBoundingRect=h,this.index=a,this.newIndex=a;const p=y(l);this.helper=this.document.querySelector(r).appendChild(p),this.helper.style.position="fixed",this.helper.style.top=this.boundingClientRect.top-d.top+"px",this.helper.style.left=this.boundingClientRect.left-d.left+"px",this.helper.style.width=`${this.width}px`,this.helper.style.height=`${this.height}px`,this.helper.style.boxSizing="border-box",this.helper.style.pointerEvents="none",n&&(this.sortableGhost=l,l.style.visibility="hidden",l.style.opacity="0"),this.hub&&(this.hub.sortStart(this),this.hub.helper=this.helper,this.hub.ghost=this.sortableGhost),this.intializeOffsets(e,this.boundingClientRect),this.offsetEdge=b(l,this.container),o&&this.helper.classList.add(...o.split(" ")),this.listenerNode=i(e)?l:this._window,c.move.forEach((e=>this.listenerNode.addEventListener(e,this.handleSortMove))),c.end.forEach((e=>this.listenerNode.addEventListener(e,this.handleSortEnd))),c.cancel.forEach((e=>this.listenerNode.addEventListener(e,this.handleSortCancel))),this.sorting=!0,this.$emit("sort-start",{event:e,node:l,index:a})}},handleSortMove(e){if(e.preventDefault(),this.updatePosition(e),this.hub){const t=this.list[this.index];this.hub.handleSortMove(e,t)}this.hub&&!this.hub.isDest(this)||(this.animateNodes(),this.autoscroll()),this.$emit("sort-move",{event:e})},handleDropOut(){const e=this.list[this.index],t=l(this.list,this.index);return this.$emit("sort-remove",{oldIndex:this.index}),this.$emit("update:list",t),e},handleDropIn(e){const t=a(this.list,this.newIndex,e);this.$emit("sort-insert",{newIndex:this.newIndex,value:e}),this.$emit("update:list",t),this.handleDragEnd()},handleDragOut(){this.autoscrollInterval&&(clearInterval(this.autoscrollInterval),this.autoscrollInterval=null),this.hub.isSource(this)?(this.translate={x:1e4,y:1e4},this.animateNodes()):(this.manager.getRefs().forEach((e=>{e.node.style["transform"]=""})),this.dragendTimer=N(this.handleDragEnd,this.transitionDuration||0))},handleDragEnd(){this.autoscrollInterval&&(clearInterval(this.autoscrollInterval),this.autoscrollInterval=null),E(this.manager.getRefs()),this.sortableGhost&&(this.sortableGhost.remove(),this.sortableGhost=null),this.dragendTimer&&(clearTimeout(this.dragendTimer),this.dragendTimer=null),this.manager.active=null,this._touched=!1,this.sorting=!1},intializeOffsets(e,t){const{useWindowAsScrollContainer:s,containerBoundingRect:o,_window:i}=this;this.marginOffset={x:this.margin.left+this.margin.right,y:Math.max(this.margin.top,this.margin.bottom)},this._axis={x:this.axis.indexOf("x")>=0,y:this.axis.indexOf("y")>=0},this.initialOffset=p(e),this.initialScroll={top:this.scrollContainer.scrollTop,left:this.scrollContainer.scrollLeft},this.initialWindowScroll={top:window.pageYOffset,left:window.pageXOffset},this.translate={x:0,y:0},this.minTranslate={},this.maxTranslate={},this._axis.x&&(this.minTranslate.x=(s?0:o.left)-t.left-this.width/2,this.maxTranslate.x=(s?i.innerWidth:o.left+o.width)-t.left-this.width/2),this._axis.y&&(this.minTranslate.y=(s?0:o.top)-t.top-this.height/2,this.maxTranslate.y=(s?i.innerHeight:o.top+o.height)-t.top-this.height/2)},handleDragIn(e,t,s){if(this.hub.isSource(this))return;this.dragendTimer&&(this.handleDragEnd(),clearTimeout(this.dragendTimer),this.dragendTimer=null);const o=this.manager.getRefs();this.index=o.length,this.manager.active={index:this.index};const i=this.container.getBoundingClientRect(),n=s.getBoundingClientRect();this.containerBoundingRect=i,this.sortableGhost=y(t),this.container.appendChild(this.sortableGhost);const r=this.sortableGhost.getBoundingClientRect();this.boundingClientRect=r,this.margin=m(this.sortableGhost),this.width=r.width,this.height=r.height,this.offsetEdge=b(this.sortableGhost,this.container),this.intializeOffsets(e,r),this.initialOffset.x+=r.x-n.x,this.initialOffset.y+=r.y-n.y,this.sorting=!0},handleSortEnd(e){this.listenerNode&&(c.move.forEach((e=>this.listenerNode.removeEventListener(e,this.handleSortMove))),c.end.forEach((e=>this.listenerNode.removeEventListener(e,this.handleSortEnd))),c.cancel.forEach((e=>this.listenerNode.removeEventListener(e,this.handleSortCancel))));const t=this.manager.getRefs();this.helper&&this.helperClass&&this.helper.classList.remove(...this.helperClass.split(" ")),this.autoscrollInterval&&clearInterval(this.autoscrollInterval),this.autoscrollInterval=null;const s=()=>{this.helper&&(this.helper.remove(),this.helper=null),this.hideSortableGhost&&this.sortableGhost&&(this.sortableGhost.style.visibility="",this.sortableGhost.style.opacity=""),E(t),this.hub&&!this.hub.isDest(this)?this.canceling?this.hub.cancel():this.hub.handleSortEnd():this.canceling?this.$emit("sort-cancel",{event:e}):(this.$emit("sort-end",{event:e,oldIndex:this.index,newIndex:this.newIndex}),this.$emit("update:list",r(this.list,this.index,this.newIndex))),this.manager.active=null,this._touched=!1,this.canceling=!1,this.sorting=!1};this.transitionDuration||this.draggedSettlingDuration?this.transitionHelperIntoPlace(t,s):s()},transitionHelperIntoPlace(e,t){if(0===this.draggedSettlingDuration||0===e.length||!this.helper)return Promise.resolve();const s=e[this.index].node;let o=0,i=0;const n={top:window.pageYOffset-this.initialWindowScroll.top,left:window.pageXOffset-this.initialWindowScroll.left};if(!this.hub||this.hub.isDest(this)||this.canceling){const t=e[this.newIndex].node,r={left:this.scrollContainer.scrollLeft-this.initialScroll.left+n.left,top:this.scrollContainer.scrollTop-this.initialScroll.top+n.top};o=-r.left,this.translate&&this.translate.x>0?o+=t.offsetLeft+t.offsetWidth-(s.offsetLeft+s.offsetWidth):o+=t.offsetLeft-s.offsetLeft,i=-r.top,this.translate&&this.translate.y>0?i+=t.offsetTop+t.offsetHeight-(s.offsetTop+s.offsetHeight):i+=t.offsetTop-s.offsetTop}else{const e=this.hub.getDest();if(!e)return;const t=e.newIndex,r=e.manager.getOrderedRefs(),l=t<r.length?r[t].node:e.sortableGhost,a=g(s,l),c=b(s,a),d=b(l,a);o=d.left-c.left-n.left,i=d.top-c.top-n.top}const r=null!==this.draggedSettlingDuration?this.draggedSettlingDuration:this.transitionDuration;C(this.helper,`translate3d(${o}px,${i}px, 0)`,`${r}ms`);const l=e=>{e&&"transform"!==e.propertyName||(clearTimeout(a),C(this.helper),t())},a=setTimeout(l,r+10);this.helper.addEventListener("transitionend",l)},updatePosition(e){const{lockAxis:t,lockToContainerEdges:s}=this.$props,o=p(e),i={x:o.x-this.initialOffset.x,y:o.y-this.initialOffset.y};if(i.y-=window.pageYOffset-this.initialWindowScroll.top,i.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=i,s){const[e,t]=v(this.lockOffset,this.height,this.width),s={x:this.width/2-e.x,y:this.height/2-e.y},o={x:this.width/2-t.x,y:this.height/2-t.y};this.minTranslate.x&&this.maxTranslate.x&&(i.x=h(this.minTranslate.x+s.x,this.maxTranslate.x-o.x,i.x)),this.minTranslate.y&&this.maxTranslate.y&&(i.y=h(this.minTranslate.y+s.y,this.maxTranslate.y-o.y,i.y))}"x"===t?i.y=0:"y"===t&&(i.x=0),this.helper&&(this.helper.style["transform"]=`translate3d(${i.x}px,${i.y}px, 0)`)},animateNodes(){const{transitionDuration:e,hideSortableGhost:t}=this.$props,s=this.manager.getOrderedRefs(),o={left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top},i={left:this.offsetEdge.left+this.translate.x+o.left,top:this.offsetEdge.top+this.translate.y+o.top},n={top:window.pageYOffset-this.initialWindowScroll.top,left:window.pageXOffset-this.initialWindowScroll.left};this.newIndex=null;for(let r=0,l=s.length;r<l;r++){const{node:o}=s[r],l=o.sortableInfo.index,a=o.offsetWidth,c=o.offsetHeight,d={width:this.width>a?a/2:this.width/2,height:this.height>c?c/2:this.height/2},h={x:0,y:0};let{edgeOffset:u}=s[r];u||(s[r].edgeOffset=u=b(o,this.container));const m=r<s.length-1&&s[r+1],p=r>0&&s[r-1];m&&!m.edgeOffset&&(m.edgeOffset=b(m.node,this.container)),l!==this.index?(e&&(o.style["transitionDuration"]=`${e}ms`),this._axis.x?this._axis.y?l<this.index&&(i.left+n.left-d.width<=u.left&&i.top+n.top<=u.top+d.height||i.top+n.top+d.height<=u.top)?(h.x=this.width+this.marginOffset.x,u.left+h.x>this.containerBoundingRect.width-d.width&&m&&(h.x=m.edgeOffset.left-u.left,h.y=m.edgeOffset.top-u.top),null===this.newIndex&&(this.newIndex=l)):l>this.index&&(i.left+n.left+d.width>=u.left&&i.top+n.top+d.height>=u.top||i.top+n.top+d.height>=u.top+c)&&(h.x=-(this.width+this.marginOffset.x),u.left+h.x<this.containerBoundingRect.left+d.width&&p&&(h.x=p.edgeOffset.left-u.left,h.y=p.edgeOffset.top-u.top),this.newIndex=l):l>this.index&&i.left+n.left+d.width>=u.left?(h.x=-(this.width+this.marginOffset.x),this.newIndex=l):l<this.index&&i.left+n.left<=u.left+d.width&&(h.x=this.width+this.marginOffset.x,null==this.newIndex&&(this.newIndex=l)):this._axis.y&&(l>this.index&&i.top+n.top+d.height>=u.top?(h.y=-(this.height+this.marginOffset.y),this.newIndex=l):l<this.index&&i.top+n.top<=u.top+d.height&&(h.y=this.height+this.marginOffset.y,null==this.newIndex&&(this.newIndex=l))),o.style["transform"]=`translate3d(${h.x}px,${h.y}px,0)`):t&&(this.sortableGhost=o,o.style.visibility="hidden",o.style.opacity="0")}null==this.newIndex&&(this.newIndex=this.index)},autoscroll(){const e=this.translate,t={x:0,y:0},s={x:1,y:1},o={x:10,y:10};e.y>=this.maxTranslate.y-this.height/2?(t.y=1,s.y=o.y*Math.abs((this.maxTranslate.y-this.height/2-e.y)/this.height)):e.x>=this.maxTranslate.x-this.width/2?(t.x=1,s.x=o.x*Math.abs((this.maxTranslate.x-this.width/2-e.x)/this.width)):e.y<=this.minTranslate.y+this.height/2?(t.y=-1,s.y=o.y*Math.abs((e.y-this.height/2-this.minTranslate.y)/this.height)):e.x<=this.minTranslate.x+this.width/2&&(t.x=-1,s.x=o.x*Math.abs((e.x-this.width/2-this.minTranslate.x)/this.width)),this.autoscrollInterval&&(clearInterval(this.autoscrollInterval),this.autoscrollInterval=null),0===t.x&&0===t.y||(this.autoscrollInterval=window.setInterval((()=>{const e={left:1*s.x*t.x,top:1*s.y*t.y};this.useWindowAsScrollContainer?this._window.scrollBy(e.left,e.top):(this.scrollContainer.scrollTop+=e.top,this.scrollContainer.scrollLeft+=e.left),this.translate.x+=e.left,this.translate.y+=e.top,this.animateNodes()}),5))}}}),S={beforeMount(e){e.sortableHandle=!0}},F=t.defineComponent({name:"SlickItem",mixins:[s],props:{tag:{type:String,default:"div"}},render(){var e,s;return t.h(this.tag,null===(s=(e=this.$slots).default)||void 0===s?void 0:s.call(e))}}),T=t.defineComponent({name:"SlickList",mixins:[B],props:{tag:{type:String,default:"div"},itemKey:{type:[String,Function],default:"id"}},render(){var e,s;return this.$slots.item?t.h(this.tag,this.list.map(((e,s)=>{let o;if(null!=e){if("function"===typeof this.itemKey)o=this.itemKey(e);else if("object"===typeof e&&n(e,this.itemKey)&&"string"==typeof e[this.itemKey])o=e[this.itemKey];else{if("string"!==typeof e)throw new Error("Cannot find key for item, use the item-key prop and pass a function or string");o=e}return t.h(F,{key:o,index:s},{default:()=>{var t,o;return null===(o=(t=this.$slots).item)||void 0===o?void 0:o.call(t,{item:e,index:s})}})}}))):t.h(this.tag,null===(s=(e=this.$slots).default)||void 0===s?void 0:s.call(e))}}),P=t.defineComponent({props:{tag:{type:String,default:"span"}},mounted(){this.$el.sortableHandle=!0},render(){var e,s;return t.h(this.tag,null===(s=(e=this.$slots).default)||void 0===s?void 0:s.call(e))}});let I=1;function $(e,t,s){return t.id===e.id||(!e.block||!e.block.includes(t.group))&&("function"===typeof e.accept?e.accept({dest:e,source:t,payload:s}):"boolean"===typeof e.accept?e.accept:!(!e.accept||!e.accept.includes(t.group))||e.group===t.group)}function O({x:e,y:t},s,o){if(V({x:e,y:t},o.container.getBoundingClientRect()))return o;let i=null,n=1/0;for(let r=0;r<s.length;r++){const o=s[r],l=o.container.getBoundingClientRect(),a=V({x:e,y:t},l);if(a)return o;const c=x(l),d=w(e,t,c.x,c.y);d<n&&(i=o,n=d)}return i}class M{constructor(){this.helper=null,this.ghost=null,this.refs=[],this.source=null,this.dest=null}getId(){return""+I++}isSource({id:e}){var t;return(null===(t=this.source)||void 0===t?void 0:t.id)===e}getSource(){return this.source}isDest({id:e}){var t;return(null===(t=this.dest)||void 0===t?void 0:t.id)===e}getDest(){return this.dest}addContainer(e){this.refs.push(e)}removeContainer(e){this.refs=this.refs.filter((t=>t.id!==e.id))}sortStart(e){this.source=e,this.dest=e}handleSortMove(e,t){var s,o,i,n;const r=this.dest,l=this.source;if(!r||!l)return;const a=this.refs,c=p(e,"client"),d=O(c,a,r)||r;r.id!==d.id&&$(d,l,t)&&(this.dest=d,r.handleDragOut(),d.handleDragIn(e,this.ghost,this.helper)),r.id!==(null===(s=this.source)||void 0===s?void 0:s.id)&&(null===(o=this.dest)||void 0===o||o.updatePosition(e),null===(i=this.dest)||void 0===i||i.animateNodes(),null===(n=this.dest)||void 0===n||n.autoscroll())}handleSortEnd(){var e,t,s,o;if((null===(e=this.source)||void 0===e?void 0:e.id)===(null===(t=this.dest)||void 0===t?void 0:t.id))return;const i=null===(s=this.source)||void 0===s?void 0:s.handleDropOut();null===(o=this.dest)||void 0===o||o.handleDropIn(i),this.reset()}reset(){this.source=null,this.dest=null,this.helper=null,this.ghost=null}cancel(){var e;null===(e=this.dest)||void 0===e||e.handleDragEnd(),this.reset()}}const R={install(e){e.directive("drag-handle",S),e.provide("SlicksortHub",new M)}};e.ContainerMixin=B,e.DragHandle=P,e.ElementMixin=s,e.HandleDirective=S,e.SlickItem=F,e.SlickList=T,e.arrayMove=r,e.plugin=R,Object.defineProperty(e,"__esModule",{value:!0})}))},63:(e,t,s)=>{var o=s(273);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var i=s(402).Z;i("814d88da",o,!0,{sourceMap:!1,shadowMode:!1})},225:(e,t,s)=>{var o=s(628);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var i=s(402).Z;i("f89f55de",o,!0,{sourceMap:!1,shadowMode:!1})},402:(e,t,s)=>{"use strict";function o(e,t){for(var s=[],o={},i=0;i<t.length;i++){var n=t[i],r=n[0],l=n[1],a=n[2],c=n[3],d={id:e+":"+i,css:l,media:a,sourceMap:c};o[r]?o[r].parts.push(d):s.push(o[r]={id:r,parts:[d]})}return s}s.d(t,{Z:()=>p});var i="undefined"!==typeof document;if("undefined"!==typeof DEBUG&&DEBUG&&!i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var n={},r=i&&(document.head||document.getElementsByTagName("head")[0]),l=null,a=0,c=!1,d=function(){},h=null,u="data-vue-ssr-id",m="undefined"!==typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(e,t,s,i){c=s,h=i||{};var r=o(e,t);return f(r),function(t){for(var s=[],i=0;i<r.length;i++){var l=r[i],a=n[l.id];a.refs--,s.push(a)}t?(r=o(e,t),f(r)):r=[];for(i=0;i<s.length;i++){a=s[i];if(0===a.refs){for(var c=0;c<a.parts.length;c++)a.parts[c]();delete n[a.id]}}}}function f(e){for(var t=0;t<e.length;t++){var s=e[t],o=n[s.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](s.parts[i]);for(;i<s.parts.length;i++)o.parts.push(b(s.parts[i]));o.parts.length>s.parts.length&&(o.parts.length=s.parts.length)}else{var r=[];for(i=0;i<s.parts.length;i++)r.push(b(s.parts[i]));n[s.id]={id:s.id,refs:1,parts:r}}}}function g(){var e=document.createElement("style");return e.type="text/css",r.appendChild(e),e}function b(e){var t,s,o=document.querySelector("style["+u+'~="'+e.id+'"]');if(o){if(c)return d;o.parentNode.removeChild(o)}if(m){var i=a++;o=l||(l=g()),t=v.bind(null,o,i,!1),s=v.bind(null,o,i,!0)}else o=g(),t=k.bind(null,o),s=function(){o.parentNode.removeChild(o)};return t(e),function(o){if(o){if(o.css===e.css&&o.media===e.media&&o.sourceMap===e.sourceMap)return;t(e=o)}else s()}}var y=function(){var e=[];return function(t,s){return e[t]=s,e.filter(Boolean).join("\n")}}();function v(e,t,s,o){var i=s?"":o.css;if(e.styleSheet)e.styleSheet.cssText=y(t,i);else{var n=document.createTextNode(i),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(n,r[t]):e.appendChild(n)}}function k(e,t){var s=t.css,o=t.media,i=t.sourceMap;if(o&&e.setAttribute("media",o),h.ssrId&&e.setAttribute(u,t.id),i&&(s+="\n/*# sourceURL="+i.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),e.styleSheet)e.styleSheet.cssText=s;else{while(e.firstChild)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(s))}}},203:t=>{"use strict";t.exports=e}},s={};function o(e){var i=s[e];if(void 0!==i)return i.exports;var n=s[e]={id:e,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.exports}(()=>{o.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return o.d(t,{a:t}),t}})(),(()=>{o.d=(e,t)=>{for(var s in t)o.o(t,s)&&!o.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}})(),(()=>{o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{o.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{o.p=""})();var i={};return(()=>{"use strict";if(o.r(i),o.d(i,{Components:()=>wn,Directives:()=>En,Filters:()=>xn,Plugins:()=>Dn,Util:()=>Cn}),"undefined"!==typeof window){var e=window.document.currentScript,t=e&&e.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);t&&(o.p=t[1])}var s=o(203);function n(e,t,o,i,n,r){return(0,s.openBlock)(),(0,s.createElementBlock)("div",{id:"messageBox",class:(0,s.normalizeClass)([{display:o.active},o.classname,"toast"])},[(0,s.createElementVNode)("button",{class:"btn btn-clear float-right",onClick:t[0]||(t[0]=t=>e.$emit("cancel"))}),((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(r.lines,(e=>((0,s.openBlock)(),(0,s.createElementBlock)("div",null,(0,s.toDisplayString)(e),1)))),256))],2)}const r={name:"message-toast",emits:["timeout","cancel"],props:{message:[String,Array],classname:String,timeout:{type:Number,default:5e3},active:{type:Boolean,default:!1}},data(){return{activeTimeout:null}},computed:{lines(){return"string"===typeof this.message?[this.message]:this.message}},watch:{active(){this.setTimeout()}},mounted(){this.setTimeout()},methods:{setTimeout(){window.clearTimeout(this.activeTimeout),this.active&&this.timeout&&(this.activeTimeout=window.setTimeout((()=>{this.$emit("timeout")}),this.timeout))}}};var l=o(744);const a=(0,l.Z)(r,[["render",n]]),c=a,d=["height","width"],h=["stroke-width","r","cx","cy"],u=["stroke","stroke-dasharray","stroke-width","r","cx","cy"];function m(e,t,o,i,n,r){return(0,s.openBlock)(),(0,s.createElementBlock)("svg",{height:r.size,width:r.size,class:"circular-progress"},[(0,s.createElementVNode)("circle",{stroke:"white",fill:"transparent","stroke-width":o.strokeWidth,r:r.normalizedRadius,cx:o.radius,cy:o.radius},null,8,h),(0,s.createElementVNode)("circle",{stroke:o.color,fill:"transparent","stroke-dasharray":r.circumference+" "+r.circumference,style:(0,s.normalizeStyle)({strokeDashoffset:r.strokeDashoffset}),"stroke-width":o.strokeWidth,r:r.normalizedRadius,cx:o.radius,cy:o.radius},null,12,u)],8,d)}const p={name:"circular-progress",props:{progress:Number,radius:{type:Number,default:24},strokeWidth:{type:Number,default:8},color:{type:String,default:"white"}},computed:{size(){return 2*this.radius},normalizedRadius(){return this.radius-this.strokeWidth/2},circumference(){return 2*this.normalizedRadius*Math.PI},strokeDashoffset(){return this.circumference-this.progress/100*this.circumference}}},f=(0,l.Z)(p,[["render",m]]),g=f;function b(e,t,o,i,n,r){const l=(0,s.resolveComponent)("autocomplete-input");return(0,s.openBlock)(),(0,s.createElementBlock)("div",(0,s.mergeProps)(r.containerProps,{ref:"container"}),[(0,s.createVNode)(l,(0,s.mergeProps)({ref:"input",value:o.modelValue},r.inputProps,{onInput:t[0]||(t[0]=e=>r.handleInput(e.target.value)),onKeydown:[(0,s.withKeys)(r.handleEnter,["enter"]),(0,s.withKeys)(r.handleEsc,["esc"]),(0,s.withKeys)(r.handleTab,["tab"]),(0,s.withKeys)((0,s.withModifiers)(r.handleUp,["prevent"]),["up"]),(0,s.withKeys)((0,s.withModifiers)(r.handleDown,["prevent"]),["down"])],onFocus:r.handleFocus,onBlur:r.handleBlur}),null,16,["value","onKeydown","onFocus","onBlur"]),n.results.length?((0,s.openBlock)(),(0,s.createElementBlock)("ul",(0,s.mergeProps)({key:0,ref:"resultList"},r.resultListProps,{onClick:t[1]||(t[1]=(...e)=>r.handleResultClick&&r.handleResultClick(...e)),onMousedown:t[2]||(t[2]=(0,s.withModifiers)((()=>{}),["prevent"]))}),[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(n.results,((t,i)=>(0,s.renderSlot)(e.$slots,"result",{result:t,props:r.resultProps[i]},(()=>[((0,s.openBlock)(),(0,s.createElementBlock)("li",(0,s.mergeProps)({key:r.resultProps[i].id},r.resultProps[i]),(0,s.toDisplayString)(o.getResultValue(t)),17))])))),256))],16)):(0,s.createCommentVNode)("",!0)],16)}const y=["value"];function v(e,t,o,i,n,r){return(0,s.openBlock)(),(0,s.createElementBlock)("input",{value:o.modelValue,class:"form-input",onInput:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.target.value))},null,40,y)}const k={name:"form-input",props:["modelValue"],emits:["update:modelValue"]},w=(0,l.Z)(k,[["render",v]]),x=w;let E=function(){let e=0;return function(t){return(t||"")+ ++e}}();const C={name:"Autocomplete",inheritAttrs:!1,components:{"autocomplete-input":x},emits:["update:modelValue","blur","submit"],props:{modelValue:{type:String,default:""},search:{type:Function,required:!0},baseClass:{type:String,default:"form-autocomplete"},resultListClass:{type:String,default:"menu"},resultClass:{type:String,default:"menu-item"},inputClass:{type:String,default:"autocomplete-input"},autoSelect:{type:Boolean,default:!1},getResultValue:{type:Function,default:e=>e}},data(){return{resultListId:E(this.resultListClass+"-"),results:[],selectedIndex:-1,searchCounter:0,expanded:!1,loading:!1,position:"below",resetPosition:!0}},computed:{containerProps(){return{class:this.baseClass,style:{position:"relative"},"data-expanded":this.expanded,"data-loading":this.loading,"data-position":this.position}},inputProps(){return{class:this.inputClass,role:"combobox",autocomplete:"off",autocapitalize:"off",autocorrect:"off",spellcheck:"false","aria-autocomplete":"list","aria-haspopup":"listbox","aria-owns":this.resultListId,"aria-expanded":this.expanded?"true":"false","aria-activedescendant":this.selectedIndex>-1?this.resultProps[this.selectedIndex].id:"",...this.$attrs}},resultListProps(){return{id:this.resultListId,class:this.resultListClass,role:"listbox"}},resultProps(){return this.results.map(((e,t)=>({id:this.resultClass+"-"+t,class:this.resultClass,"data-result-index":t,role:"option",...this.selectedIndex===t?{"aria-selected":"true"}:{}})))}},mounted(){document.body.addEventListener("click",this.handleDocumentClick)},beforeUnmount(){document.body.removeEventListener("click",this.handleDocumentClick)},updated(){if(!this.$refs.resultList)return;let e=this.$refs.input.$el.getBoundingClientRect(),t=this.$refs.resultList.getBoundingClientRect();this.resetPosition&&this.results.length&&(this.resetPosition=!1,this.position=e.bottom+t.height>window.innerHeight&&window.innerHeight-e.bottom<e.top&&window.pageYOffset+e.top-t.height>0?"above":"below");let s=this.$refs.resultList.querySelector('[data-result-index="'+this.selectedIndex+'"]');if(!s)return;let o=s.getBoundingClientRect();o.top<t.top?this.$refs.resultList.scrollTop-=t.top-o.top:o.bottom>t.bottom&&(this.$refs.resultList.scrollTop+=o.bottom-t.bottom)},methods:{handleInput(e){this.$emit("update:modelValue",e),this.updateResults(e)},handleFocus(e){this.updateResults(e.target.value)},handleBlur(){this.hideResults(),this.$emit("blur")},handleUp(){const e=this.results.length;this.selectedIndex=((this.selectedIndex-1)%e+e)%e},handleDown(e){this.expanded||this.handleFocus(e);const t=this.results.length;this.selectedIndex=((this.selectedIndex+1)%t+t)%t},handleEsc(){this.hideResults(),this.$emit("update:modelValue","")},handleEnter(){this.$emit("submit",this.selectResult())},handleTab(){this.selectResult()},hideResults(){this.selectedIndex=-1,this.results=[],this.expanded=!1,this.resetPosition=!0},selectResult(){const e=this.results[this.selectedIndex];return e&&this.$emit("update:modelValue",this.getResultValue(e)),this.hideResults(),e},handleResultClick(e){const t=e.target.closest("[data-result-index]");t&&(this.selectedIndex=parseInt(t.dataset.resultIndex,10),this.$emit("submit",this.selectResult()))},handleDocumentClick(e){this.$refs.container.contains(e.target)||this.hideResults()},updateResults(e){const t=this.search(e);if(t instanceof Promise){const e=++this.searchCounter;this.loading=!0,t.then((t=>{e===this.searchCounter&&(this.results=t,this.loading=!1,this.results.length?(this.selectedIndex=this.autoSelect?0:-1,this.expanded=!0):this.hideResults())}))}else this.results=t,0===this.results.length?this.hideResults():(this.selectedIndex=this.autoSelect?0:-1,this.expanded=!0)}}},D=(0,l.Z)(C,[["render",b]]),V=D,N={class:"calendar-nav navbar"},B={class:"month navbar-primary"},S={class:"calendar-container"},F={class:"calendar-header"},T={class:"calendar-date"},P={class:"calendar-body"},I=["disabled","onClick"];function $(e,t,o,i,n,r){const l=(0,s.resolveComponent)("date-input");return(0,s.openBlock)(),(0,s.createElementBlock)("div",(0,s.normalizeProps)((0,s.guardReactiveProps)(r.rootProps)),[o.hasInput?((0,s.openBlock)(),(0,s.createBlock)(l,(0,s.mergeProps)({key:0,modelValue:n.selectedDate,"onUpdate:modelValue":t[0]||(t[0]=e=>n.selectedDate=e),onToggleDatepicker:r.toggleDatepicker},r.inputProps,{ref:"input"}),null,16,["modelValue","onToggleDatepicker"])):(0,s.createCommentVNode)("",!0),(0,s.createElementVNode)("div",(0,s.mergeProps)({class:"calendar"},r.calendarProps,{ref:"calendar",class:"left"===n.align?"align-left":"align-right"}),[(0,s.createElementVNode)("div",N,[(0,s.createElementVNode)("button",{class:"btn btn-action btn-link btn-large prvMon",onClick:t[1]||(t[1]=(0,s.withModifiers)(((...e)=>r.previousMonth&&r.previousMonth(...e)),["stop"]))}),(0,s.createElementVNode)("div",B,(0,s.toDisplayString)(r.monthLabel)+" "+(0,s.toDisplayString)(n.sheetDate.getFullYear()),1),(0,s.createElementVNode)("button",{class:"btn btn-action btn-link btn-large nxtMon",onClick:t[2]||(t[2]=(0,s.withModifiers)(((...e)=>r.nextMonth&&r.nextMonth(...e)),["stop"]))})]),(0,s.createElementVNode)("div",S,[(0,s.createElementVNode)("div",F,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(o.weekdays,(e=>((0,s.openBlock)(),(0,s.createElementBlock)("div",T,(0,s.toDisplayString)(e),1)))),256))]),(0,s.createElementVNode)("div",P,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(r.days,(e=>((0,s.openBlock)(),(0,s.createElementBlock)("div",{class:(0,s.normalizeClass)(["calendar-date text-center",["prev-month","","next-month"][e.getMonth()-n.sheetDate.getMonth()+1]])},[(0,s.createElementVNode)("button",{type:"button",class:(0,s.normalizeClass)(["date-item",{active:n.selectedDate&&e.getTime()===n.selectedDate.getTime(),"date-today":e.getTime()===r.today.getTime()}]),disabled:(o.validFrom&&o.validFrom)>e||o.validUntil&&o.validUntil<e,onClick:(0,s.withModifiers)((t=>(o.validFrom&&o.validFrom)>e||o.validUntil&&o.validUntil<e?null:r.selectDate(e)),["stop"])},(0,s.toDisplayString)(e.getDate()),11,I)],2)))),256))])])],16)],16)}const O={class:"date-input"},M={key:0,class:"form-input"},R={class:"chip"};function L(e,t,o,i,n,r){return(0,s.openBlock)(),(0,s.createElementBlock)("div",O,[(0,s.createElementVNode)("div",{class:"input-group",style:(0,s.normalizeStyle)(r.computedStyles)},[r.dateString?((0,s.openBlock)(),(0,s.createElementBlock)("div",M,[(0,s.createElementVNode)("span",R,[(0,s.createTextVNode)((0,s.toDisplayString)(r.dateString)+" ",1),(0,s.createElementVNode)("a",{href:"#",class:"btn btn-clear","aria-label":"Close",role:"button",onClick:t[0]||(t[0]=(0,s.withModifiers)(((...e)=>r.handleClear&&r.handleClear(...e)),["prevent"]))})])])):(0,s.withDirectives)(((0,s.openBlock)(),(0,s.createElementBlock)("input",{key:1,type:"text",class:"form-input",autocomplete:"off","onUpdate:modelValue":t[1]||(t[1]=e=>n.inputString=e),onBlur:t[2]||(t[2]=(...e)=>r.handleBlur&&r.handleBlur(...e)),onInput:t[3]||(t[3]=(0,s.withModifiers)((()=>{}),["stop"]))},null,544)),[[s.vModelText,n.inputString]]),o.showButton?((0,s.openBlock)(),(0,s.createElementBlock)("button",{key:2,type:"button",class:"btn webfont-icon-only btn-primary input-group-btn",onClick:t[4]||(t[4]=(0,s.withModifiers)((t=>e.$emit("toggle-datepicker")),["stop"]))}," ")):(0,s.createCommentVNode)("",!0)],4)])}const A={formatDate(e,t,s){if(!e instanceof Date)return"";const o=s&&s.dayNames?s.dayNames:"Sun Mon Tue Wed Thu Fri Sat".split(" "),i=s&&s.monthNames?s.monthNames:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");return t.replace(/\bd\b/,e.getDate()).replace(/\bdd\b/,("0"+e.getDate()).slice(-2)).replace(/\bm\b/,e.getMonth()+1).replace(/\bmm\b/,("0"+(e.getMonth()+1)).slice(-2)).replace(/\bmmm\b/,i[e.getMonth()].trim()).replace(/\by\b/,e.getFullYear()).replace(/\bw\b/,o[e.getDay()].trim()).replace(/\bh\b/,("0"+e.getHours()).slice(-2)).replace(/\bi\b/,("0"+e.getMinutes()).slice(-2)).replace(/\bs\b/,("0"+e.getSeconds()).slice(-2))},parseDate(e,t){let s,o=t.toLowerCase().replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),i=[];if((s=t.match(/\bd\b/gi))&&1===s.length)o=o.replace("d","(\\d{1,2})");else{if(!(s=t.match(/\bdd\b/gi))||1!==s.length)return!1;o=o.replace("dd","(\\d{2})")}if(i.push({srcPos:t.toLowerCase().indexOf("d"),destPos:2}),(s=t.match(/\bm\b/gi))&&1===s.length)o=o.replace("m","(\\d{1,2})");else{if(!(s=t.match(/\bmm\b/gi))||1!==s.length)return!1;o=o.replace("mm","(\\d{2})")}if(i.push({srcPos:t.toLowerCase().indexOf("m"),destPos:1}),!(s=t.match(/\by\b/gi))||1!==s.length)return!1;if(o=o.replace("y","(\\d{4})"),i.push({srcPos:t.toLowerCase().indexOf("y"),destPos:0}),!(s=e.match(o)))return!1;s.shift(),i.sort(((e,t)=>e.srcPos<t.srcPos?-1:1));let n,r,l=[];while(n=s.shift())r=i.shift(),l[r.destPos]=n;return l=Date.parse(l.join("-")),!!l&&(l=new Date(l),new Date(l.getFullYear(),l.getMonth(),l.getDate(),0,0,0))},isValidTime:function(e){let t=e.match(/^\s*([0-9]{1,2}):([0-9]{1,2})(?::([0-9]{1,2}))?\s*$/);return t&&t[1]<24&&t[2]<60&&(!t[3]||t[3]<60)}},_={name:"date-input",data(){return{inputString:null}},props:{monthNames:{type:Array,default:()=>"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")},dayNames:{type:Array,default:()=>"Mon Tue Wed Thu Fri Sat Sun".split(" ")},outputFormat:{type:String,default:"y-mm-dd"},inputFormat:{type:String,default:"y-m-d"},showButton:{type:Boolean,default:!0},modelValue:Date},watch:{modelValue(e){this.inputString=e?A.formatDate(e,this.outputFormat):""}},computed:{dateString(){return this.modelValue?A.formatDate(this.modelValue,this.outputFormat):""},computedStyles(){return{width:"100%"}}},methods:{handleBlur(){let e=A.parseDate(this.inputString,this.inputFormat);this.$emit("update:modelValue",e||null)},handleClear(){this.$emit("update:modelValue",null)}}},z=(0,l.Z)(_,[["render",L]]),U=z,j={name:"date-picker",components:{DateInput:U},emits:["update:modelValue","month-change"],data(){return{sheetDate:null,selectedDate:null,expanded:!this.hasInput,align:"left"}},watch:{modelValue(e){e?(this.selectedDate=new Date(e.getFullYear(),e.getMonth(),e.getDate()),this.sheetDate=new Date(this.selectedDate.getTime())):(this.selectedDate=null,this.sheetDate=this.today),this.sheetDate.setDate(1)},expanded(e){e&&this.hasInput&&this.$nextTick((()=>this.align=this.$refs.input.$el.getBoundingClientRect().left+this.$refs.calendar.getBoundingClientRect().width>window.innerWidth?"right":"left"))}},computed:{rootProps(){return{class:["datepicker",this.$attrs["class"]],style:{position:"relative"}}},inputProps(){return{style:{position:"relative"},inputFormat:this.$attrs["input-format"],outputFormat:this.$attrs["output-format"],dayNames:this.$attrs["day-names"],monthNames:this.$attrs["month-names"],showButton:this.$attrs["show-button"]}},calendarProps(){return{style:this.hasInput?{display:this.expanded?"block":"none",position:"absolute",top:"100%",transform:"translateY(.2rem)","z-index":300}:{}}},days(){const e=[],t=this.sheetDate.getFullYear(),s=this.sheetDate.getMonth(),o=new Date(t,s+1,0),i=new Date(t,s,0).getDay()+1-this.startOfWeekIndex,n=(7-o.getDay())%7-1+this.startOfWeekIndex;for(let r=-i,l=o.getDate()+n;r<l;++r)e.push(new Date(t,s,r+1));return e},monthLabel(){return this.monthNames[this.sheetDate.getMonth()]},today(){const e=new Date;return new Date(e.getFullYear(),e.getMonth(),e.getDate())}},props:{modelValue:Date,validFrom:Date,validUntil:Date,weekdays:{type:Array,default:()=>"M T W T F S S".split(" ")},monthNames:{type:Array,default:()=>"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")},startOfWeekIndex:{type:Number,default:1,validator:e=>!e||1===e},hasInput:{type:Boolean,default:!0}},created(){this.sheetDate=new Date(this.today.getTime()),this.sheetDate.setDate(1)},mounted(){this.hasInput&&document.body.addEventListener("click",this.handleBodyClick),this.modelValue&&(this.sheetDate=new Date(this.modelValue.getTime()),this.sheetDate.setDate(1),this.selectedDate=new Date(this.modelValue.getFullYear(),this.modelValue.getMonth(),this.modelValue.getDate()))},beforeUnmount(){document.body.removeEventListener("click",this.handleBodyClick)},methods:{previousMonth(){this.sheetDate=new Date(this.sheetDate.getFullYear(),this.sheetDate.getMonth()-1,1),this.$emit("month-change",this.sheetDate)},nextMonth(){this.sheetDate=new Date(this.sheetDate.getFullYear(),this.sheetDate.getMonth()+1,1),this.$emit("month-change",this.sheetDate)},selectDate(e){this.selectedDate=e,this.$emit("update:modelValue",e),this.expanded=!this.hasInput},toggleDatepicker(){this.expanded=!this.expanded},handleBodyClick(){this.expanded=!1},handleInput(e){this.selectedDate=e,this.$emit("update:modelValue",e)}}},q=(0,l.Z)(j,[["render",$]]),W=q,Z={class:"table table-striped"},K=["onClick"];function J(e,t,o,i,n,r){return(0,s.openBlock)(),(0,s.createElementBlock)("table",Z,[(0,s.createElementVNode)("thead",null,[(0,s.createElementVNode)("tr",null,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(o.columns,(t=>((0,s.openBlock)(),(0,s.createElementBlock)("th",{class:(0,s.normalizeClass)([{"sortable-header":t.sortable},t.cssClass,n.sortColumn===t?n.sortDir:null,t.width]),onClick:e=>t.sortable?r.clickSort(t):null},[(0,s.renderSlot)(e.$slots,t.prop+"-header",{column:t},(()=>[(0,s.createTextVNode)((0,s.toDisplayString)(t.label),1)]),!0)],10,K)))),256))])]),(0,s.createElementVNode)("tbody",null,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(r.sortedRows,(t=>((0,s.openBlock)(),(0,s.createElementBlock)("tr",{key:t[o.keyProperty],class:(0,s.normalizeClass)(t.cssClass)},[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(o.columns,(o=>((0,s.openBlock)(),(0,s.createElementBlock)("td",{class:(0,s.normalizeClass)({active:n.sortColumn===o})},[(0,s.renderSlot)(e.$slots,o.prop,{row:t},(()=>[(0,s.createTextVNode)((0,s.toDisplayString)(t[o.prop]),1)]),!0)],2)))),256))],2)))),128))])])}const H={name:"sortable",emits:["before-sort","after-sort"],props:{columns:{type:Array,required:!0,validator(e){for(let t=e.length;t--;)if(void 0===e[t].label||void 0===e[t].prop)return!1;return!0}},rows:{type:Array,required:!0},offset:{type:Number,default:null},count:{type:Number,default:null},sortProp:{type:String},sortDirection:{type:String,validator(e){return!e||-1!==["asc","desc"].indexOf(e)}},keyProperty:{type:String,default:"key"}},data(){return{sortColumn:this.columns.find((({prop:e})=>e===this.sortProp)),sortDir:this.sortDirection}},computed:{sortedRows(){let e=this.rows.slice();if(this.sortColumn)if("asc"===this.sortDir&&this.sortColumn.sortAscFunction)e.sort(this.sortColumn.sortAscFunction);else if("desc"===this.sortDir&&this.sortColumn.sortDescFunction)e.sort(this.sortColumn.sortDescFunction);else{let t=this.sortColumn.prop;e.sort(((e,s)=>e[t]<s[t]?"asc"===this.sortDir?-1:1:e[t]>s[t]?"asc"===this.sortDir?1:-1:0))}let t=this.offset||0,s=this.count||e.length;return e.slice(t,t+s)}},methods:{clickSort(e){this.$emit("before-sort"),this.sortColumn===e?this.sortDir="asc"===this.sortDir?"desc":"asc":(this.sortColumn=e,this.sortDir=this.sortDir||"asc"),this.$nextTick((()=>this.$emit("after-sort")))}}};o(225);const G=(0,l.Z)(H,[["render",J],["__scopeId","data-v-d2ff1a72"]]),Y=G,X={class:"vx-tree"};function Q(e,t,o,i,n,r){const l=(0,s.resolveComponent)("simple-tree-branch");return(0,s.openBlock)(),(0,s.createElementBlock)("ul",X,[(0,s.createVNode)(l,{branch:o.branch,onBranchSelected:t[0]||(t[0]=t=>e.$emit("branch-selected",t))},null,8,["branch"])])}const ee=["id","checked"],te=["for"],se={key:1},oe=["href"],ie={key:3};function ne(e,t,o,i,n,r){const l=(0,s.resolveComponent)("simple-tree-branch",!0);return(0,s.openBlock)(),(0,s.createElementBlock)("li",{class:(0,s.normalizeClass)({terminates:!o.branch.branches||!o.branch.branches.length})},[o.branch.branches&&o.branch.branches.length?((0,s.openBlock)(),(0,s.createElementBlock)(s.Fragment,{key:0},[(0,s.createElementVNode)("input",{type:"checkbox",id:"branch-"+o.branch.id,onClick:t[0]||(t[0]=e=>n.expanded=!n.expanded),checked:n.expanded},null,8,ee),(0,s.createElementVNode)("label",{for:"branch-"+o.branch.id},null,8,te)],64)):(0,s.createCommentVNode)("",!0),o.branch.current?((0,s.openBlock)(),(0,s.createElementBlock)("strong",se,(0,s.toDisplayString)(o.branch.label),1)):((0,s.openBlock)(),(0,s.createElementBlock)("a",{key:2,href:o.branch.path,onClick:t[1]||(t[1]=(0,s.withModifiers)((t=>e.$emit("branch-selected",o.branch)),["prevent"]))},(0,s.toDisplayString)(o.branch.label),9,oe)),o.branch.branches&&o.branch.branches.length?(0,s.withDirectives)(((0,s.openBlock)(),(0,s.createElementBlock)("ul",ie,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(o.branch.branches,(o=>((0,s.openBlock)(),(0,s.createBlock)(l,{branch:o,key:o.id,onBranchSelected:t[2]||(t[2]=t=>e.$emit("branch-selected",t))},null,8,["branch"])))),128))],512)),[[s.vShow,n.expanded]]):(0,s.createCommentVNode)("",!0)],2)}const re={name:"simple-tree-branch",emits:["branch-selected"],data(){return{expanded:!1}},props:{branch:{type:Object,default:{}}},mounted(){if(this.branch.current){let e=this.$parent;while(e&&e.branch&&void 0!==e.expanded)e.expanded=!0,e=e.$parent}}},le=(0,l.Z)(re,[["render",ne]]),ae=le,ce={name:"simple-tree",props:{branch:Object},components:{SimpleTreeBranch:ae}},de=(0,l.Z)(ce,[["render",Q]]),he=de,ue={class:"vx-button-bar navbar"},me={class:"navbar-section"},pe={class:"popup-container"},fe={class:"card"},ge={class:"card-body"},be={class:"navbar-section"},ye={class:"d-inline-block mr-2"},ve={key:1,class:"text-primary d-block col-12 text-center"},ke={class:"navbar-section"},we={class:"with-webfont-icon-left","data-icon":""},xe=["href","onClick"],Ee={class:"with-webfont-icon-left","data-icon":""},Ce=(0,s.createElementVNode)("br",null,null,-1),De=["href","onClick"],Ve={class:"form-checkbox"},Ne=(0,s.createElementVNode)("i",{class:"form-icon"},null,-1),Be={class:"form-checkbox"},Se=["onUpdate:modelValue"],Fe=(0,s.createElementVNode)("i",{class:"form-icon"},null,-1),Te=["value"],Pe=["href","onClick"],Ie=["onClick"],$e=["value"],Oe=["onClick"],Me=["src"],Re={key:1},Le={key:0,class:"modal active"},Ae=(0,s.createElementVNode)("div",{class:"modal-overlay"},null,-1),_e={class:"modal-container"},ze={class:"modal-header"},Ue={class:"modal-body"};function je(e,t,o,i,n,r){const l=(0,s.resolveComponent)("filemanager-breadcrumbs"),a=(0,s.resolveComponent)("filemanager-add"),c=(0,s.resolveComponent)("filemanager-actions"),d=(0,s.resolveComponent)("circular-progress"),h=(0,s.resolveComponent)("filemanager-search"),u=(0,s.resolveComponent)("sortable"),m=(0,s.resolveComponent)("file-edit-form"),p=(0,s.resolveComponent)("folder-edit-form"),f=(0,s.resolveComponent)("confirm"),g=(0,s.resolveComponent)("alert"),b=(0,s.resolveComponent)("folder-tree"),y=(0,s.resolveDirective)("check-indeterminate"),v=(0,s.resolveDirective)("focus");return(0,s.openBlock)(),(0,s.createElementBlock)("div",{onDrop:t[13]||(t[13]=(0,s.withModifiers)(((...e)=>r.uploadDraggedFiles&&r.uploadDraggedFiles(...e)),["prevent"])),onDragover:t[14]||(t[14]=(0,s.withModifiers)((e=>n.indicateDrag=!0),["prevent"])),onDragleave:t[15]||(t[15]=(0,s.withModifiers)((e=>n.indicateDrag=!1),["prevent"])),class:(0,s.normalizeClass)({"dragged-over":n.indicateDrag})},[(0,s.createElementVNode)("div",ue,[(0,s.createElementVNode)("section",me,[(0,s.createVNode)(l,{breadcrumbs:n.breadcrumbs,"current-folder":n.currentFolder,folders:n.folders,onBreadcrumbClicked:r.readFolder},null,8,["breadcrumbs","current-folder","folders","onBreadcrumbClicked"]),(0,s.createElementVNode)("div",{class:(0,s.normalizeClass)(["popup popup-bottom ml-1",{active:n.showAddActivities}])},[(0,s.createElementVNode)("button",{class:"btn webfont-icon-only",type:"button",onClick:t[0]||(t[0]=(0,s.withModifiers)((e=>n.showAddActivities=!n.showAddActivities),["stop"]))},"  "),(0,s.createElementVNode)("div",pe,[(0,s.createElementVNode)("div",fe,[(0,s.createElementVNode)("div",ge,[(0,s.createVNode)(a,{onUpload:r.uploadInputFiles,onCreateFolder:r.createFolder},null,8,["onUpload","onCreateFolder"])])])])],2),(0,s.createVNode)(c,{onDeleteSelection:r.delSelection,onMoveSelection:r.moveSelection,files:r.checkedFiles,folders:r.checkedFolders},null,8,["onDeleteSelection","onMoveSelection","files","folders"])]),(0,s.createElementVNode)("section",be,[n.upload.progressing?((0,s.openBlock)(),(0,s.createElementBlock)(s.Fragment,{key:0},[(0,s.createElementVNode)("button",{class:"btn btn-link webfont-icon-only tooltip","data-tooltip":"Abbrechen",type:"button",onClick:t[1]||(t[1]=(...e)=>r.cancelUpload&&r.cancelUpload(...e))}," "),(0,s.createElementVNode)("label",ye,(0,s.toDisplayString)(n.progress.file),1),(0,s.createVNode)(d,{progress:100*n.progress.loaded/(n.progress.total||1),radius:16},null,8,["progress"])],64)):((0,s.openBlock)(),(0,s.createElementBlock)("strong",ve,"Dateien zum Upload hierher ziehen"))]),(0,s.createElementVNode)("section",ke,[(0,s.createVNode)(h,{search:r.doSearch},{folder:(0,s.withCtx)((e=>[(0,s.createElementVNode)("span",we,[(0,s.createElementVNode)("a",{href:"#"+e.folder.id,onClick:(0,s.withModifiers)((t=>r.readFolder(e.folder.id)),["prevent"])},(0,s.toDisplayString)(e.folder.name),9,xe)])])),file:(0,s.withCtx)((e=>[(0,s.createElementVNode)("span",Ee,(0,s.toDisplayString)(e.file.name)+" ("+(0,s.toDisplayString)(e.file.type)+")",1),Ce,(0,s.createElementVNode)("a",{href:"#"+e.file.folder,onClick:(0,s.withModifiers)((t=>r.readFolder(e.file.folder)),["prevent"])},(0,s.toDisplayString)(e.file.path),9,De)])),_:1},8,["search"])])]),(0,s.createVNode)(u,{rows:r.directoryEntries,columns:o.columns,"sort-prop":o.initSort.column,"sort-direction":o.initSort.dir,onAfterSort:t[9]||(t[9]=t=>e.$emit("after-sort",{sortColumn:e.$refs.sortable.sortColumn,sortDir:e.$refs.sortable.sortDir})),ref:"sortable",id:"files-list"},(0,s.createSlots)({"checked-header":(0,s.withCtx)((()=>[(0,s.createElementVNode)("label",Ve,[(0,s.withDirectives)((0,s.createElementVNode)("input",{type:"checkbox",onClick:t[2]||(t[2]=e=>{[...n.folders,...n.files].forEach((t=>t.checked=e.target.checked))})},null,512),[[y]]),Ne])])),checked:(0,s.withCtx)((e=>[(0,s.createElementVNode)("label",Be,[(0,s.withDirectives)((0,s.createElementVNode)("input",{type:"checkbox","onUpdate:modelValue":t=>e.row.checked=t},null,8,Se),[[s.vModelCheckbox,e.row.checked]]),Fe])])),name:(0,s.withCtx)((e=>[e.row.isFolder?((0,s.openBlock)(),(0,s.createElementBlock)(s.Fragment,{key:0},[e.row===n.toRename?(0,s.withDirectives)(((0,s.openBlock)(),(0,s.createElementBlock)("input",{key:0,class:"form-input",value:e.row.name,onKeydown:[t[3]||(t[3]=(0,s.withKeys)(((...e)=>r.renameFolder&&r.renameFolder(...e)),["enter"])),t[4]||(t[4]=(0,s.withKeys)((e=>n.toRename=null),["esc"]))],onBlur:t[5]||(t[5]=e=>n.toRename=null)},null,40,Te)),[[v]]):((0,s.openBlock)(),(0,s.createElementBlock)(s.Fragment,{key:1},[(0,s.createElementVNode)("a",{href:"#"+e.row.id,onClick:(0,s.withModifiers)((t=>r.readFolder(e.row.id)),["prevent"])},(0,s.toDisplayString)(e.row.name),9,Pe),(0,s.createElementVNode)("button",{class:"btn webfont-icon-only tooltip mr-1 rename display-only-on-hover ml-2","data-tooltip":"Umbenennen",onClick:t=>n.toRename=e.row}," ",8,Ie)],64))],64)):((0,s.openBlock)(),(0,s.createElementBlock)(s.Fragment,{key:1},[e.row===n.toRename?(0,s.withDirectives)(((0,s.openBlock)(),(0,s.createElementBlock)("input",{key:0,class:"form-input",value:e.row.name,onKeydown:[t[6]||(t[6]=(0,s.withKeys)(((...e)=>r.renameFile&&r.renameFile(...e)),["enter"])),t[7]||(t[7]=(0,s.withKeys)((e=>n.toRename=null),["esc"]))],onBlur:t[8]||(t[8]=e=>n.toRename=null)},null,40,$e)),[[v]]):((0,s.openBlock)(),(0,s.createElementBlock)(s.Fragment,{key:1},[(0,s.createElementVNode)("span",null,(0,s.toDisplayString)(e.row.name),1),(0,s.createElementVNode)("button",{class:"btn webfont-icon-only tooltip mr-1 rename display-only-on-hover ml-2","data-tooltip":"Umbenennen",onClick:t=>n.toRename=e.row}," ",8,Oe)],64))],64))])),size:(0,s.withCtx)((e=>[e.row.isFolder?(0,s.createCommentVNode)("",!0):((0,s.openBlock)(),(0,s.createElementBlock)(s.Fragment,{key:0},[(0,s.createTextVNode)((0,s.toDisplayString)(r.formatFilesize(e.row.size,",")),1)],64))])),type:(0,s.withCtx)((e=>[e.row.image?((0,s.openBlock)(),(0,s.createElementBlock)("img",{key:0,src:e.row.src,alt:""},null,8,Me)):((0,s.openBlock)(),(0,s.createElementBlock)("span",Re,(0,s.toDisplayString)(e.row.type),1))])),_:2},[(0,s.renderList)(e.$slots,((t,o)=>({name:o,fn:(0,s.withCtx)((t=>[(0,s.renderSlot)(e.$slots,o,(0,s.normalizeProps)((0,s.guardReactiveProps)(t)))]))})))]),1032,["rows","columns","sort-prop","sort-direction"]),n.showFileForm||n.showFolderForm?((0,s.openBlock)(),(0,s.createElementBlock)("div",Le,[Ae,(0,s.createElementVNode)("div",_e,[(0,s.createElementVNode)("div",ze,[(0,s.createElementVNode)("a",{href:"#close",class:"btn btn-clear float-right","aria-label":"Close",onClick:t[10]||(t[10]=(0,s.withModifiers)((e=>n.showFileForm=n.showFolderForm=!1),["prevent"]))})]),(0,s.createElementVNode)("div",Ue,[n.showFileForm?((0,s.openBlock)(),(0,s.createBlock)(m,{key:0,"initial-data":n.editFormData,"file-info":n.editMetaData,url:o.routes.updateFile,onResponseReceived:t[11]||(t[11]=t=>e.$emit("response-received",t))},null,8,["initial-data","file-info","url"])):(0,s.createCommentVNode)("",!0),n.showFolderForm?((0,s.openBlock)(),(0,s.createBlock)(p,{key:1,"initial-data":n.editFormData,"folder-info":n.editMetaData,url:o.routes.updateFolder,onResponseReceived:t[12]||(t[12]=t=>e.$emit("response-received",t))},null,8,["initial-data","folder-info","url"])):(0,s.createCommentVNode)("",!0)])])])):(0,s.createCommentVNode)("",!0),(0,s.createVNode)(f,{ref:"confirm",config:{cancelLabel:"Abbrechen",okLabel:"Löschen",okClass:"btn-error"}},null,512),(0,s.createVNode)(g,{ref:"alert",config:{label:"Ok",buttonClass:"btn-error"}},null,512),(0,s.createVNode)(b,{ref:"folder-tree"},null,512)],34)}const qe=(0,s.createElementVNode)("label",{class:"btn with-webfont-icon-left btn-link","data-icon":"",for:"file_upload"},"Datei hochladen",-1),We=["multiple"];function Ze(e,t,o,i,n,r){const l=(0,s.resolveDirective)("focus");return(0,s.openBlock)(),(0,s.createElementBlock)("div",null,[n.showAddFolderInput?(0,s.withDirectives)(((0,s.openBlock)(),(0,s.createElementBlock)("input",{key:0,class:"form-input",onKeydown:[t[0]||(t[0]=(0,s.withKeys)(((...e)=>r.addFolder&&r.addFolder(...e)),["enter"])),t[1]||(t[1]=(0,s.withKeys)((e=>n.showAddFolderInput=!1),["esc"]))],onBlur:t[2]||(t[2]=e=>n.showAddFolderInput=!1)},null,544)),[[l]]):(0,s.createCommentVNode)("",!0),n.showAddFolderInput?(0,s.createCommentVNode)("",!0):((0,s.openBlock)(),(0,s.createElementBlock)("button",{key:1,class:"btn with-webfont-icon-left btn-link",type:"button","data-icon":"",onClick:t[3]||(t[3]=(0,s.withModifiers)((e=>n.showAddFolderInput=!0),["stop"]))},"Verzeichnis erstellen ")),qe,(0,s.createElementVNode)("input",{type:"file",id:"file_upload",class:"d-none",multiple:o.multiple,onChange:t[4]||(t[4]=(...e)=>r.fileChanged&&r.fileChanged(...e))},null,40,We)])}const Ke={mounted:e=>e.focus()},Je={name:"filemanager-add",emits:["upload","create-folder"],props:{multiple:{type:Boolean,default:!0}},data(){return{showAddFolderInput:!1}},methods:{fileChanged(e){const t=e.target.files||e.dataTransfer.files;t&&this.$emit("upload",t)},addFolder(e){const t=e.target.value.trim();t&&this.$emit("create-folder",t),this.showAddFolderInput=!1}},directives:{focus:Ke}},He=(0,l.Z)(Je,[["render",Ze]]),Ge=He,Ye={key:0,class:"mx-2"},Xe=["data-tooltip"],Qe=["data-tooltip"];function et(e,t,o,i,n,r){return o.files.length||o.folders.length?((0,s.openBlock)(),(0,s.createElementBlock)("div",Ye,[(0,s.createElementVNode)("button",{class:"btn btn-link webfont-icon-only tooltip","data-tooltip":o.files.length+o.folders.length+" gewählte Dateien/Ordner löschen",type:"button",onClick:t[0]||(t[0]=(...e)=>r.confirmDelete&&r.confirmDelete(...e))},"",8,Xe),(0,s.createElementVNode)("button",{class:"btn btn-link webfont-icon-only tooltip","data-tooltip":o.files.length+o.folders.length+" gewählte Dateien/Ordner verschieben",type:"button",onClick:t[1]||(t[1]=(...e)=>r.pickFolder&&r.pickFolder(...e))},"",8,Qe)])):(0,s.createCommentVNode)("",!0)}const tt={name:"filemanager-actions",emits:["delete-selection","move-selection"],props:{files:{type:Array,default:()=>[]},folders:{type:Array,default:()=>[]}},methods:{async confirmDelete(){await this.$parent.$refs.confirm.open("Auswahl löschen","Selektierte Dateien/Ordner wirklich löschen?")&&this.$emit("delete-selection")},async pickFolder(){this.$emit("move-selection")}}},st=(0,l.Z)(tt,[["render",et]]),ot=st,it={class:"has-icon-right"},nt={key:0,class:"form-icon loading"},rt={key:0,class:"modal-container",style:{position:"fixed",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},lt={class:"modal-header"},at=(0,s.createElementVNode)("div",{class:"modal-title h5"},"Gefundene Dateien und Ordner…",-1),ct={class:"modal-body"},dt={key:0,class:"divider"},ht=(0,s.createElementVNode)("br",null,null,-1),ut={class:"text-gray"};function mt(e,t,o,i,n,r){return(0,s.openBlock)(),(0,s.createElementBlock)("div",null,[(0,s.createElementVNode)("div",it,[(0,s.createElementVNode)("input",(0,s.mergeProps)({class:"text-input",onKeydown:t[0]||(t[0]=(0,s.withKeys)(((...e)=>r.handleEsc&&r.handleEsc(...e)),["esc"])),onInput:t[1]||(t[1]=(...e)=>r.handleInput&&r.handleInput(...e)),onFocus:t[2]||(t[2]=(...e)=>r.handleInput&&r.handleInput(...e))},r.inputProps),null,16),n.loading?((0,s.openBlock)(),(0,s.createElementBlock)("i",nt)):(0,s.createCommentVNode)("",!0)]),r.showResults?((0,s.openBlock)(),(0,s.createElementBlock)("div",rt,[(0,s.createElementVNode)("div",lt,[(0,s.createElementVNode)("a",{href:"#close",class:"btn btn-clear float-right","aria-label":"Close",onClick:t[3]||(t[3]=(0,s.withModifiers)((e=>r.showResults=!1),["prevent"]))}),at]),(0,s.createElementVNode)("div",ct,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(n.results.folders||[],(t=>((0,s.openBlock)(),(0,s.createElementBlock)("div",{key:t.id},[(0,s.renderSlot)(e.$slots,"folder",{folder:t},(()=>[(0,s.createTextVNode)((0,s.toDisplayString)(t.name),1)]))])))),128)),n.results.folders.length&&n.results.files.length?((0,s.openBlock)(),(0,s.createElementBlock)("div",dt)):(0,s.createCommentVNode)("",!0),((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(n.results.files||[],(t=>((0,s.openBlock)(),(0,s.createElementBlock)("div",{key:t.id},[(0,s.renderSlot)(e.$slots,"file",{file:t},(()=>[(0,s.createTextVNode)((0,s.toDisplayString)(t.name)+" ("+(0,s.toDisplayString)(t.type)+")",1),ht,(0,s.createElementVNode)("span",ut,(0,s.toDisplayString)(t.path),1)]))])))),128))])])):(0,s.createCommentVNode)("",!0)])}const pt={name:"filemanager-search",data(){return{value:"",results:{files:[],folders:[]},loading:!1,hideDialog:!1}},props:{placeholder:{type:String,default:"Datei/Verzeichnis suchen..."},search:{type:Function,required:!0}},computed:{inputProps(){return{value:this.value,placeholder:this.placeholder}},showResults:{get(){return this.results.folders.length||this.results.files.length},set(e){e||(this.results.folders=[],this.results.files=[])}}},methods:{handleInput(e){this.value=e.target.value;const t=this.search(this.value);t instanceof Promise?(this.loading=!0,t.then((({files:e,folders:t})=>{this.results.files=e||[],this.results.folders=t||[],this.loading=!1}))):this.results=Object.assign({},this.results,t)},handleEsc(){this.value="",this.showResults=!1}}},ft=(0,l.Z)(pt,[["render",mt]]),gt=ft,bt={class:"btn-group"},yt=["onClick"];function vt(e,t,o,i,n,r){return(0,s.openBlock)(),(0,s.createElementBlock)("span",bt,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(n.items,((t,i)=>((0,s.openBlock)(),(0,s.createElementBlock)("button",{class:(0,s.normalizeClass)(["btn",{active:t.folder===o.currentFolder}]),key:i,onClick:s=>e.$emit("breadcrumb-clicked",t.folder)},(0,s.toDisplayString)(t.name),11,yt)))),128))])}const kt={name:"filemanager-breadcrumbs",emits:["breadcrumb-clicked"],data(){return{items:[]}},props:{breadcrumbs:Array,folders:Array,currentFolder:Number},watch:{breadcrumbs(e){(e.length>=this.items.length||0!==this.items.map((e=>e.folder)).join().indexOf(e.map((e=>e.folder)).join()))&&(this.items=e)},folders:{deep:!0,handler(e){let t=this.items.findIndex((e=>e.folder===this.currentFolder));if(this.items[t+1]){let s=e.findIndex((({id:e})=>e===this.items[t+1].folder));-1===s?this.items=this.items.slice(0,t+1):this.items[t+1].name=e[s].name}}}}},wt=(0,l.Z)(kt,[["render",vt]]),xt=wt,Et={class:"modal-container"},Ct={class:"modal-header"},Dt={class:"modal-title h5"},Vt={class:"modal-body"};function Nt(e,t,o,i,n,r){const l=(0,s.resolveComponent)("simple-tree");return(0,s.openBlock)(),(0,s.createElementBlock)("div",{ref:"container",class:(0,s.normalizeClass)(["modal",{active:n.show}])},[(0,s.createElementVNode)("div",Et,[(0,s.createElementVNode)("div",Ct,[(0,s.createElementVNode)("a",{href:"#close",class:"btn btn-clear float-right","aria-label":"Close",onClick:t[0]||(t[0]=(0,s.withModifiers)(((...e)=>r.cancel&&r.cancel(...e)),["prevent"]))}),(0,s.createElementVNode)("div",Dt,(0,s.toDisplayString)(o.title),1)]),(0,s.createElementVNode)("div",Vt,[(0,s.createVNode)(l,{branch:n.root,onBranchSelected:r.folderSelected},null,8,["branch","onBranchSelected"])])])],2)}async function Bt(e,t="GET",s={},o=null){!s["X-CSRF-Token"]&&document.querySelector('meta[name="csrf-token"]')&&(s["X-CSRF-Token"]=document.querySelector('meta[name="csrf-token"]').getAttribute("content")),s["X-Requested-With"]="XMLHttpRequest";const i=await fetch(e,{method:t.toUpperCase(),body:o,headers:s});return await i.json()}const St={create(e,t={}){return e+(-1!==e.indexOf("?")?"&":"?")+this.objectToSearch(t)},searchToObject(e){return Object.fromEntries(new URLSearchParams(e))},objectToSearch(e){return new URLSearchParams(e).toString()}},Ft={name:"folder-tree",components:{"simple-tree":he},data(){return{show:!1,resolve:null,reject:null,root:{}}},props:{title:{type:String,default:"Zielordner wählen"}},methods:{async open(e,t){return this.root=await Bt(St.create(e,{folder:t})),this.show=!0,new Promise(((e,t)=>{this.resolve=e,this.reject=t}))},cancel(){this.show=!1,this.resolve(!1)},folderSelected(e){this.show=!1,this.resolve(e)}}},Tt=(0,l.Z)(Ft,[["render",Nt]]),Pt=Tt,It={class:"modal-container"},$t={key:0,class:"modal-header bg-error text-light"},Ot={class:"modal-title h5"},Mt={class:"modal-body"},Rt={class:"content"},Lt={class:"modal-footer"};function At(e,t,o,i,n,r){return(0,s.openBlock)(),(0,s.createElementBlock)("div",{ref:"container",class:(0,s.normalizeClass)(["modal modal-sm",{active:n.show}]),onKeydown:t[3]||(t[3]=(0,s.withKeys)((0,s.withModifiers)(((...e)=>r.cancel&&r.cancel(...e)),["stop"]),["esc"]))},[(0,s.createElementVNode)("a",{href:"#close",class:"modal-overlay",onClick:t[0]||(t[0]=(0,s.withModifiers)(((...e)=>r.cancel&&r.cancel(...e)),["prevent"]))}),(0,s.createElementVNode)("div",It,[n.title?((0,s.openBlock)(),(0,s.createElementBlock)("div",$t,[(0,s.createElementVNode)("div",Ot,(0,s.toDisplayString)(n.title),1)])):(0,s.createCommentVNode)("",!0),(0,s.createElementVNode)("div",Mt,[(0,s.createElementVNode)("div",Rt,(0,s.toDisplayString)(n.message),1)]),(0,s.createElementVNode)("div",Lt,[(0,s.createElementVNode)("button",{type:"button",class:(0,s.normalizeClass)(["btn mr-2",n.options.okClass]),onClick:t[1]||(t[1]=(0,s.withModifiers)(((...e)=>r.ok&&r.ok(...e)),["prevent"])),ref:"okButton"},(0,s.toDisplayString)(n.options.okLabel),3),(0,s.createElementVNode)("button",{type:"button",class:"btn btn-link",onClick:t[2]||(t[2]=(0,s.withModifiers)(((...e)=>r.cancel&&r.cancel(...e)),["prevent"]))},(0,s.toDisplayString)(n.options.cancelLabel),1)])])],34)}const _t={name:"confirm",props:{config:{type:Object}},data(){return{title:"",message:"",show:!1,resolve:null,reject:null,options:{okLabel:"Ok",cancelLabel:"Cancel",okClass:"btn-success"}}},watch:{config(){this.options=Object.assign({},this.options,this.config)}},created(){this.options=Object.assign({},this.options,this.config)},methods:{open(e,t,s){return this.title=e,this.message=t,this.show=!0,this.$nextTick((()=>this.$refs.okButton.focus())),this.options=Object.assign(this.options,s||{}),new Promise(((e,t)=>{this.resolve=e,this.reject=t}))},ok(){this.show=!1,this.resolve(!0)},cancel(){this.show=!1,this.resolve(!1)}}},zt=(0,l.Z)(_t,[["render",At]]),Ut=zt,jt=(0,s.createElementVNode)("div",{class:"modal-overlay"},null,-1),qt={class:"modal-container"},Wt={key:0,class:"modal-header bg-error text-light"},Zt={class:"modal-title h5"},Kt={class:"modal-body"},Jt={class:"content"},Ht={class:"modal-footer"};function Gt(e,t,o,i,n,r){return(0,s.openBlock)(),(0,s.createElementBlock)("div",{ref:"container",class:(0,s.normalizeClass)(["modal modal-sm",{active:n.show}])},[jt,(0,s.createElementVNode)("div",qt,[n.title?((0,s.openBlock)(),(0,s.createElementBlock)("div",Wt,[(0,s.createElementVNode)("div",Zt,(0,s.toDisplayString)(n.title),1)])):(0,s.createCommentVNode)("",!0),(0,s.createElementVNode)("div",Kt,[(0,s.createElementVNode)("div",Jt,(0,s.toDisplayString)(n.message),1)]),(0,s.createElementVNode)("div",Ht,[(0,s.createElementVNode)("button",{type:"button",class:(0,s.normalizeClass)(["btn",n.options.buttonClass]),onClick:t[0]||(t[0]=(0,s.withModifiers)(((...e)=>r.ok&&r.ok(...e)),["prevent"])),ref:"button"},(0,s.toDisplayString)(n.options.label),3)])])],2)}const Yt={name:"alert",props:{config:{type:Object}},data(){return{title:"",message:"",show:!1,resolve:null,reject:null,options:{label:"Ok",buttonClass:"btn-success"}}},watch:{config(){this.options=Object.assign({},this.options,this.config)}},created(){this.options=Object.assign({},this.options,this.config)},methods:{open(e,t,s){return this.title=e,this.message=t,this.show=!0,this.$nextTick((()=>this.$refs.button.focus())),this.options=Object.assign(this.options,s||{}),new Promise(((e,t)=>{this.resolve=e,this.reject=t}))},ok(){this.show=!1,this.resolve(!0)}}},Xt=(0,l.Z)(Yt,[["render",Gt]]),Qt=Xt,es={class:"columns"},ts={class:"column"},ss=["src"],os={class:"column"},is={class:"table"},ns=(0,s.createElementVNode)("td",null,"Typ",-1),rs={key:0},ls=(0,s.createElementVNode)("td",null,"Cache",-1),as=(0,s.createElementVNode)("td",null,"Link",-1),cs=["href"],ds=(0,s.createElementVNode)("div",{class:"divider","data-content":"Metadaten der Datei"},null,-1),hs={class:"form-group"},us=(0,s.createElementVNode)("label",{for:"title_input"},"Titel",-1),ms={class:"form-group"},ps=(0,s.createElementVNode)("label",{for:"subtitle_input"},"Untertitel",-1),fs={class:"form-group"},gs=(0,s.createElementVNode)("label",{for:"description_input"},"Beschreibung",-1),bs=(0,s.createElementVNode)("div",{class:"divider","data-content":"Erweiterte Einstellungen"},null,-1),ys={class:"form-group"},vs=(0,s.createElementVNode)("label",{for:"customsort_input"},"Sortierziffer",-1),ks={class:"form-group"},ws=["disabled"];function xs(e,t,o,i,n,r){return(0,s.openBlock)(),(0,s.createElementBlock)("form",{action:"/",onSubmit:t[5]||(t[5]=(0,s.withModifiers)((()=>{}),["prevent"]))},[(0,s.createElementVNode)("div",es,[(0,s.createElementVNode)("div",ts,[o.fileInfo.thumb?((0,s.openBlock)(),(0,s.createElementBlock)("img",{key:0,src:o.fileInfo.thumb,class:"img-responsive"},null,8,ss)):(0,s.createCommentVNode)("",!0)]),(0,s.createElementVNode)("div",os,[(0,s.createElementVNode)("table",is,[(0,s.createElementVNode)("tr",null,[ns,(0,s.createElementVNode)("td",null,(0,s.toDisplayString)(o.fileInfo.mimetype),1)]),o.fileInfo.cache?((0,s.openBlock)(),(0,s.createElementBlock)("tr",rs,[ls,(0,s.createElementVNode)("td",null,(0,s.toDisplayString)(o.fileInfo.cache.count)+" Files, "+(0,s.toDisplayString)(r.formatFilesize(o.fileInfo.cache.totalSize,",")),1)])):(0,s.createCommentVNode)("",!0),(0,s.createElementVNode)("tr",null,[as,(0,s.createElementVNode)("td",null,[(0,s.createElementVNode)("a",{href:"/"+o.fileInfo.path,target:"_blank"},(0,s.toDisplayString)(o.fileInfo.name),9,cs)])])])])]),ds,(0,s.createElementVNode)("div",hs,[us,(0,s.withDirectives)((0,s.createElementVNode)("input",{id:"title_input",class:(0,s.normalizeClass)(["form-input",{"is-error":r.errors.title}]),"onUpdate:modelValue":t[0]||(t[0]=t=>e.form.title=t),autocomplete:"off"},null,2),[[s.vModelText,e.form.title]])]),(0,s.createElementVNode)("div",ms,[ps,(0,s.withDirectives)((0,s.createElementVNode)("input",{id:"subtitle_input",class:(0,s.normalizeClass)(["form-input",{"is-error":r.errors.subtitle}]),"onUpdate:modelValue":t[1]||(t[1]=t=>e.form.subtitle=t),autocomplete:"off"},null,2),[[s.vModelText,e.form.subtitle]])]),(0,s.createElementVNode)("div",fs,[gs,(0,s.withDirectives)((0,s.createElementVNode)("textarea",{rows:"2",id:"description_input",class:(0,s.normalizeClass)(["form-input",{"is-error":r.errors.description}]),"onUpdate:modelValue":t[2]||(t[2]=t=>e.form.description=t)},null,2),[[s.vModelText,e.form.description]])]),bs,(0,s.createElementVNode)("div",ys,[vs,(0,s.withDirectives)((0,s.createElementVNode)("input",{id:"customsort_input",class:(0,s.normalizeClass)(["form-input col-4",{"is-error":r.errors.customsort}]),"onUpdate:modelValue":t[3]||(t[3]=t=>e.form.customsort=t),autocomplete:"off"},null,2),[[s.vModelText,e.form.customsort]])]),(0,s.createElementVNode)("div",ks,[(0,s.createElementVNode)("button",{type:"button",onClick:t[4]||(t[4]=(...e)=>r.submit&&r.submit(...e)),class:(0,s.normalizeClass)(["btn btn-success col-12",{loading:e.loading}]),disabled:e.loading},"Änderungen speichern ",10,ws)])],32)}function Es(e,t){let s=Math.floor(Math.floor(Math.log(e)/Math.log(1e3)));return(e/Math.pow(1e3,s)).toFixed(s?2:0).toString().replace(".",t||".")+["B","kB","MB","GB"][s]}const Cs={name:"file-edit-form",emits:["response-received"],props:{initialData:{type:Object,default:{}},fileInfo:{type:Object,default:{}},url:{type:String,default:""}},data:()=>({form:{},response:{},loading:!1}),computed:{errors(){return this.response&&this.response.errors||{}},message(){return this.response?this.response.message:""}},watch:{initialData(e){this.form=Object.assign({},this.form,e)}},methods:{async submit(){this.loading=!0;let e={};Object.keys(this.form).forEach((t=>{null!==this.form[t]&&(e[t]=this.form[t])})),this.response=await Bt(this.url,"POST",{},JSON.stringify(e)),this.$emit("response-received",this.response),this.loading=!1},formatFilesize:Es}},Ds=(0,l.Z)(Cs,[["render",xs]]),Vs=Ds,Ns=(0,s.createElementVNode)("div",{class:"divider","data-content":"Metadaten des Ordners"},null,-1),Bs={class:"form-group"},Ss=(0,s.createElementVNode)("label",{for:"title_input"},"Titel",-1),Fs={class:"form-group"},Ts=(0,s.createElementVNode)("label",{for:"description_input"},"Beschreibung",-1),Ps={class:"form-group"},Is=["disabled"];function $s(e,t,o,i,n,r){return(0,s.openBlock)(),(0,s.createElementBlock)("form",{action:"/",onSubmit:t[3]||(t[3]=(0,s.withModifiers)((()=>{}),["prevent"]))},[(0,s.createElementVNode)("div",null,(0,s.toDisplayString)(o.folderInfo.path),1),Ns,(0,s.createElementVNode)("div",Bs,[Ss,(0,s.withDirectives)((0,s.createElementVNode)("input",{id:"title_input",class:(0,s.normalizeClass)(["form-input",{"is-error":r.errors.title}]),"onUpdate:modelValue":t[0]||(t[0]=t=>e.form.title=t),autocomplete:"off"},null,2),[[s.vModelText,e.form.title]])]),(0,s.createElementVNode)("div",Fs,[Ts,(0,s.withDirectives)((0,s.createElementVNode)("textarea",{rows:"2",id:"description_input",class:(0,s.normalizeClass)(["form-input",{"is-error":r.errors.description}]),"onUpdate:modelValue":t[1]||(t[1]=t=>e.form.description=t)},null,2),[[s.vModelText,e.form.description]])]),(0,s.createElementVNode)("div",Ps,[(0,s.createElementVNode)("button",{type:"button",onClick:t[2]||(t[2]=(...e)=>r.submit&&r.submit(...e)),class:(0,s.normalizeClass)(["btn btn-success col-12",{loading:e.loading}]),disabled:e.loading},"Änderungen speichern ",10,Is)])],32)}const Os={name:"folder-edit-form",emits:["response-received"],props:{initialData:{type:Object,default:{}},folderInfo:{type:Object,default:{}},url:{type:String,default:""}},data:()=>({form:{},response:{},loading:!1}),computed:{errors(){return this.response&&this.response.errors||{}},message(){return this.response?this.response.message:""}},watch:{initialData(e){this.form=Object.assign({},this.form,e)}},methods:{async submit(){this.loading=!0;let e={};Object.keys(this.form).forEach((t=>{null!==this.form[t]&&(e[t]=this.form[t])})),this.response=await Bt(this.url,"POST",{},JSON.stringify(e)),this.$emit("response-received",this.response),this.loading=!1}}},Ms=(0,l.Z)(Os,[["render",$s]]),Rs=Ms;function Ls(e,t="GET",s={},o=null,i=null,n=null,r=null){!s["X-CSRF-Token"]&&document.querySelector('meta[name="csrf-token"]')&&(s["X-CSRF-Token"]=document.querySelector('meta[name="csrf-token"]').getAttribute("content")),s["Content-type"]=s["Content-type"]||"application/x-www-form-urlencoded",s["X-Requested-With"]="XMLHttpRequest";let l=new XMLHttpRequest,a=new Promise(((a,c)=>{l.onreadystatechange=()=>{4===l.readyState&&(l.status>=200&&l.status<300?a(JSON.parse(l.responseText)):c({status:l.status,statusText:l.statusText,responseText:l.responseText}))},l.upload.onprogress=n||null,r&&(r.cancel=()=>{l.abort(),c({status:499,statusText:"Request cancelled."})}),l.open(t,e,!0),l.responseType="text",Object.keys(s).forEach((e=>l.setRequestHeader(e,s[e]))),i&&(l.timeout=i,l.ontimeout=()=>{c({status:408,statusText:"Request timeout."})}),l.send(o)}));return a.cancel=()=>l.abort(),a}const As={name:"filemanager",components:{FolderTree:Pt,sortable:Y,"circular-progress":g,confirm:Ut,alert:Qt,"file-edit-form":Vs,"folder-edit-form":Rs,"filemanager-add":Ge,"filemanager-search":gt,"filemanager-actions":ot,"filemanager-breadcrumbs":xt,"filemanager-folder-tree":Pt},data(){return{currentFolder:null,files:[],folders:[],breadcrumbs:[],toRename:null,showAddActivities:!1,indicateDrag:!1,upload:{files:[],progressing:!1,cancelToken:{}},progress:{total:null,loaded:null,file:null},showFileForm:!1,showFolderForm:!1,editFormData:{},editMetaData:{}}},computed:{directoryEntries(){let e=this.folders,t=this.files;return e.forEach((e=>{e.isFolder=!0,e.key="d"+e.id})),t.forEach((e=>e.key=e.id)),[...e,...t]},checkedFiles(){return this.files.filter((({checked:e})=>e))},checkedFolders(){return this.folders.filter((({checked:e})=>e))}},props:{routes:{type:Object,required:!0},limits:{type:Object,default:()=>({})},columns:{type:Array,required:!0},folder:{type:String,default:""},initSort:Object},watch:{folder(e){this.currentFolder=e}},async created(){let e=await Bt(St.create(this.routes.init,{folder:this.folder}));this.breadcrumbs=e.breadcrumbs||[],this.files=e.files||[],this.folders=e.folders||[],this.currentFolder=e.currentFolder||null},mounted(){document.body.addEventListener("click",this.handleBodyClick)},beforeUnmount(){document.body.removeEventListener("click",this.handleBodyClick)},methods:{handleBodyClick(){this.showAddActivities=!1},async readFolder(e){let t=await Bt(St.create(this.routes.readFolder,{folder:e}));t.success&&(this.files=t.files||[],this.folders=t.folders||[],this.currentFolder=e,t.breadcrumbs&&(this.breadcrumbs=t.breadcrumbs))},async delSelection(){let e=await Bt(St.create(this.routes.delSelection,{files:this.checkedFiles.map((({id:e})=>e)).join(","),folders:this.checkedFolders.map((({id:e})=>e)).join(",")}),"DELETE");e.success?(this.files=e.files||[],this.folders=e.folders||[]):e.error&&(this.$emit("response-received",e),this.files=e.files||this.files,this.folders=e.folders||this.folders)},async moveSelection(){let e=await this.$refs["folder-tree"].open(this.routes.getFoldersTree,this.currentFolder);if(!1!==e){let t=await Bt(St.create(this.routes.moveSelection,{destination:e.id}),"POST",{},JSON.stringify({files:this.checkedFiles.map((({id:e})=>e)),folders:this.checkedFolders.map((({id:e})=>e))}));t.success?(this.files=t.files||[],this.folders=t.folders||[]):t.error&&(this.$emit("response-received",t),this.files=t.files||this.files,this.folders=t.folders||this.folders)}},async editFile(e){this.showFileForm=!0;let t=await Bt(St.create(this.routes.getFile,{id:e.id}));this.editFormData=t.form||{},this.editMetaData=t.fileInfo||{},this.editFormData.id=e.id},async editFolder(e){this.showFolderForm=!0;let t=await Bt(St.create(this.routes.getFolder,{id:e.id}));this.editFormData=t.form||{},this.editMetaData=t.folderInfo||{},this.editFormData.id=e.id},async delFile(e){if(await this.$refs.confirm.open("Datei löschen","'"+e.name+"' wirklich löschen?")){let t=await Bt(St.create(this.routes.delFile,{id:e.id}),"DELETE");t.success&&this.files.splice(this.files.findIndex((t=>e===t)),1)}},async renameFile(e){let t=e.target.value.trim();if(t&&this.toRename){let e=await Bt(this.routes.renameFile,"POST",{},JSON.stringify({name:t,id:this.toRename.id}));e.success&&(this.toRename.name=e.name||t,this.toRename=null)}},async renameFolder(e){let t=e.target.value.trim();if(t&&this.toRename){let e=await Bt(this.routes.renameFolder,"POST",{},JSON.stringify({name:t,folder:this.toRename.id}));e.success&&(this.toRename.name=e.name||t,this.toRename=null)}},async delFolder(e){if(await this.$refs.confirm.open("Verzeichnis löschen","'"+e.name+"' und enthaltene Dateien wirklich löschen?",{cancelLabel:"Abbrechen"})){let t=await Bt(St.create(this.routes.delFolder,{folder:e.id}),"DELETE");t.success&&this.folders.splice(this.folders.findIndex((t=>e===t)),1)}},async createFolder(e){this.showAddActivities=!1;let t=await Bt(this.routes.addFolder,"POST",{},JSON.stringify({name:e,parent:this.currentFolder}));t.folder&&this.folders.push(t.folder)},async moveFile(e){let t=await this.$refs["folder-tree"].open(this.routes.getFoldersTree,this.currentFolder);if(!1!==t){let s=await Bt(this.routes.moveFile,"POST",{},JSON.stringify({id:e.id,folderId:t.id}));s.success?this.files.splice(this.files.findIndex((t=>e===t)),1):this.$emit("response-received",s)}},uploadDraggedFiles(e){this.indicateDrag=!1,this.uploadInputFiles(e.dataTransfer.files||[])},uploadInputFiles(e){this.showAddActivities=!1,this.upload.files.push(...e),this.upload.progressing||(this.upload.progressing=!0,this.progress.loaded=0,this.handleUploads())},async handleUploads(){let e=null,t=null;while(void 0!==(e=this.upload.files.shift()))if(this.limits.maxUploadFilesize&&this.limits.maxUploadFilesize<e.size)await this.$refs.alert.open("Datei zu groß","'"+e.name+"' übersteigt die maximale Uploadgröße.");else{this.progress.file=e.name;try{t=await Ls(St.create(this.routes.uploadFile,{folder:this.currentFolder}),"POST",{"Content-type":e.type||"application/octet-stream","X-File-Name":e.name.replace(/[^\x00-\x7F]/g,(e=>encodeURIComponent(e))),"X-File-Size":e.size,"X-File-Type":e.type},e,null,(e=>{this.progress.total=e.total,this.progress.loaded=e.loaded}),this.upload.cancelToken),this.files=t.files||this.files}catch(s){return this.upload.files=[],void(this.upload.progressing=!1)}if(!t.success)return this.$emit("response-received",t),this.upload.files=[],void(this.upload.progressing=!1)}this.upload.progressing=!1,t&&this.$emit("response-received",{success:!0,message:t.message||"File upload successful"})},cancelUpload(){this.upload.cancelToken.cancel&&(this.upload.cancelToken.cancel(),this.upload.cancelToken={})},doSearch(e){return e.trim().length>2?Bt(St.create(this.routes.search,{search:e})):{files:[],folders:[]}},formatFilesize:Es},directives:{focus:Ke,checkIndeterminate:{updated(e,t,s){let o=t.instance.checkedFolders.length+t.instance.checkedFiles.length;o||(e.checked=!1),e.indeterminate=o&&o!==t.instance.folders.length+t.instance.files.length}}}},_s=(0,l.Z)(As,[["render",je]]),zs=_s,Us=["data-badge","onClick"],js={key:0,class:"tab-item tab-action"};function qs(e,t,o,i,n,r){return(0,s.openBlock)(),(0,s.createElementBlock)("div",null,[o.items.length?((0,s.openBlock)(),(0,s.createElementBlock)("ul",{key:0,class:(0,s.normalizeClass)(["tab",{"tab-block":o.block}])},[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(o.items,((e,t)=>((0,s.openBlock)(),(0,s.createElementBlock)("li",{key:t,class:(0,s.normalizeClass)(["tab-item",{active:o.activeIndex===t}])},[(0,s.createElementVNode)("a",{"data-badge":e.badge,onClick:t=>r.itemOnClick(e),class:(0,s.normalizeClass)({disabled:e.disabled})},(0,s.toDisplayString)(e.name),11,Us)],2)))),128)),r.hasActionSlot?((0,s.openBlock)(),(0,s.createElementBlock)("li",js,[(0,s.renderSlot)(e.$slots,"action")])):(0,s.createCommentVNode)("",!0)],2)):(0,s.createCommentVNode)("",!0)])}const Ws={name:"tab",emits:["update:active-index"],props:{items:{type:Array,default:()=>[]},activeIndex:{type:Number,default:0},block:{type:Boolean,default:!1}},data(){return{activeTab:{}}},computed:{hasActionSlot(){return!!this.$slots.action}},created(){this.activeTab=this.items[this.activeIndex]||{}},watch:{activeIndex(e){this.activeTab=this.items[e]||{}}},methods:{itemOnClick(e){e.disabled||(this.activeTab=e,this.$emit("update:active-index",this.items.indexOf(e)))}}},Zs=(0,l.Z)(Ws,[["render",qs]]),Ks=Zs,Js={class:"form-group is-password"},Hs=["value","type"];function Gs(e,t,o,i,n,r){return(0,s.openBlock)(),(0,s.createElementBlock)("div",Js,[(0,s.createElementVNode)("input",(0,s.mergeProps)(e.$attrs,{value:o.modelValue,class:"form-input",type:n.show?"text":"password",onInput:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.target.value))}),null,16,Hs),(0,s.createElementVNode)("a",{class:(0,s.normalizeClass)({show:n.show}),href:"#",onClick:t[1]||(t[1]=(0,s.withModifiers)((e=>n.show=!n.show),["prevent"]))},null,2)])}const Ys={name:"password-input",inheritAttrs:!1,props:["modelValue"],emits:["update:modelValue"],data(){return{show:!1}}};o(63);const Xs=(0,l.Z)(Ys,[["render",Gs],["__scopeId","data-v-0aec82d5"]]),Qs=Xs,eo={class:"content"},to={class:"buttons"},so=["target","href"];function oo(e,t,o,i,n,r){return(0,s.openBlock)(),(0,s.createBlock)(s.Transition,{appear:"",name:o.transitionName},{default:(0,s.withCtx)((()=>[n.isOpen?((0,s.openBlock)(),(0,s.createElementBlock)("div",{key:0,class:(0,s.normalizeClass)(["cookie-consent",r.containerPosition])},[(0,s.renderSlot)(e.$slots,"default",{accept:r.accept,close:r.close,decline:r.decline,open:r.open},(()=>[(0,s.createElementVNode)("div",eo,[(0,s.renderSlot)(e.$slots,"message",{},(()=>[(0,s.createTextVNode)((0,s.toDisplayString)(o.message),1)]))]),(0,s.createElementVNode)("div",to,[o.buttonLink?((0,s.openBlock)(),(0,s.createElementBlock)("a",{key:0,target:r.target,href:o.buttonLink,class:"btn-link"},(0,s.toDisplayString)(o.buttonLinkText),9,so)):(0,s.createCommentVNode)("",!0),(0,s.createElementVNode)("button",{onClick:t[0]||(t[0]=(...e)=>r.accept&&r.accept(...e)),class:"btn-accept"},(0,s.toDisplayString)(o.buttonText),1),o.buttonDecline?((0,s.openBlock)(),(0,s.createElementBlock)("button",{key:1,onClick:t[1]||(t[1]=(...e)=>r.decline&&r.decline(...e)),class:"btn-decline"},(0,s.toDisplayString)(o.buttonDeclineText),1)):(0,s.createCommentVNode)("",!0)])]))],2)):(0,s.createCommentVNode)("",!0)])),_:3},8,["name"])}function io(e){const t=parseInt(e,10);let s=new Date;switch(e.charAt(e.length-1)){case"Y":s.setFullYear(s.getFullYear()+t);break;case"M":s.setMonth(s.getMonth()+t);break;case"D":s.setDate(s.getDate()+t);break;case"h":s.setHours(s.getHours()+t);break;case"m":s.setMinutes(s.getMinutes()+t);break;case"s":s.setSeconds(s.getSeconds()+t);break;default:s=new Date(e)}return s}function no(e){let t="";return Object.getOwnPropertyNames(e).forEach((s=>{if(/^expires$/i.test(s)){let o=e[s];"object"!==typeof o&&(o+="number"===typeof o?"D":"",o=io(o)),t+=";"+s+"="+o.toUTCString()}else/^secure$/.test(s)?e[s]&&(t+=";"+s):t+=";"+s+"="+e[s]})),e.hasOwnProperty("path")||(t+=";path=/"),t}function ro(e){const t=co(e);return t?decodeURIComponent(t):null}function lo(e,t,s={}){document.cookie=e+"="+encodeURIComponent(t)+no(s)}function ao(e,t={}){return lo(e,"x",{...t,expires:-1})}function co(e){if(!e||"string"!==typeof e)return null;const t=e.replace(/[.*+?^$|[\](){}\\-]/g,"\\$&"),s=new RegExp("(?:^|; )"+t+"(?:=([^;]*))?(?:;|$)").exec(document.cookie);return null===s?null:s[1]}const ho={name:"cookie-consent",emits:["accept","decline","revoke"],props:{buttonText:{type:String,default:"Ok"},buttonDecline:{type:Boolean,default:!1},buttonDeclineText:{type:String,default:"Decline"},buttonLink:{type:String,required:!1},buttonLinkText:{type:String,default:"More info"},buttonLinkNewTab:{type:Boolean,default:!0},message:{type:String,default:"This website uses cookies to ensure you get the best experience on our website."},position:{type:String,default:"bottom"},transitionName:{type:String,default:"fade"},storageName:{type:String,default:"cookie:accepted"},cookieOptions:{type:Object,default:()=>({}),required:!1}},data(){return{isOpen:!1}},computed:{containerPosition(){return this.position},target(){return this.buttonLinkNewTab?"_blank":"_self"}},created(){this.getVisited()||(this.isOpen=!0)},mounted(){this.isAccepted()&&this.$emit("accept")},methods:{setVisited(){lo(this.storageName,!0,{...this.cookieOptions,expires:"1Y"})},getVisited(){let e=!1;return e=ro(this.storageName),"string"===typeof e&&(e=JSON.parse(e)),!(null===e||void 0===e)},isAccepted(){let e=!1;return e=ro(this.storageName),"string"===typeof e&&(e=JSON.parse(e)),e},accept(){lo(this.storageName,!0,{...this.cookieOptions,expires:"1Y"}),this.setVisited(),this.isOpen=!1,this.$emit("accept")},decline(){lo(this.storageName,!1,{...this.cookieOptions,expires:"1Y"}),this.setVisited(),this.isOpen=!1,this.$emit("decline")},revoke(){ao(this.storageName),this.isOpen=!0,this.$emit("revoke")},open(){this.getVisited()||(this.isOpen=!0)},close(){this.isOpen=!1,this.$emit("close")}}},uo=(0,l.Z)(ho,[["render",oo]]),mo=uo,po={class:"pagination"},fo=["onClick"],go={key:1};function bo(e,t,o,i,n,r){return(0,s.openBlock)(),(0,s.createElementBlock)("div",null,[(0,s.createElementVNode)("ul",po,[o.showNavButtons?((0,s.openBlock)(),(0,s.createElementBlock)("li",{key:0,class:(0,s.normalizeClass)(["page-item",{disabled:n.currentPage<=1}])},[(0,s.createElementVNode)("a",{tabindex:"-1",onClick:t[0]||(t[0]=(...e)=>r.prevPage&&r.prevPage(...e)),class:"menu-item"},(0,s.toDisplayString)(o.prevText),1)],2)):(0,s.createCommentVNode)("",!0),((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(r.pagesToShow,((e,t)=>((0,s.openBlock)(),(0,s.createElementBlock)("li",{key:t,class:(0,s.normalizeClass)(["page-item",{active:n.currentPage===e}])},["dots"!==e?((0,s.openBlock)(),(0,s.createElementBlock)("a",{key:0,onClick:t=>r.pageClick(e)},(0,s.toDisplayString)(e),9,fo)):((0,s.openBlock)(),(0,s.createElementBlock)("span",go,"…"))],2)))),128)),o.showNavButtons?((0,s.openBlock)(),(0,s.createElementBlock)("li",{key:1,class:(0,s.normalizeClass)(["page-item",{disabled:n.currentPage>=n.maxPage}])},[(0,s.createElementVNode)("a",{tabindex:"-1",onClick:t[1]||(t[1]=(...e)=>r.nextPage&&r.nextPage(...e))},(0,s.toDisplayString)(o.nextText),1)],2)):(0,s.createCommentVNode)("",!0)])])}const yo={name:"pagination",emits:["update:page","update:total"],props:{items:Array,total:{type:Number,default:1},page:{type:Number,default:1},perPage:{type:Number,default:20},showNavButtons:{type:Boolean,default:!0},prevText:{type:String,default:"Previous"},nextText:{type:String,default:"Next"},showAllPages:{type:Boolean,default:!1},onPageChange:Function},data(){return{currentPage:1,maxPage:0,showPerPage:20,dataItems:void 0}},created(){this.currentPage=this.page,this.totalResults=this.total,this.showPerPage=this.perPage,"undefined"!==typeof this.items&&(this.dataItems=this.items,this.totalResults=this.items.length),this.countMaxPage(),"function"===typeof this.onPageChange&&this.onPageChange.apply(null,[this.currentPage,this.dataResults,this.maxPage])},methods:{pageClick(e){this.currentPage=e,this.$emit("update:page",e),"function"===typeof this.onPageChange&&this.onPageChange.apply(null,[e,this.dataResults,this.maxPage])},prevPage(){this.currentPage>1&&this.pageClick(this.currentPage-1)},nextPage(){this.currentPage<this.maxPage&&this.pageClick(this.currentPage+1)},countMaxPage(){this.maxPage=Math.ceil(this.totalResults/this.showPerPage)}},watch:{page(e){e<1?e=1:e>this.maxPage&&(e=this.maxPage),this.currentPage=e,"function"===typeof this.onPageChange&&this.onPageChange.apply(null,[this.currentPage,this.dataResults,this.maxPage])},total(e){e<0&&(e=0),this.totalResults=e,this.countMaxPage(),this.pageClick(1)},perPage(e){e<1&&(e=20),this.showPerPage=e,this.countMaxPage(),this.pageClick(1)},items(e){this.dataItems=e,this.totalResults=this.dataItems.length,this.$emit("update:total",this.totalResults),this.countMaxPage(),this.pageClick(1)}},computed:{dataResults(){if("undefined"!==typeof this.dataItems&&this.dataItems.length>0){let e=(this.currentPage-1)*this.showPerPage,t=this.currentPage*this.showPerPage;return this.dataItems.slice(e,t)}return null},pagesToShow(){let e=[1];if(!0===this.showAllPages||this.maxPage<=7){let t=2;for(;t<=this.maxPage;++t)e.push(t);return e}return this.currentPage>=this.maxPage?(e.push("dots"),e.push(this.currentPage-2),e.push(this.currentPage-1)):this.currentPage-1&&this.currentPage-1>1&&(this.currentPage-1>2&&e.push("dots"),e.push(this.currentPage-1)),this.currentPage>1&&e.push(this.currentPage),this.currentPage+1<this.maxPage&&(e.push(this.currentPage+1),this.currentPage<=1&&e.push(this.currentPage+2),this.currentPage+2<this.maxPage&&e.push("dots")),this.currentPage<this.maxPage&&e.push(this.maxPage),e}}},vo=(0,l.Z)(yo,[["render",bo]]),ko=vo,wo={class:"ckeditor"},xo=["name","id","value","types","config","disabled"];function Eo(e,t,o,i,n,r){return(0,s.openBlock)(),(0,s.createElementBlock)("div",wo,[(0,s.createElementVNode)("textarea",{name:o.name,id:o.id,value:o.modelValue,types:o.types,config:o.config,disabled:o.readOnlyMode},"\n    ",8,xo)])}let Co=(new Date).getTime();const Do={name:"vue-ckeditor",emits:["blur","focus","contentDom","dialogDefinition","fileUploadRequest","fileUploadResponse","update:modelValue"],props:{modelValue:String,name:{type:String,default:"editor-"+ ++Co},id:{type:String,default:`editor-${Co}`},types:{type:String,default:"classic"},config:{type:Object,default:{}},instanceReadyCallback:Function,readOnlyMode:{type:Boolean,default:!1}},data:()=>({instanceValue:""}),computed:{instance(){return CKEDITOR.instances[this.id]}},watch:{modelValue(e){try{this.instance&&this.update(e)}catch(t){}},readOnlyMode(e){this.instance.setReadOnly(e)}},mounted(){"undefined"===typeof CKEDITOR?console.log("CKEDITOR is missing (http://ckeditor.com/)"):("inline"===this.types?CKEDITOR.inline(this.id,this.config):CKEDITOR.replace(this.id,this.config),this.instance.setData(this.modelValue),this.instance.on("instanceReady",(()=>{this.instance.setData(this.modelValue)})),this.instance.on("change",this.onChange),this.instance.on("mode",this.onMode),this.instance.on("blur",(e=>{this.$emit("blur",e)})),this.instance.on("focus",(e=>{this.$emit("focus",e)})),this.instance.on("contentDom",(e=>{this.$emit("contentDom",e)})),CKEDITOR.on("dialogDefinition",(e=>{this.$emit("dialogDefinition",e)})),this.instance.on("fileUploadRequest",(e=>{this.$emit("fileUploadRequest",e)})),this.instance.on("fileUploadResponse",(e=>{this.$nextTick((()=>{this.onChange()})),this.$emit("fileUploadResponse",e)})),"undefined"!==typeof this.instanceReadyCallback&&this.instance.on("instanceReady",this.instanceReadyCallback))},beforeUnmount(){try{let e=window["CKEDITOR"];e.instances&&e.instances[this.id]&&e.instances[this.id].destroy()}catch(e){}},methods:{update(e){this.instanceValue!==e&&(this.instance.setData(e,{internal:!1}),this.instanceValue=e)},onMode(){if("source"===this.instance.mode){let e=this.instance.editable();e.attachListener(e,"input",(()=>{this.onChange()}))}},onChange(){let e=this.instance.getData();e!==this.modelValue&&(this.$emit("update:modelValue",e),this.instanceValue=e)}}},Vo=(0,l.Z)(Do,[["render",Eo]]),No=Vo,Bo={class:"form-sect"},So={class:"form-sect"},Fo={class:"form-group"},To=["for"],Po={class:"col-9"},Io={key:0,class:"form-input-hint vx-error-box error"},$o=(0,s.createElementVNode)("div",{class:"divider text-center","data-content":"Benachrichtigungen"},null,-1),Oo={class:"form-sect off-3"},Mo={class:"form-group"},Ro={class:"form-switch"},Lo=["value"],Ao=(0,s.createElementVNode)("i",{class:"form-icon"},null,-1),_o=(0,s.createElementVNode)("div",{class:"divider"},null,-1),zo={class:"form-base"},Uo={class:"form-group off-3"},jo=["disabled"];function qo(e,t,o,i,n,r){return(0,s.openBlock)(),(0,s.createElementBlock)("form",{action:"/",class:"form-horizontal",onSubmit:t[2]||(t[2]=(0,s.withModifiers)((()=>{}),["prevent"]))},[(0,s.createElementVNode)("div",Bo,[(0,s.createElementVNode)("div",So,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(n.elements,(e=>((0,s.openBlock)(),(0,s.createElementBlock)("div",Fo,[(0,s.createElementVNode)("label",{class:(0,s.normalizeClass)(["form-label col-3",{required:e.required,"text-error":r.errors[e.model]}]),for:e.model+"_"+e.type},(0,s.toDisplayString)(e.label),11,To),(0,s.createElementVNode)("div",Po,[((0,s.openBlock)(),(0,s.createBlock)((0,s.resolveDynamicComponent)(e.type||"form-input"),{id:e.model+"_"+e.type,name:e.model,modelValue:n.form[e.model],"onUpdate:modelValue":t=>n.form[e.model]=t},null,8,["id","name","modelValue","onUpdate:modelValue"])),r.errors[e.model]?((0,s.openBlock)(),(0,s.createElementBlock)("p",Io,(0,s.toDisplayString)(r.errors[e.model]),1)):(0,s.createCommentVNode)("",!0)])])))),256))])]),o.notifications.length?((0,s.openBlock)(),(0,s.createElementBlock)(s.Fragment,{key:0},[$o,(0,s.createElementVNode)("div",Oo,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(o.notifications,(e=>((0,s.openBlock)(),(0,s.createElementBlock)("div",Mo,[(0,s.createElementVNode)("label",Ro,[(0,s.withDirectives)((0,s.createElementVNode)("input",{name:"notification[]",value:e.alias,type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=e=>n.form.notifications=e)},null,8,Lo),[[s.vModelCheckbox,n.form.notifications]]),Ao,(0,s.createTextVNode)((0,s.toDisplayString)(e.label),1)])])))),256))])],64)):(0,s.createCommentVNode)("",!0),_o,(0,s.createElementVNode)("div",zo,[(0,s.createElementVNode)("div",Uo,[(0,s.createElementVNode)("button",{name:"submit_profile",type:"button",class:(0,s.normalizeClass)(["btn btn-success",{loading:n.loading}]),disabled:n.loading,onClick:t[1]||(t[1]=(...e)=>r.submit&&r.submit(...e))},"Änderungen speichern",10,jo)])])],32)}const Wo={components:{"password-input":Qs,"form-input":x},props:{url:{type:String,required:!0},initialData:{type:Object,default:()=>({})},notifications:{type:Array}},data(){return{form:{},response:{},loading:!1,elements:[{model:"username",label:"Username",attrs:{maxlength:128,autocomplete:"off"},required:!0},{model:"email",label:"E-Mail",attrs:{maxlength:128,autocomplete:"off"},required:!0},{model:"name",label:"Name",attrs:{maxlength:128,autocomplete:"off"},required:!0},{type:"password-input",model:"new_PWD",label:"Neues Passwort",attrs:{maxlength:128,autocomplete:"off"}},{type:"password-input",model:"new_PWD_verify",label:"Passwort wiederholen",attrs:{maxlength:128,autocomplete:"off"}}]}},computed:{errors(){return this.response&&this.response.errors||{}},message(){return this.response?this.response.message:""}},watch:{initialData(e){this.form=e}},methods:{async submit(){this.loading=!0,this.$emit("request-sent"),this.response=await Bt(this.url,"post",{},JSON.stringify(this.form)),this.loading=!1,this.$emit("response-received")}}},Zo=(0,l.Z)(Wo,[["render",qo]]),Ko=Zo,Jo={class:"form-sect"},Ho={class:"form-group"},Go=["for"],Yo={class:"col-9"},Xo={key:0,class:"form-input-hint vx-error-box error"},Qo=(0,s.createElementVNode)("div",{class:"divider"},null,-1),ei={class:"form-base"},ti={class:"form-group off-3"},si=["disabled"];function oi(e,t,o,i,n,r){return(0,s.openBlock)(),(0,s.createElementBlock)("form",{action:"/",class:"form-horizontal",onSubmit:t[1]||(t[1]=(0,s.withModifiers)((()=>{}),["prevent"]))},[(0,s.createElementVNode)("div",Jo,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(e.elements,(t=>((0,s.openBlock)(),(0,s.createElementBlock)("div",Ho,[(0,s.createElementVNode)("label",{class:(0,s.normalizeClass)(["form-label col-3",{required:t.required,"text-error":r.errors[t.model]}]),for:t.model+"_"+t.type},(0,s.toDisplayString)(t.label),11,Go),(0,s.createElementVNode)("div",Yo,[((0,s.openBlock)(),(0,s.createBlock)((0,s.resolveDynamicComponent)(t.type||"form-input"),{id:t.model+"_"+t.type,name:t.model,modelValue:e.form[t.model],"onUpdate:modelValue":s=>e.form[t.model]=s,options:t.options},null,8,["id","name","modelValue","onUpdate:modelValue","options"])),r.errors[t.model]?((0,s.openBlock)(),(0,s.createElementBlock)("p",Xo,(0,s.toDisplayString)(r.errors[t.model]),1)):(0,s.createCommentVNode)("",!0)])])))),256))]),Qo,(0,s.createElementVNode)("div",ei,[(0,s.createElementVNode)("div",ti,[(0,s.createElementVNode)("button",{name:"submit_user",type:"button",class:(0,s.normalizeClass)(["btn btn-success",{loading:e.loading}]),disabled:e.loading,onClick:t[0]||(t[0]=(...e)=>r.submit&&r.submit(...e))},(0,s.toDisplayString)(e.form.id?"Daten übernehmen":"User anlegen"),11,si)])])],32)}const ii=["value"],ni=["value","selected"];function ri(e,t,o,i,n,r){return(0,s.openBlock)(),(0,s.createElementBlock)("select",(0,s.mergeProps)(e.$attrs,{value:o.modelValue,class:"form-select",onChange:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.target.value))}),[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(o.options,(e=>((0,s.openBlock)(),(0,s.createElementBlock)("option",{value:e.key||e.label||e,selected:(e.key||e.label||e)==o.modelValue},(0,s.toDisplayString)(e.label||e),9,ni)))),256))],16,ii)}const li={name:"form-select",props:{options:Array,modelValue:[String,Number]},emits:["update:modelValue"]},ai=(0,l.Z)(li,[["render",ri]]),ci=ai,di={components:{"password-input":Qs,"form-input":x,"form-select":ci},props:{url:{type:String,required:!0},initialData:{type:Object,default:()=>({})},options:Object},data:()=>({form:{},response:{},loading:!1,elements:[{model:"username",label:"Username",attrs:{maxlength:128,autocomplete:"off"},required:!0},{model:"email",label:"E-Mail",attrs:{maxlength:128,autocomplete:"off"},required:!0},{model:"name",label:"Name",attrs:{maxlength:128,autocomplete:"off"},required:!0},{type:"form-select",model:"admingroupsid",label:"Gruppe",required:!0,options:[]},{type:"password-input",model:"new_PWD",label:"Neues Passwort",attrs:{maxlength:128,autocomplete:"off"}},{type:"password-input",model:"new_PWD_verify",label:"Passwort wiederholen",attrs:{maxlength:128,autocomplete:"off"}}]}),computed:{errors(){return this.response&&this.response.errors||{}},message(){return this.response?this.response.message:""}},watch:{initialData(e){this.form=e},options(e){this.elements[this.elements.findIndex((({model:e})=>"admingroupsid"===e))].options=e.admingroups}},methods:{async submit(){this.loading=!0,this.$emit("request-sent"),this.response=await Bt(this.url,"post",{},JSON.stringify(this.form)),this.loading=!1,this.$emit("response-received")}}},hi=(0,l.Z)(di,[["render",oi]]),ui=hi,mi={class:"form-group"},pi=["for"],fi={class:"col-9"},gi=(0,s.createElementVNode)("div",{class:"divider"},null,-1),bi={class:"form-group"},yi=["disabled"];function vi(e,t,o,i,n,r){return(0,s.openBlock)(),(0,s.createElementBlock)("form",{action:"/",class:"form-horizontal",onSubmit:t[1]||(t[1]=(0,s.withModifiers)((()=>{}),["prevent"]))},[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(n.elements,(e=>((0,s.openBlock)(),(0,s.createElementBlock)("div",mi,[(0,s.createElementVNode)("label",{class:(0,s.normalizeClass)(["form-label col-3",{required:e.required,"text-error":r.errors[e.model]}]),for:e.model+"_"+e.type},(0,s.toDisplayString)(e.label),11,pi),(0,s.createElementVNode)("div",fi,[((0,s.openBlock)(),(0,s.createBlock)((0,s.resolveDynamicComponent)(e.type||"form-input"),(0,s.mergeProps)({id:e.model+"_"+e.type,name:e.model,options:e.options,modelValue:n.form[e.model],"onUpdate:modelValue":t=>n.form[e.model]=t},e.attrs),null,16,["id","name","options","modelValue","onUpdate:modelValue"]))])])))),256)),gi,(0,s.createElementVNode)("div",bi,[(0,s.createElementVNode)("button",{type:"button",onClick:t[0]||(t[0]=(...e)=>r.submit&&r.submit(...e)),class:(0,s.normalizeClass)(["btn btn-success off-3 col-3",{loading:n.loading}]),disabled:n.loading},(0,s.toDisplayString)(n.form.id?"Daten übernehmen":"Artikel anlegen"),11,yi)])],32)}const ki=["value"];function wi(e,t,o,i,n,r){return(0,s.openBlock)(),(0,s.createElementBlock)("textarea",{value:o.modelValue,class:"form-input",onInput:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.target.value))},null,40,ki)}const xi={name:"form-textarea",props:["modelValue"],emits:["update:modelValue"]},Ei=(0,l.Z)(xi,[["render",wi]]),Ci=Ei,Di={class:"form-checkbox"},Vi=["checked"],Ni=(0,s.createElementVNode)("i",{class:"form-icon"},null,-1);function Bi(e,t,o,i,n,r){return(0,s.openBlock)(),(0,s.createElementBlock)("label",Di,[(0,s.createElementVNode)("input",(0,s.mergeProps)({value:"1",type:"checkbox",onChange:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.target.checked))},e.$attrs,{checked:o.modelValue}),null,16,Vi),Ni,(0,s.renderSlot)(e.$slots,"default")])}const Si={name:"form-checkbox",inheritAttrs:!1,props:["modelValue"],emits:["update:modelValue"]},Fi=(0,l.Z)(Si,[["render",Bi]]),Ti=Fi,Pi={components:{"vue-ckeditor":No,datepicker:W,"form-input":x,"form-textarea":Ci,"form-select":ci,"form-checkbox":Ti},props:{url:{type:String,required:!0},initialData:{type:Object,default:()=>({})},options:Object,editorConfig:Object},data(){return{elements:[{type:"datepicker",model:"article_date",label:"Artikeldatum",attrs:{"input-format":"d.m.y","output-format":"d.m.y","day-names":"Mo Di Mi Do Fr Sa So".split(" "),"month-names":"Jan Feb Mär Apr Mai Jun Jul Aug Sep Okt Nov Dez".split(" ")}},{type:"datepicker",model:"display_from",label:"Anzeige von",attrs:{"input-format":"d.m.y","output-format":"d.m.y","day-names":"Mo Di Mi Do Fr Sa So".split(" "),"month-names":"Jan Feb Mär Apr Mai Jun Jul Aug Sep Okt Nov Dez".split(" "),"valid-from":new Date}},{type:"datepicker",model:"display_until",label:"Anzeige bis",attrs:{"input-format":"d.m.y","output-format":"d.m.y","day-names":"Mo Di Mi Do Fr Sa So".split(" "),"month-names":"Jan Feb Mär Apr Mai Jun Jul Aug Sep Okt Nov Dez".split(" "),"valid-from":new Date}},{model:"customsort",label:"generische Sortierung",attrs:{class:"col-2",maxlength:4}},{type:"form-checkbox",model:"customflags",label:"Markiert"},{type:"form-select",model:"articlecategoriesid",label:"Kategorie",required:!0,options:[]},{model:"headline",label:"Überschrift/Titel",required:!0},{model:"subline",label:"Unterüberschrift"},{type:"form-textarea",model:"teaser",label:"Anrisstext"},{type:"vue-ckeditor",model:"content",label:"Inhalt",required:!0,attrs:{config:this.editorConfig}}],form:{},response:{},loading:!1}},computed:{errors(){return this.response&&this.response.errors||{}},message(){return this.response?this.response.message:""}},watch:{initialData(e){this.form=Object.assign({},this.form,e),this.setDates()},options(e){this.elements[this.elements.findIndex((({model:e})=>"articlecategoriesid"===e))].options=e.categories}},mounted(){this.form=Object.assign({},this.form,this.initialData),this.setDates()},methods:{async submit(){this.loading=!0;let e=Object.assign({},this.form);Object.keys(e).forEach((t=>{e[t]instanceof Date&&(e[t]=e[t].getFullYear()+"-"+(e[t].getMonth()+1)+"-"+e[t].getDate())})),this.response=await Bt(this.url,"post",{},JSON.stringify(e)),this.form.id=this.response.id||this.form.id,this.$emit("response-received",this.response),this.loading=!1},setDates(){["article_date","display_from","display_until"].forEach((e=>{!this.form[e]||this.form[e]instanceof Date||(this.form[e]=new Date(this.form[e]))}))}}},Ii=(0,l.Z)(Pi,[["render",vi]]),$i=Ii,Oi={class:"columns"},Mi={class:"column col-8"},Ri={class:"form-group"},Li=(0,s.createElementVNode)("label",{class:"form-label",for:"alias_input"},"Eindeutiger Name",-1),Ai=["value","disabled"],_i={key:0,class:"form-input-hint vx-error-box error"},zi={class:"form-group"},Ui=(0,s.createElementVNode)("label",{class:"form-label",for:"title_input"},"Titel",-1),ji={key:0,class:"form-input-hint vx-error-box error"},qi={class:"form-group"},Wi=(0,s.createElementVNode)("label",{class:"form-label"},"Inhalt",-1),Zi={class:"column col-4"},Ki={class:"form-group"},Ji=(0,s.createElementVNode)("label",{class:"form-label",for:"keywords_input"},"Schlüsselwörter",-1),Hi={class:"form-group"},Gi=(0,s.createElementVNode)("label",{class:"form-label",for:"description_input"},"Beschreibung",-1),Yi=(0,s.createElementVNode)("div",{class:"divider","data-content":"Revisionen"},null,-1),Xi={id:"revisionsContainer"},Qi=(0,s.createElementVNode)("div",{class:"divider"},null,-1),en={class:"form-base"},tn={class:"form-group"},sn=["disabled"];function on(e,t,o,i,n,r){const l=(0,s.resolveComponent)("vue-ckeditor"),a=(0,s.resolveComponent)("revision-table");return(0,s.openBlock)(),(0,s.createElementBlock)("form",{action:"/",onSubmit:t[9]||(t[9]=(0,s.withModifiers)((()=>{}),["prevent"]))},[(0,s.createElementVNode)("div",Oi,[(0,s.createElementVNode)("div",Mi,[(0,s.createElementVNode)("div",Ri,[Li,(0,s.createElementVNode)("input",{id:"alias_input",value:e.form.alias,onInput:t[0]||(t[0]=t=>e.form.alias=t.target.value.toUpperCase()),class:"form-input",disabled:"edit"===o.mode,maxlength:"64"},null,40,Ai),r.errors.alias?((0,s.openBlock)(),(0,s.createElementBlock)("p",_i,(0,s.toDisplayString)(r.errors.alias),1)):(0,s.createCommentVNode)("",!0)]),(0,s.createElementVNode)("div",zi,[Ui,(0,s.withDirectives)((0,s.createElementVNode)("input",{id:"title_input","onUpdate:modelValue":t[1]||(t[1]=t=>e.form.title=t),class:"form-input",maxlength:"128"},null,512),[[s.vModelText,e.form.title]]),r.errors.title?((0,s.openBlock)(),(0,s.createElementBlock)("p",ji,(0,s.toDisplayString)(r.errors.title),1)):(0,s.createCommentVNode)("",!0)]),(0,s.createElementVNode)("div",qi,[Wi,(0,s.createVNode)(l,{modelValue:e.form.markup,"onUpdate:modelValue":t[2]||(t[2]=t=>e.form.markup=t),config:e.editorConfig},null,8,["modelValue","config"])])]),(0,s.createElementVNode)("div",Zi,[(0,s.createElementVNode)("div",Ki,[Ji,(0,s.withDirectives)((0,s.createElementVNode)("textarea",{id:"keywords_input",class:"form-input",rows:"4","onUpdate:modelValue":t[3]||(t[3]=t=>e.form.keywords=t)},null,512),[[s.vModelText,e.form.keywords]])]),(0,s.createElementVNode)("div",Hi,[Gi,(0,s.withDirectives)((0,s.createElementVNode)("textarea",{id:"description_input",class:"form-input",rows:"4","onUpdate:modelValue":t[4]||(t[4]=t=>e.form.description=t)},null,512),[[s.vModelText,e.form.description]])]),Yi,(0,s.createElementVNode)("div",Xi,[(0,s.createVNode)(a,{revisions:e.revisions,onActivateRevision:t[5]||(t[5]=t=>e.$emit("activate-revision",t)),onLoadRevision:t[6]||(t[6]=t=>e.$emit("load-revision",t)),onDeleteRevision:t[7]||(t[7]=t=>e.$emit("delete-revision",t))},null,8,["revisions"])])])]),Qi,(0,s.createElementVNode)("div",en,[(0,s.createElementVNode)("div",tn,[(0,s.createElementVNode)("button",{name:"submit_page",type:"button",class:(0,s.normalizeClass)(["btn btn-success",{loading:e.loading}]),disabled:e.loading,onClick:t[8]||(t[8]=(...e)=>r.submit&&r.submit(...e))},"Änderungen übernehmen und neue Revision erzeugen",10,sn)])])],32)}const nn={id:"revisions",class:"table table-striped"},rn=(0,s.createElementVNode)("thead",null,[(0,s.createElementVNode)("tr",null,[(0,s.createElementVNode)("th",null,"Angelegt um"),(0,s.createElementVNode)("th",{class:"col-2"}),(0,s.createElementVNode)("th",{class:"col-2"},"aktiv"),(0,s.createElementVNode)("th",{class:"col-2"})])],-1),ln=["onClick"],an={class:"form-switch"},cn=["checked","disabled","onClick"],dn=(0,s.createElementVNode)("i",{class:"form-icon"},null,-1),hn={class:"text-right"},un=["onClick"];function mn(e,t,o,i,n,r){return(0,s.openBlock)(),(0,s.createElementBlock)("table",nn,[rn,(0,s.createElementVNode)("tbody",null,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(r.sortedRevisions,(t=>((0,s.openBlock)(),(0,s.createElementBlock)("tr",{key:t.id},[(0,s.createElementVNode)("td",null,(0,s.toDisplayString)(r.formatDateTime(t.firstCreated,"y-mm-dd h:i:s")),1),(0,s.createElementVNode)("td",null,[(0,s.createElementVNode)("button",{class:"btn btn-link webfont-icon-only tooltip",type:"button","data-tooltip":"Ansicht",onClick:s=>e.$emit("load-revision",t)},"",8,ln)]),(0,s.createElementVNode)("td",null,[(0,s.createElementVNode)("label",an,[(0,s.createElementVNode)("input",{type:"checkbox",checked:t.active,disabled:t.active,onClick:s=>e.$emit("activate-revision",t)},null,8,cn),dn])]),(0,s.createElementVNode)("td",hn,[t.active?(0,s.createCommentVNode)("",!0):((0,s.openBlock)(),(0,s.createElementBlock)("button",{key:0,class:"btn btn-primary webfont-icon-only tooltip tooltip-left",type:"button","data-tooltip":"Löschen",onClick:s=>e.$emit("delete-revision",t)},"",8,un))])])))),128))])])}const pn={props:{revisions:{type:Array,default:[]}},computed:{sortedRevisions(){return this.revisions.slice().sort(((e,t)=>e.firstCreated<t.firstCreated?1:-1))}},methods:{formatDateTime:A.formatDate}},fn=(0,l.Z)(pn,[["render",mn]]),gn=fn,bn={name:"page-form",components:{"vue-ckeditor":No,"revision-table":gn},props:{mode:{type:String,default:"edit"},url:{type:String,required:!0},formData:{type:Object,default:()=>{}},revisionsData:{type:Array,default:()=>{}}},data:()=>({form:{},revisions:[],response:{},loading:!1,editorConfig:{allowedContent:!0,autoParagraph:!1,customConfig:"",toolbar:[["Maximize","-","Source"],["Undo","Redo","-","Cut","Copy","Paste","PasteText","PasteFromWord"],["Find","Replace"],["Bold","Italic","Subscript","Superscript","-","CopyFormatting","RemoveFormat","-","TextColor","BGColor"],["NumberedList","BulletedList","-","Blockquote"],["Link","Unlink"],["Image","Table","SpecialChar"],["Styles","Format"],["ShowBlocks"]],height:"24rem",contentsCss:["/css/site.css","/css/site_edit.css"],filebrowserBrowseUrl:null,filebrowserImageBrowseUrl:null}}),computed:{errors(){return this.response&&this.response.errors||{}},message(){return this.response?this.response.message:""}},watch:{formData(e){this.form=Object.assign({},this.form,e)},revisionsData(e){this.revisions=e.slice()}},created(){this.editorConfig.filebrowserBrowseUrl=this.$parent.$options.routes.fileBrowse,this.editorConfig.filebrowserImageBrowseUrl=this.$parent.$options.routes.fileBrowse+"?filter=image"},methods:{async submit(){this.loading=!0,this.$emit("request-sent"),this.response=await Bt(this.url,"post",{},JSON.stringify(this.form)),this.loading=!1,this.$emit("response-received",this.response)}}},yn=(0,l.Z)(bn,[["render",on]]),vn=yn;var kn=o(247);const wn={MessageToast:c,CircularProgress:g,Autocomplete:V,DatePicker:W,Sortable:Y,SimpleTree:he,Filemanager:zs,SlickList:kn.SlickList,SlickItem:kn.SlickItem,Tab:Ks,Confirm:Ut,Alert:Qt,PasswordInput:Qs,CookieConsent:mo,Pagination:ko,VueCkeditor:No,ProfileForm:Ko,UserForm:ui,ArticleForm:$i,PageForm:vn},xn={formatFilesize:Es},En={Focus:Ke,Handle:kn.HandleDirective},Cn={SimpleFetch:Bt,PromisedXhr:Ls,UrlQuery:St,DateFunctions:A},Dn={Slicksort:kn.plugin}})(),i})()));
//# sourceMappingURL=vxweb.umd.min.js.map