<?xml version="1.0" encoding="UTF-8"?>

<config>

	<pages script="admin.php" default_redirect="login">
		<page id="login" controller="admin/login" />
		<page id="logout" controller="admin/logout" />

		<page id="profile" controller="admin/profile" auth="observe_row" />
		<page id="profile_data_get" path="profile_data" controller="admin/profile" method="getProfileData" auth="observe_row" request_methods="GET" />

		<page id="pages" controller="admin/pages" auth="superadmin" />
		<page id="pagesXhr" controller="admin/pages" method="xhrExecute" auth="superadmin" />
        <page id="inlineEditXhr" controller="admin/pages" method="updateInlineEdit" path="pages/inline" auth="superadmin" />

		<page id="users" controller="admin/users" path="users/{action=}" auth="superadmin" />
		<page id="user_data_get" path="users/user_data" controller="admin/users" method="getUserData" auth="superadmin" request_methods="GET" />
		<page id="user_data_post" path="users/user_data" controller="admin/users" method="postUserData" auth="superadmin" request_methods="POST" />

		<page id="articles" controller="admin/articles" path="articles/{action=}" auth="privileged" />
		<page id="publishXhr" controller="admin/articles" method="xhrPublish" auth="superadmin" />
		<page id="articlesXhr" controller="admin/articles" method="xhrExecute" auth="privileged" />

		<page id="files" controller="admin/files" auth="privileged" />
		<page id="filepicker" controller="admin/files" auth="privileged" />
		<page id="filesXhr" controller="admin/files" method="xhrExecute" auth="privileged" />
		<page id="filepickerXhr" controller="admin/files" method="xhrExecute" auth="privileged" />
		<page id="fileincludeXhr" controller="admin/files" method="xhrExecute" auth="privileged" />
		<page id="uploadXhr" controller="admin/files" method="xhrUpload" auth="privileged" />
	</pages>

	<pages script="installer.php">
		<page id="installer" controller="installer/installer"/>
	</pages>

	<menus>
		<menu id="admin" script="admin.php" auth="privileged">
			<menuentry page="articles" text="Artikel"/>
			<menuentry page="files" text="Dateien"/>
			<menuentry page="pages" text="Seiten" auth="superadmin"/>
			<menuentry page="users" text="User" auth="superadmin"/>
		</menu>
	</menus>

	<paths>
		<path id="mysql_log_path" subdir="log"/>
		<path id="css_path" subdir="css"/>
		<path id="js_path" subdir="js"/>
		<path id="tpl_path" subdir="view"/>
		<path id="formtemplates_path" subdir="view/forms"/>
		<path id="editable_tpl_path" subdir="view/default" />
		<path id="img_site_path" subdir="img/site"/>
		<path id="locale_path" subdir="locales"/>
		<path id="files_path" subdir="files" />
	</paths>

	<services>
		<service id="bruteforce_throttler" class="App/Service/vxWeb/BruteforceThrottler">
			<parameter name="whitelisted_ips" value="127.0.0.1"/>
		</service>
	</services>

	<templating>
		<filters>
			<filter id="admin_overlay" class="App/Filter/vxWeb/AdminOverlay"/>
		</filters>
	</templating>
</config>